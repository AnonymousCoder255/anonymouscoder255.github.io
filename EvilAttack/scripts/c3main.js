// Generated by Construct, the game and animation creation tool
// Visit: https://www.construct.net

{let P=function(t){bh=t},k=function(t){return t*Ph},F=function(t,s){return Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},j=function(){var t=new bh(4);return bh!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},z=function(t){var s=new bh(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},B=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},U=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},W=function(t,s,i,e){var h=new bh(4);return h[0]=t,h[1]=s,h[2]=i,h[3]=e,h},Q=function(t,s,i,e,h){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t},Y=function(t,s){var i;return t===s?(i=s[1],t[1]=s[2],t[2]=i):(t[0]=s[0],t[1]=s[2],t[2]=s[1],t[3]=s[3]),t},J=function(t,s){var i=s[0],e=s[1],h=s[2],n=i*(s=s[3])-h*e;return n?(t[0]=s*(n=1/n),t[1]=-e*n,t[2]=-h*n,t[3]=i*n,t):null},V=function(t,s){var i=s[0];return t[0]=s[3],t[1]=-s[1],t[2]=-s[2],t[3]=i,t},H=function(t){return t[0]*t[3]-t[2]*t[1]},t=function(t,s,i){var e=s[0],h=s[1],n=s[2],s=s[3],r=i[0],o=i[1],a=i[2],i=i[3];return t[0]=e*r+n*o,t[1]=h*r+s*o,t[2]=e*a+n*i,t[3]=h*a+s*i,t},q=function(t,s,i){var e=s[0],h=s[1],n=s[2],s=s[3],r=Math.sin(i),i=Math.cos(i);return t[0]=e*i+n*r,t[1]=h*i+s*r,t[2]=e*-r+n*i,t[3]=h*-r+s*i,t},X=function(t,s,i){var e=s[0],h=s[1],n=s[2],s=s[3],r=i[0],i=i[1];return t[0]=e*r,t[1]=h*r,t[2]=n*i,t[3]=s*i,t},Z=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=i,t[2]=-i,t[3]=s,t},K=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t},$=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},tt=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},st=function(t,s,i,e){return t[2]=e[2]/e[0],i[0]=e[0],i[1]=e[1],i[3]=e[3]-t[2]*i[1],[t,s,i]},it=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t},s=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t},et=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},ht=function(t,s){var i=t[0],e=t[1],h=t[2],t=t[3],n=s[0],r=s[1],o=s[2],s=s[3];return Math.abs(i-n)<=Th*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(e-r)<=Th*Math.max(1,Math.abs(e),Math.abs(r))&&Math.abs(h-o)<=Th*Math.max(1,Math.abs(h),Math.abs(o))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},nt=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t},rt=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t},ot=function(){var t=new bh(6);return bh!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},at=function(t){var s=new bh(6);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s},ut=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t},lt=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},ct=function(t,s,i,e,h,n){var r=new bh(6);return r[0]=t,r[1]=s,r[2]=i,r[3]=e,r[4]=h,r[5]=n,r},ft=function(t,s,i,e,h,n,r){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t[4]=n,t[5]=r,t},dt=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=s[4],s=s[5],o=i*n-e*h;return o?(t[0]=n*(o=1/o),t[1]=-e*o,t[2]=-h*o,t[3]=i*o,t[4]=(h*s-n*r)*o,t[5]=(e*r-i*s)*o,t):null},pt=function(t){return t[0]*t[3]-t[1]*t[2]},i=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],s=s[5],a=i[0],u=i[1],l=i[2],c=i[3],f=i[4],i=i[5];return t[0]=e*a+n*u,t[1]=h*a+r*u,t[2]=e*l+n*c,t[3]=h*l+r*c,t[4]=e*f+n*i+o,t[5]=h*f+r*i+s,t},mt=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],s=s[5],a=Math.sin(i),i=Math.cos(i);return t[0]=e*i+n*a,t[1]=h*i+r*a,t[2]=e*-a+n*i,t[3]=h*-a+r*i,t[4]=o,t[5]=s,t},gt=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],s=s[5],a=i[0],i=i[1];return t[0]=e*a,t[1]=h*a,t[2]=n*i,t[3]=r*i,t[4]=o,t[5]=s,t},yt=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],s=s[5],a=i[0],i=i[1];return t[0]=e,t[1]=h,t[2]=n,t[3]=r,t[4]=e*a+n*i+o,t[5]=h*a+r*i+s,t},Mt=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=i,t[2]=-i,t[3]=s,t[4]=0,t[5]=0,t},wt=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t[4]=0,t[5]=0,t},St=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=s[0],t[5]=s[1],t},Tt=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},bt=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)},vt=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t},e=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t},xt=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t},It=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t},Gt=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]},Ct=function(t,s){var i=t[0],e=t[1],h=t[2],n=t[3],r=t[4],t=t[5],o=s[0],a=s[1],u=s[2],l=s[3],c=s[4],s=s[5];return Math.abs(i-o)<=Th*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(e-a)<=Th*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(h-u)<=Th*Math.max(1,Math.abs(h),Math.abs(u))&&Math.abs(n-l)<=Th*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-c)<=Th*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},h=function(){var t=new bh(9);return bh!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},_t=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[4],t[4]=s[5],t[5]=s[6],t[6]=s[8],t[7]=s[9],t[8]=s[10],t},Et=function(t){var s=new bh(9);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s},At=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},Dt=function(t,s,i,e,h,n,r,o,a){var u=new bh(9);return u[0]=t,u[1]=s,u[2]=i,u[3]=e,u[4]=h,u[5]=n,u[6]=r,u[7]=o,u[8]=a,u},Nt=function(t,s,i,e,h,n,r,o,a,u){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t[4]=n,t[5]=r,t[6]=o,t[7]=a,t[8]=u,t},Lt=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Ot=function(t,s){var i,e,h;return t===s?(i=s[1],e=s[2],h=s[5],t[1]=s[3],t[2]=s[6],t[3]=i,t[5]=s[7],t[6]=e,t[7]=h):(t[0]=s[0],t[1]=s[3],t[2]=s[6],t[3]=s[1],t[4]=s[4],t[5]=s[7],t[6]=s[2],t[7]=s[5],t[8]=s[8]),t},Rt=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=s[4],o=s[5],a=s[6],u=s[7],l=(s=s[8])*r-o*u,c=-s*n+o*a,f=u*n-r*a,d=i*l+e*c+h*f;return d?(t[0]=l*(d=1/d),t[1]=(-s*e+h*u)*d,t[2]=(o*e-h*r)*d,t[3]=c*d,t[4]=(s*i-h*a)*d,t[5]=(-o*i+h*n)*d,t[6]=f*d,t[7]=(-u*i+e*a)*d,t[8]=(r*i-e*n)*d,t):null},Pt=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=s[4],o=s[5],a=s[6],u=s[7],s=s[8];return t[0]=r*s-o*u,t[1]=h*u-e*s,t[2]=e*o-h*r,t[3]=o*a-n*s,t[4]=i*s-h*a,t[5]=h*n-i*o,t[6]=n*u-r*a,t[7]=e*a-i*u,t[8]=i*r-e*n,t},kt=function(t){var s=t[0],i=t[3],e=t[4],h=t[5],n=t[6],r=t[7],o=t[8];return s*(o*e-h*r)+t[1]*(-o*i+h*n)+t[2]*(r*i-e*n)},n=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=s[7],s=s[8],c=i[0],f=i[1],d=i[2],p=i[3],m=i[4],g=i[5],y=i[6],M=i[7],i=i[8];return t[0]=c*e+f*r+d*u,t[1]=c*h+f*o+d*l,t[2]=c*n+f*a+d*s,t[3]=p*e+m*r+g*u,t[4]=p*h+m*o+g*l,t[5]=p*n+m*a+g*s,t[6]=y*e+M*r+i*u,t[7]=y*h+M*o+i*l,t[8]=y*n+M*a+i*s,t},Ft=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=s[7],s=s[8],c=i[0],i=i[1];return t[0]=e,t[1]=h,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t[6]=c*e+i*r+u,t[7]=c*h+i*o+l,t[8]=c*n+i*a+s,t},jt=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=s[7],s=s[8],c=Math.sin(i),i=Math.cos(i);return t[0]=i*e+c*r,t[1]=i*h+c*o,t[2]=i*n+c*a,t[3]=i*r-c*e,t[4]=i*o-c*h,t[5]=i*a-c*n,t[6]=u,t[7]=l,t[8]=s,t},zt=function(t,s,i){var e=i[0],i=i[1];return t[0]=e*s[0],t[1]=e*s[1],t[2]=e*s[2],t[3]=i*s[3],t[4]=i*s[4],t[5]=i*s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},Bt=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=s[0],t[7]=s[1],t[8]=1,t},Ut=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=i,t[2]=0,t[3]=-i,t[4]=s,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Wt=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=s[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Qt=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=0,t[3]=s[2],t[4]=s[3],t[5]=0,t[6]=s[4],t[7]=s[5],t[8]=1,t},Yt=function(t,s){var i=s[0],e=s[2],h=e+e,i=i*(u=i+i),n=(r=s[1])*u,r=r*(l=r+r),o=e*u,a=e*l,u=(s=s[3])*u,l=s*l,s=s*h;return t[0]=1-r-(e=e*h),t[3]=n-s,t[6]=o+l,t[1]=n+s,t[4]=1-i-e,t[7]=a-u,t[2]=o-l,t[5]=a+u,t[8]=1-i-r,t},Jt=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=s[4],o=s[5],a=s[6],u=s[7],l=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=i*o-e*r,M=i*a-h*r,w=i*u-n*r,S=e*a-h*o,T=e*u-n*o,b=h*u-n*a,v=l*m-c*p,x=l*g-f*p,I=c*g-f*m;return(d=y*(f=f*(s=s[15])-d*g)-M*(c=c*s-d*m)+w*I+S*(l=l*s-d*p)-T*x+b*v)?(t[0]=(o*f-a*c+u*I)*(d=1/d),t[1]=(a*l-r*f-u*x)*d,t[2]=(r*c-o*l+u*v)*d,t[3]=(h*c-e*f-n*I)*d,t[4]=(i*f-h*l+n*x)*d,t[5]=(e*l-i*c-n*v)*d,t[6]=(m*b-g*T+s*S)*d,t[7]=(g*w-p*b-s*M)*d,t[8]=(p*T-m*w+s*y)*d,t):null},Vt=function(t,s,i){return t[0]=2/s,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},Ht=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},qt=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},Xt=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t[8]=s[8]+i[8],t},r=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t[6]=s[6]-i[6],t[7]=s[7]-i[7],t[8]=s[8]-i[8],t},Zt=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t[8]=s[8]*i,t},Kt=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t[6]=s[6]+i[6]*e,t[7]=s[7]+i[7]*e,t[8]=s[8]+i[8]*e,t},$t=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]},ts=function(t,s){var i=t[0],e=t[1],h=t[2],n=t[3],r=t[4],o=t[5],a=t[6],u=t[7],t=t[8],l=s[0],c=s[1],f=s[2],d=s[3],p=s[4],m=s[5],g=s[6],y=s[7],s=s[8];return Math.abs(i-l)<=Th*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(e-c)<=Th*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(h-f)<=Th*Math.max(1,Math.abs(h),Math.abs(f))&&Math.abs(n-d)<=Th*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-p)<=Th*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(o-m)<=Th*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-g)<=Th*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(u-y)<=Th*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},ss=function(){var t=new bh(16);return bh!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},is=function(t){var s=new bh(16);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s},es=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},hs=function(t,s,i,e,h,n,r,o,a,u,l,c,f,d,p,m){var g=new bh(16);return g[0]=t,g[1]=s,g[2]=i,g[3]=e,g[4]=h,g[5]=n,g[6]=r,g[7]=o,g[8]=a,g[9]=u,g[10]=l,g[11]=c,g[12]=f,g[13]=d,g[14]=p,g[15]=m,g},ns=function(t,s,i,e,h,n,r,o,a,u,l,c,f,d,p,m,g){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t[4]=n,t[5]=r,t[6]=o,t[7]=a,t[8]=u,t[9]=l,t[10]=c,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=g,t},p=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},rs=function(t,s){var i,e,h,n,r,o;return t===s?(i=s[1],e=s[2],h=s[3],n=s[6],r=s[7],o=s[11],t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=i,t[6]=s[9],t[7]=s[13],t[8]=e,t[9]=n,t[11]=s[14],t[12]=h,t[13]=r,t[14]=o):(t[0]=s[0],t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=s[1],t[5]=s[5],t[6]=s[9],t[7]=s[13],t[8]=s[2],t[9]=s[6],t[10]=s[10],t[11]=s[14],t[12]=s[3],t[13]=s[7],t[14]=s[11],t[15]=s[15]),t},os=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=s[4],o=s[5],a=s[6],u=s[7],l=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=i*o-e*r,M=i*a-h*r,w=i*u-n*r,S=e*a-h*o,T=e*u-n*o,b=h*u-n*a,v=l*m-c*p,x=l*g-f*p,I=l*(s=s[15])-d*p,G=c*g-f*m,C=c*s-d*m,_=f*s-d*g,E=y*_-M*C+w*G+S*I-T*x+b*v;return E?(t[0]=(o*_-a*C+u*G)*(E=1/E),t[1]=(h*C-e*_-n*G)*E,t[2]=(m*b-g*T+s*S)*E,t[3]=(f*T-c*b-d*S)*E,t[4]=(a*I-r*_-u*x)*E,t[5]=(i*_-h*I+n*x)*E,t[6]=(g*w-p*b-s*M)*E,t[7]=(l*b-f*w+d*M)*E,t[8]=(r*C-o*I+u*v)*E,t[9]=(e*I-i*C-n*v)*E,t[10]=(p*T-m*w+s*y)*E,t[11]=(c*w-l*T-d*y)*E,t[12]=(o*x-r*G-a*v)*E,t[13]=(i*G-e*x+h*v)*E,t[14]=(m*M-p*S-g*y)*E,t[15]=(l*S-c*M+f*y)*E,t):null},as=function(t,s){var i=s[0],e=s[1],h=s[2],n=s[3],r=s[4],o=s[5],a=s[6],u=s[7],l=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=i*o-e*r,M=i*a-h*r,w=i*u-n*r,S=e*a-h*o,T=e*u-n*o,b=h*u-n*a,v=l*m-c*p,x=l*g-f*p,I=l*(s=s[15])-d*p,G=c*g-f*m,C=c*s-d*m,_=f*s-d*g;return t[0]=o*_-a*C+u*G,t[1]=h*C-e*_-n*G,t[2]=m*b-g*T+s*S,t[3]=f*T-c*b-d*S,t[4]=a*I-r*_-u*x,t[5]=i*_-h*I+n*x,t[6]=g*w-p*b-s*M,t[7]=l*b-f*w+d*M,t[8]=r*C-o*I+u*v,t[9]=e*I-i*C-n*v,t[10]=p*T-m*w+s*y,t[11]=c*w-l*T-d*y,t[12]=o*x-r*G-a*v,t[13]=i*G-e*x+h*v,t[14]=m*M-p*S-g*y,t[15]=l*S-c*M+f*y,t},us=function(t){var s=t[0],i=t[1],e=t[2],h=t[4],n=t[5],r=t[6],o=t[8],a=t[9],u=t[10],l=t[12],c=t[13],f=t[14],d=s*n-i*h,p=s*r-e*h,m=i*r-e*n,g=o*c-a*l,y=o*f-u*l,M=a*f-u*c;return t[7]*(s*M-i*y+e*g)-t[3]*(h*M-n*y+r*g)+t[15]*(o*m-a*p+u*d)-t[11]*(l*m-c*p+f*d)},o=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=s[8],f=s[9],d=s[10],p=s[11],m=s[12],g=s[13],y=s[14],s=s[15],M=i[0],w=i[1],S=i[2],T=i[3];return t[0]=M*e+w*o+S*c+T*m,t[1]=M*h+w*a+S*f+T*g,t[2]=M*n+w*u+S*d+T*y,t[3]=M*r+w*l+S*p+T*s,t[4]=(M=i[4])*e+(w=i[5])*o+(S=i[6])*c+(T=i[7])*m,t[5]=M*h+w*a+S*f+T*g,t[6]=M*n+w*u+S*d+T*y,t[7]=M*r+w*l+S*p+T*s,t[8]=(M=i[8])*e+(w=i[9])*o+(S=i[10])*c+(T=i[11])*m,t[9]=M*h+w*a+S*f+T*g,t[10]=M*n+w*u+S*d+T*y,t[11]=M*r+w*l+S*p+T*s,t[12]=(M=i[12])*e+(w=i[13])*o+(S=i[14])*c+(T=i[15])*m,t[13]=M*h+w*a+S*f+T*g,t[14]=M*n+w*u+S*d+T*y,t[15]=M*r+w*l+S*p+T*s,t},ls=function(t,s,i){var e,h,n,r,o,a,u,l,c,f,d,p,m=i[0],g=i[1],i=i[2];return s===t?(t[12]=s[0]*m+s[4]*g+s[8]*i+s[12],t[13]=s[1]*m+s[5]*g+s[9]*i+s[13],t[14]=s[2]*m+s[6]*g+s[10]*i+s[14],t[15]=s[3]*m+s[7]*g+s[11]*i+s[15]):(e=s[0],h=s[1],n=s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=s[8],f=s[9],d=s[10],p=s[11],t[0]=e,t[1]=h,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t[6]=u,t[7]=l,t[8]=c,t[9]=f,t[10]=d,t[11]=p,t[12]=e*m+o*g+c*i+s[12],t[13]=h*m+a*g+f*i+s[13],t[14]=n*m+u*g+d*i+s[14],t[15]=r*m+l*g+p*i+s[15]),t},cs=function(t,s,i){var e=i[0],h=i[1],i=i[2];return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*h,t[5]=s[5]*h,t[6]=s[6]*h,t[7]=s[7]*h,t[8]=s[8]*i,t[9]=s[9]*i,t[10]=s[10]*i,t[11]=s[11]*i,t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},fs=function(t,s,i,e){var h,n,r,o,a,u,l,c,f,d,p,m,g,y,M,w,S,T,b,v,x=e[0],I=e[1],e=e[2],G=Math.hypot(x,I,e);return G<Th?null:(x*=G=1/G,I*=G,e*=G,G=Math.sin(i),i=Math.cos(i),n=s[0],r=s[1],o=s[2],a=s[3],l=s[5],c=s[6],f=s[7],p=s[9],m=s[10],g=s[11],M=x*I*(h=1-i)-e*G,w=I*I*h+i,S=e*I*h+x*G,T=x*e*h+I*G,b=I*e*h-x*G,v=e*e*h+i,t[0]=n*(i=x*x*h+i)+(u=s[4])*(y=I*x*h+e*G)+(d=s[8])*(e=e*x*h-I*G),t[1]=r*i+l*y+p*e,t[2]=o*i+c*y+m*e,t[3]=a*i+f*y+g*e,t[4]=n*M+u*w+d*S,t[5]=r*M+l*w+p*S,t[6]=o*M+c*w+m*S,t[7]=a*M+f*w+g*S,t[8]=n*T+u*b+d*v,t[9]=r*T+l*b+p*v,t[10]=o*T+c*b+m*v,t[11]=a*T+f*b+g*v,s!==t&&(t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t)},ds=function(t,s,i){var e=Math.sin(i),i=Math.cos(i),h=s[4],n=s[5],r=s[6],o=s[7],a=s[8],u=s[9],l=s[10],c=s[11];return s!==t&&(t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[4]=h*i+a*e,t[5]=n*i+u*e,t[6]=r*i+l*e,t[7]=o*i+c*e,t[8]=a*i-h*e,t[9]=u*i-n*e,t[10]=l*i-r*e,t[11]=c*i-o*e,t},ps=function(t,s,i){var e=Math.sin(i),i=Math.cos(i),h=s[0],n=s[1],r=s[2],o=s[3],a=s[8],u=s[9],l=s[10],c=s[11];return s!==t&&(t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=h*i-a*e,t[1]=n*i-u*e,t[2]=r*i-l*e,t[3]=o*i-c*e,t[8]=h*e+a*i,t[9]=n*e+u*i,t[10]=r*e+l*i,t[11]=o*e+c*i,t},ms=function(t,s,i){var e=Math.sin(i),i=Math.cos(i),h=s[0],n=s[1],r=s[2],o=s[3],a=s[4],u=s[5],l=s[6],c=s[7];return s!==t&&(t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=h*i+a*e,t[1]=n*i+u*e,t[2]=r*i+l*e,t[3]=o*i+c*e,t[4]=a*i-h*e,t[5]=u*i-n*e,t[6]=l*i-r*e,t[7]=c*i-o*e,t},gs=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t},ys=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=s[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Ms=function(t,s,i){var e,h=i[0],n=i[1],i=i[2],r=Math.hypot(h,n,i);return r<Th?null:(h*=r=1/r,n*=r,i*=r,r=Math.sin(s),s=Math.cos(s),t[0]=h*h*(e=1-s)+s,t[1]=n*h*e+i*r,t[2]=i*h*e-n*r,t[3]=0,t[4]=h*n*e-i*r,t[5]=n*n*e+s,t[6]=i*n*e+h*r,t[7]=0,t[8]=h*i*e+n*r,t[9]=n*i*e-h*r,t[10]=i*i*e+s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},ws=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Ss=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Ts=function(t,s){var i=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},f=function(t,s,i){var e=s[0],h=s[2],n=h+h,r=e*(l=e+e),o=e*(c=(u=s[1])+u),e=e*n,a=u*c,u=u*n,l=(s=s[3])*l,c=s*c,s=s*n;return t[0]=1-(a+(h=h*n)),t[1]=o+s,t[2]=e-c,t[3]=0,t[4]=o-s,t[5]=1-(r+h),t[6]=u+l,t[7]=0,t[8]=e+c,t[9]=u-l,t[10]=1-(r+a),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},bs=function(t,s){var i=new bh(3),e=-s[0],h=-s[1],n=-s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=s[7],c=e*e+h*h+n*n+r*r;return 0<c?(i[0]=2*(o*r+l*e+a*n-u*h)/c,i[1]=2*(a*r+l*h+u*e-o*n)/c,i[2]=2*(u*r+l*n+o*h-a*e)/c):(i[0]=2*(o*r+l*e+a*n-u*h),i[1]=2*(a*r+l*h+u*e-o*n),i[2]=2*(u*r+l*n+o*h-a*e)),f(t,s,i),t},a=function(t,s){return t[0]=s[12],t[1]=s[13],t[2]=s[14],t},d=function(t,s){var i=s[0],e=s[4],h=s[5],n=s[6],r=s[8],o=s[9],a=s[10];return t[0]=Math.hypot(i,s[1],s[2]),t[1]=Math.hypot(e,h,n),t[2]=Math.hypot(r,o,a),t},u=function(t,s){var i=new bh(3),e=(d(i,s),1/i[0]),h=s[0]*e,n=s[1]*(l=1/i[1]),r=s[2]*(i=1/i[2]),o=s[4]*e,a=s[5]*l,u=s[6]*i,e=s[8]*e,l=s[9]*l,c=0;return 0<(i=h+a+(s=s[10]*i))?(c=2*Math.sqrt(1+i),t[3]=.25*c,t[0]=(u-l)/c,t[1]=(e-r)/c,t[2]=(n-o)/c):a<h&&s<h?(c=2*Math.sqrt(1+h-a-s),t[3]=(u-l)/c,t[0]=.25*c,t[1]=(n+o)/c,t[2]=(e+r)/c):s<a?(c=2*Math.sqrt(1+a-h-s),t[3]=(e-r)/c,t[0]=(n+o)/c,t[1]=.25*c,t[2]=(u+l)/c):(c=2*Math.sqrt(1+s-h-a),t[3]=(n-o)/c,t[0]=(e+r)/c,t[1]=(u+l)/c,t[2]=.25*c),t},vs=function(t,s,i,e){s[0]=e[12],s[1]=e[13],s[2]=e[14];var s=e[0],h=e[1],n=e[2],r=e[4],o=e[5],a=e[6],u=e[8],l=e[9],e=e[10],c=(i[0]=Math.hypot(s,h,n),i[1]=Math.hypot(r,o,a),i[2]=Math.hypot(u,l,e),1/i[0]),f=1/i[1],s=s*c,h=h*f,n=n*(i=1/i[2]),r=r*c,a=a*i,u=u*c,c=l*f,l=e*i,e=0;return 0<(f=s+(o=o*f)+l)?(e=2*Math.sqrt(1+f),t[3]=.25*e,t[0]=(a-c)/e,t[1]=(u-n)/e,t[2]=(h-r)/e):o<s&&l<s?(e=2*Math.sqrt(1+s-o-l),t[3]=(a-c)/e,t[0]=.25*e,t[1]=(h+r)/e,t[2]=(u+n)/e):l<o?(e=2*Math.sqrt(1+o-s-l),t[3]=(u-n)/e,t[0]=(h+r)/e,t[1]=.25*e,t[2]=(a+c)/e):(e=2*Math.sqrt(1+l-s-o),t[3]=(h-r)/e,t[0]=(u+n)/e,t[1]=(a+c)/e,t[2]=.25*e),t},xs=function(t,s,i,e){var h=(r=s[0])*(l=r+r),n=r*(c=(a=s[1])+a),r=r*(f=(u=s[2])+u),o=a*c,a=a*f,u=u*f,l=(s=s[3])*l,c=s*c,s=s*f,f=e[0],d=e[1],e=e[2];return t[0]=(1-(o+u))*f,t[1]=(n+s)*f,t[2]=(r-c)*f,t[3]=0,t[4]=(n-s)*d,t[5]=(1-(h+u))*d,t[6]=(a+l)*d,t[7]=0,t[8]=(r+c)*e,t[9]=(a-l)*e,t[10]=(1-(h+o))*e,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},Is=function(t,s,i,e,h){var n=(o=s[0])*(c=o+o),r=o*(f=(u=s[1])+u),o=o*(d=(l=s[2])+l),a=u*f,u=u*d,l=l*d,c=(s=s[3])*c,f=s*f,s=s*d,d=e[0],p=e[1],e=e[2],m=h[0],g=h[1],h=h[2],y=(1-(a+l))*d,M=(r+s)*d,d=(o-f)*d,r=(r-s)*p,s=(1-(n+l))*p,l=(u+c)*p,p=(o+f)*e,o=(u-c)*e,f=(1-(n+a))*e;return t[0]=y,t[1]=M,t[2]=d,t[3]=0,t[4]=r,t[5]=s,t[6]=l,t[7]=0,t[8]=p,t[9]=o,t[10]=f,t[11]=0,t[12]=i[0]+m-(y*m+r*g+p*h),t[13]=i[1]+g-(M*m+s*g+o*h),t[14]=i[2]+h-(d*m+l*g+f*h),t[15]=1,t},Gs=function(t,s){var i=s[0],e=s[2],h=e+e,i=i*(u=i+i),n=(r=s[1])*u,r=r*(l=r+r),o=e*u,a=e*l,u=(s=s[3])*u,l=s*l,s=s*h;return t[0]=1-r-(e=e*h),t[1]=n+s,t[2]=o-l,t[3]=0,t[4]=n-s,t[5]=1-i-e,t[6]=a+u,t[7]=0,t[8]=o+l,t[9]=a-u,t[10]=1-i-r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Cs=function(t,s,i,e,h,n,r){var o=1/(i-s),a=1/(h-e),u=1/(n-r);return t[0]=2*n*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*n*a,t[6]=0,t[7]=0,t[8]=(i+s)*o,t[9]=(h+e)*a,t[10]=(r+n)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n*2*u,t[15]=0,t},l=function(t,s,i,e,h){return s=1/Math.tan(s/2),t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=h&&h!==1/0?(t[10]=(h+e)*(i=1/(e-h)),t[14]=2*h*e*i):(t[10]=-1,t[14]=-2*e),t},_s=function(t,s,i,e,h){return s=1/Math.tan(s/2),t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=h&&h!==1/0?(t[10]=h*(i=1/(e-h)),t[14]=h*e*i):(t[10]=-1,t[14]=-e),t},Es=function(t,s,i,e){var h=Math.tan(s.upDegrees*Math.PI/180),n=Math.tan(s.downDegrees*Math.PI/180),r=Math.tan(s.leftDegrees*Math.PI/180),o=2/(r+(s=Math.tan(s.rightDegrees*Math.PI/180))),a=2/(h+n);return t[0]=o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=-(r-s)*o*.5,t[9]=(h-n)*a*.5,t[10]=e/(i-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*i/(i-e),t[15]=0,t},c=function(t,s,i,e,h,n,r){var o=1/(s-i),a=1/(e-h),u=1/(n-r);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(s+i)*o,t[13]=(h+e)*a,t[14]=(r+n)*u,t[15]=1,t},As=function(t,s,i,e,h,n,r){var o=1/(s-i),a=1/(e-h),r=1/(n-r);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=r,t[11]=0,t[12]=(s+i)*o,t[13]=(h+e)*a,t[14]=n*r,t[15]=1,t},Ds=function(t,s,i,e){var h,n,r,o,a=s[0],u=s[1],s=s[2],l=e[0],c=e[1],e=e[2],f=i[0],d=i[1],i=i[2];return Math.abs(a-f)<Th&&Math.abs(u-d)<Th&&Math.abs(s-i)<Th?p(t):(f=a-f,d=u-d,i=s-i,h=c*(i*=o=1/Math.hypot(f,d,i))-e*(d*=o),e=e*(f*=o)-l*i,l=l*d-c*f,(o=Math.hypot(h,e,l))?(h*=o=1/o,e*=o,l*=o):l=e=h=0,c=d*l-i*e,n=i*h-f*l,r=f*e-d*h,(o=Math.hypot(c,n,r))?(c*=o=1/o,n*=o,r*=o):r=n=c=0,t[0]=h,t[1]=c,t[2]=f,t[3]=0,t[4]=e,t[5]=n,t[6]=d,t[7]=0,t[8]=l,t[9]=r,t[10]=i,t[11]=0,t[12]=-(h*a+e*u+l*s),t[13]=-(c*a+n*u+r*s),t[14]=-(f*a+d*u+i*s),t[15]=1,t)},Ns=function(t,s,i,e){var h=s[0],n=s[1],s=s[2],r=e[0],o=e[1],e=e[2],a=h-i[0],u=n-i[1],l=a*a+u*u+(i=s-i[2])*i,c=(0<l&&(a*=l=1/Math.sqrt(l),u*=l,i*=l),o*i-e*u);return 0<(l=c*c+(e=e*a-r*i)*e+(r=r*u-o*a)*r)&&(c*=l=1/Math.sqrt(l),e*=l,r*=l),t[0]=c,t[1]=e,t[2]=r,t[3]=0,t[4]=u*r-i*e,t[5]=i*c-a*r,t[6]=a*e-u*c,t[7]=0,t[8]=a,t[9]=u,t[10]=i,t[11]=0,t[12]=h,t[13]=n,t[14]=s,t[15]=1,t},Ls=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},Os=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},Rs=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t[8]=s[8]+i[8],t[9]=s[9]+i[9],t[10]=s[10]+i[10],t[11]=s[11]+i[11],t[12]=s[12]+i[12],t[13]=s[13]+i[13],t[14]=s[14]+i[14],t[15]=s[15]+i[15],t},Ps=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t[4]=s[4]-i[4],t[5]=s[5]-i[5],t[6]=s[6]-i[6],t[7]=s[7]-i[7],t[8]=s[8]-i[8],t[9]=s[9]-i[9],t[10]=s[10]-i[10],t[11]=s[11]-i[11],t[12]=s[12]-i[12],t[13]=s[13]-i[13],t[14]=s[14]-i[14],t[15]=s[15]-i[15],t},ks=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t[8]=s[8]*i,t[9]=s[9]*i,t[10]=s[10]*i,t[11]=s[11]*i,t[12]=s[12]*i,t[13]=s[13]*i,t[14]=s[14]*i,t[15]=s[15]*i,t},Fs=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t[4]=s[4]+i[4]*e,t[5]=s[5]+i[5]*e,t[6]=s[6]+i[6]*e,t[7]=s[7]+i[7]*e,t[8]=s[8]+i[8]*e,t[9]=s[9]+i[9]*e,t[10]=s[10]+i[10]*e,t[11]=s[11]+i[11]*e,t[12]=s[12]+i[12]*e,t[13]=s[13]+i[13]*e,t[14]=s[14]+i[14]*e,t[15]=s[15]+i[15]*e,t},js=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]&&t[9]===s[9]&&t[10]===s[10]&&t[11]===s[11]&&t[12]===s[12]&&t[13]===s[13]&&t[14]===s[14]&&t[15]===s[15]},zs=function(t,s){var i=t[0],e=t[1],h=t[2],n=t[3],r=t[4],o=t[5],a=t[6],u=t[7],l=t[8],c=t[9],f=t[10],d=t[11],p=t[12],m=t[13],g=t[14],t=t[15],y=s[0],M=s[1],w=s[2],S=s[3],T=s[4],b=s[5],v=s[6],x=s[7],I=s[8],G=s[9],C=s[10],_=s[11],E=s[12],A=s[13],D=s[14],s=s[15];return Math.abs(i-y)<=Th*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(e-M)<=Th*Math.max(1,Math.abs(e),Math.abs(M))&&Math.abs(h-w)<=Th*Math.max(1,Math.abs(h),Math.abs(w))&&Math.abs(n-S)<=Th*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(r-T)<=Th*Math.max(1,Math.abs(r),Math.abs(T))&&Math.abs(o-b)<=Th*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(a-v)<=Th*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(u-x)<=Th*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(l-I)<=Th*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(c-G)<=Th*Math.max(1,Math.abs(c),Math.abs(G))&&Math.abs(f-C)<=Th*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(d-_)<=Th*Math.max(1,Math.abs(d),Math.abs(_))&&Math.abs(p-E)<=Th*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(m-A)<=Th*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(g-D)<=Th*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},m=function(){var t=new bh(3);return bh!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t},Bs=function(t){var s=new bh(3);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s},Us=function(t){var s=t[0];return Math.hypot(s,t[1],t[2])},g=function(t,s,i){var e=new bh(3);return e[0]=t,e[1]=s,e[2]=i,e},Ws=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t},Qs=function(t,s,i,e){return t[0]=s,t[1]=i,t[2]=e,t},Ys=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t},Js=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t},Vs=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t[2]=s[2]*i[2],t},Hs=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t[2]=s[2]/i[2],t},qs=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t},Xs=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t},Zs=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t[2]=Math.min(s[2],i[2]),t},Ks=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t[2]=Math.max(s[2],i[2]),t},$s=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t},ti=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t},si=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t},ii=function(t,s){var i=s[0]-t[0];return Math.hypot(i,s[1]-t[1],s[2]-t[2])},ei=function(t,s){var i=s[0]-t[0],e=s[1]-t[1];return i*i+e*e+(s=s[2]-t[2])*s},hi=function(t){var s=t[0],i=t[1];return s*s+i*i+(t=t[2])*t},ni=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t},ri=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t},y=function(t,s){var i=s[0],e=s[1],h=s[2];return 0<(i=i*i+e*e+h*h)&&(i=1/Math.sqrt(i)),t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t},M=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]},w=function(t,s,i){var e=s[0],h=s[1],s=s[2],n=i[0],r=i[1],i=i[2];return t[0]=h*i-s*r,t[1]=s*n-e*i,t[2]=e*r-h*n,t},oi=function(t,s,i,e){var h=s[0],n=s[1],s=s[2];return t[0]=h+e*(i[0]-h),t[1]=n+e*(i[1]-n),t[2]=s+e*(i[2]-s),t},ai=function(t,s,i,e){var h=Math.acos(Math.min(Math.max(M(s,i),-1),1)),n=Math.sin(h),r=Math.sin((1-e)*h)/n,e=Math.sin(e*h)/n;return t[0]=r*s[0]+e*i[0],t[1]=r*s[1]+e*i[1],t[2]=r*s[2]+e*i[2],t},ui=function(t,s,i,e,h,n){var r=n*n,o=r*(2*n-3)+1,a=r*(n-2)+n,u=r*(n-1);return t[0]=s[0]*o+i[0]*a+e[0]*u+h[0]*(r=r*(3-2*n)),t[1]=s[1]*o+i[1]*a+e[1]*u+h[1]*r,t[2]=s[2]*o+i[2]*a+e[2]*u+h[2]*r,t},li=function(t,s,i,e,h,n){var r=1-n,o=r*r,a=n*n,u=o*r;return t[0]=s[0]*u+i[0]*(o=3*n*o)+e[0]*(r=3*a*r)+h[0]*(a=a*n),t[1]=s[1]*u+i[1]*o+e[1]*r+h[1]*a,t[2]=s[2]*u+i[2]*o+e[2]*r+h[2]*a,t},ci=function(t,s){s=s||1;var i=2*Oh()*Math.PI,e=2*Oh()-1,h=Math.sqrt(1-e*e)*s;return t[0]=Math.cos(i)*h,t[1]=Math.sin(i)*h,t[2]=e*s,t},fi=function(t,s,i){var e=s[0],h=s[1],s=s[2],n=i[3]*e+i[7]*h+i[11]*s+i[15];return t[0]=(i[0]*e+i[4]*h+i[8]*s+i[12])/(n=n||1),t[1]=(i[1]*e+i[5]*h+i[9]*s+i[13])/n,t[2]=(i[2]*e+i[6]*h+i[10]*s+i[14])/n,t},di=function(t,s,i){var e=s[0],h=s[1],s=s[2];return t[0]=e*i[0]+h*i[3]+s*i[6],t[1]=e*i[1]+h*i[4]+s*i[7],t[2]=e*i[2]+h*i[5]+s*i[8],t},pi=function(t,s,i){var e=i[0],h=i[1],n=s[0],r=s[1],o=h*(s=s[2])-(c=i[2])*r,a=c*n-e*s,u=e*r-h*n,l=h*u-c*a,c=c*o-e*u,e=e*a-h*o;return a*=h=2*i[3],u*=h,c*=2,e*=2,t[0]=n+(o*=h)+(l*=2),t[1]=r+a+c,t[2]=s+u+e,t},mi=function(t,s,i,e){var h=[],n=[];return h[0]=s[0]-i[0],h[1]=s[1]-i[1],h[2]=s[2]-i[2],n[0]=h[0],n[1]=h[1]*Math.cos(e)-h[2]*Math.sin(e),n[2]=h[1]*Math.sin(e)+h[2]*Math.cos(e),t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t},gi=function(t,s,i,e){var h=[],n=[];return h[0]=s[0]-i[0],h[1]=s[1]-i[1],h[2]=s[2]-i[2],n[0]=h[2]*Math.sin(e)+h[0]*Math.cos(e),n[1]=h[1],n[2]=h[2]*Math.cos(e)-h[0]*Math.sin(e),t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t},yi=function(t,s,i,e){var h=[],n=[];return h[0]=s[0]-i[0],h[1]=s[1]-i[1],h[2]=s[2]-i[2],n[0]=h[0]*Math.cos(e)-h[1]*Math.sin(e),n[1]=h[0]*Math.sin(e)+h[1]*Math.cos(e),n[2]=h[2],t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t},Mi=function(t,s){var i=t[0],e=t[1],h=t[2],n=s[0],r=s[1],o=s[2],e=(i=Math.sqrt((i*i+e*e+h*h)*(n*n+r*r+o*o)))&&M(t,s)/i;return Math.acos(Math.min(Math.max(e,-1),1))},wi=function(t){return t[0]=0,t[1]=0,t[2]=0,t},Si=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},Ti=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]},bi=function(t,s){var i=t[0],e=t[1],t=t[2],h=s[0],n=s[1],s=s[2];return Math.abs(i-h)<=Th*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(e-n)<=Th*Math.max(1,Math.abs(e),Math.abs(n))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},S=function(){var t=new bh(4);return bh!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t},vi=function(t){var s=new bh(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},xi=function(t,s,i,e){var h=new bh(4);return h[0]=t,h[1]=s,h[2]=i,h[3]=e,h},Ii=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},Gi=function(t,s,i,e,h){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t},Ci=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t},_i=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t[2]=s[2]-i[2],t[3]=s[3]-i[3],t},Ei=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t[2]=s[2]*i[2],t[3]=s[3]*i[3],t},Ai=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t[2]=s[2]/i[2],t[3]=s[3]/i[3],t},Di=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t[3]=Math.ceil(s[3]),t},Ni=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t[3]=Math.floor(s[3]),t},Li=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t[2]=Math.min(s[2],i[2]),t[3]=Math.min(s[3],i[3]),t},Oi=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t[2]=Math.max(s[2],i[2]),t[3]=Math.max(s[3],i[3]),t},Ri=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t[3]=Math.round(s[3]),t},Pi=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t},ki=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t[2]=s[2]+i[2]*e,t[3]=s[3]+i[3]*e,t},Fi=function(t,s){var i=s[0]-t[0];return Math.hypot(i,s[1]-t[1],s[2]-t[2],s[3]-t[3])},ji=function(t,s){var i=s[0]-t[0],e=s[1]-t[1],h=s[2]-t[2];return i*i+e*e+h*h+(s=s[3]-t[3])*s},T=function(t){var s=t[0];return Math.hypot(s,t[1],t[2],t[3])},b=function(t){var s=t[0],i=t[1],e=t[2];return s*s+i*i+e*e+(t=t[3])*t},zi=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=-s[3],t},Bi=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t[3]=1/s[3],t},Ui=function(t,s){var i=s[0],e=s[1],h=s[2],n=i*i+e*e+h*h+(s=s[3])*s;return 0<n&&(n=1/Math.sqrt(n)),t[0]=i*n,t[1]=e*n,t[2]=h*n,t[3]=s*n,t},v=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]+t[3]*s[3]},Wi=function(t,s,i,e){var h=i[0]*e[1]-i[1]*e[0],n=i[0]*e[2]-i[2]*e[0],r=i[0]*e[3]-i[3]*e[0],o=i[1]*e[2]-i[2]*e[1],a=i[1]*e[3]-i[3]*e[1],i=i[2]*e[3]-i[3]*e[2],e=s[0],u=s[1],l=s[2],s=s[3];return t[0]=u*i-l*a+s*o,t[1]=-e*i+l*r-s*n,t[2]=e*a-u*r+s*h,t[3]=-e*o+u*n-l*h,t},Qi=function(t,s,i,e){var h=s[0],n=s[1],r=s[2],s=s[3];return t[0]=h+e*(i[0]-h),t[1]=n+e*(i[1]-n),t[2]=r+e*(i[2]-r),t[3]=s+e*(i[3]-s),t},Yi=function(t,s){var i,e,h,n,r,o;for(s=s||1;1<=(r=(i=2*Oh()-1)*i+(e=2*Oh()-1)*e););for(;1<=(o=(h=2*Oh()-1)*h+(n=2*Oh()-1)*n););var a=Math.sqrt((1-r)/o);return t[0]=s*i,t[1]=s*e,t[2]=s*h*a,t[3]=s*n*a,t},Ji=function(t,s,i){var e=s[0],h=s[1],n=s[2],s=s[3];return t[0]=i[0]*e+i[4]*h+i[8]*n+i[12]*s,t[1]=i[1]*e+i[5]*h+i[9]*n+i[13]*s,t[2]=i[2]*e+i[6]*h+i[10]*n+i[14]*s,t[3]=i[3]*e+i[7]*h+i[11]*n+i[15]*s,t},Vi=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=i[0],o=i[1],a=i[2],u=(i=i[3])*e+o*n-a*h,l=i*h+a*e-r*n,c=i*n+r*h-o*e;return t[0]=u*i+(e=-r*e-o*h-a*n)*-r+l*-a-c*-o,t[1]=l*i+e*-o+c*-r-u*-a,t[2]=c*i+e*-a+u*-o-l*-r,t[3]=s[3],t},Hi=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},qi=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},Xi=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},Zi=function(t,s){var i=t[0],e=t[1],h=t[2],t=t[3],n=s[0],r=s[1],o=s[2],s=s[3];return Math.abs(i-n)<=Th*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(e-r)<=Th*Math.max(1,Math.abs(e),Math.abs(r))&&Math.abs(h-o)<=Th*Math.max(1,Math.abs(h),Math.abs(o))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},x=function(){var t=new bh(4);return bh!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t},Ki=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},I=function(t,s,i){i*=.5;var e=Math.sin(i);return t[0]=e*s[0],t[1]=e*s[1],t[2]=e*s[2],t[3]=Math.cos(i),t},$i=function(t,s){var i=2*Math.acos(s[3]),e=Math.sin(i/2);return Th<e?(t[0]=s[0]/e,t[1]=s[1]/e,t[2]=s[2]/e):(t[0]=1,t[1]=0,t[2]=0),i},te=function(t,s){return t=Yh(t,s),Math.acos(2*t*t-1)},se=function(t,s,i){var e=s[0],h=s[1],n=s[2],s=s[3],r=i[0],o=i[1],a=i[2],i=i[3];return t[0]=e*i+s*r+h*a-n*o,t[1]=h*i+s*o+n*r-e*a,t[2]=n*i+s*a+e*o-h*r,t[3]=s*i-e*r-h*o-n*a,t},G=function(t,s,i){i*=.5;var e=s[0],h=s[1],n=s[2],s=s[3],r=Math.sin(i),i=Math.cos(i);return t[0]=e*i+s*r,t[1]=h*i+n*r,t[2]=n*i-h*r,t[3]=s*i-e*r,t},C=function(t,s,i){i*=.5;var e=s[0],h=s[1],n=s[2],s=s[3],r=Math.sin(i),i=Math.cos(i);return t[0]=e*i-n*r,t[1]=h*i+s*r,t[2]=n*i+e*r,t[3]=s*i-h*r,t},_=function(t,s,i){i*=.5;var e=s[0],h=s[1],n=s[2],s=s[3],r=Math.sin(i),i=Math.cos(i);return t[0]=e*i+h*r,t[1]=h*i-e*r,t[2]=n*i+s*r,t[3]=s*i-n*r,t},ie=function(t,s){var i=s[0],e=s[1],s=s[2];return t[0]=i,t[1]=e,t[2]=s,t[3]=Math.sqrt(Math.abs(1-i*i-e*e-s*s)),t},E=function(t,s){var i=s[0],e=s[1],h=s[2],s=s[3],n=Math.sqrt(i*i+e*e+h*h),s=Math.exp(s),r=0<n?s*Math.sin(n)/n:0;return t[0]=i*r,t[1]=e*r,t[2]=h*r,t[3]=s*Math.cos(n),t},A=function(t,s){var i=s[0],e=s[1],h=s[2],s=s[3],n=0<(n=Math.sqrt(i*i+e*e+h*h))?Math.atan2(n,s)/n:0;return t[0]=i*n,t[1]=e*n,t[2]=h*n,t[3]=.5*Math.log(i*i+e*e+h*h+s*s),t},ee=function(t,s,i){return A(t,s),Qh(t,t,i),E(t,t),t},D=function(t,s,i,e){var h,n,r=s[0],o=s[1],a=s[2],s=s[3],u=i[0],l=i[1],c=i[2],f=r*u+o*l+a*c+s*(i=i[3]);return f<0&&(f=-f,u=-u,l=-l,c=-c,i=-i),f=Th<1-f?(f=Math.acos(f),h=Math.sin(f),n=Math.sin((1-e)*f)/h,Math.sin(e*f)/h):(n=1-e,e),t[0]=n*r+f*u,t[1]=n*o+f*l,t[2]=n*a+f*c,t[3]=n*s+f*i,t},he=function(t){var s=Oh(),i=Oh(),e=Oh(),h=Math.sqrt(1-s),s=Math.sqrt(s);return t[0]=h*Math.sin(2*Math.PI*i),t[1]=h*Math.cos(2*Math.PI*i),t[2]=s*Math.sin(2*Math.PI*e),t[3]=s*Math.cos(2*Math.PI*e),t},ne=function(t,s){var i=s[0],e=s[1],h=s[2],n=i*i+e*e+h*h+(s=s[3])*s;return t[0]=-i*(n=n?1/n:0),t[1]=-e*n,t[2]=-h*n,t[3]=s*n,t},re=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t},N=function(t,s){var i,e,h,n=s[0]+s[4]+s[8];return 0<n?(h=Math.sqrt(n+1),t[3]=.5*h,t[0]=(s[5]-s[7])*(h=.5/h),t[1]=(s[6]-s[2])*h,t[2]=(s[1]-s[3])*h):(i=(1+(n=s[3*(n=s[4]>s[0]?1:0)+n]<s[8]?2:n))%3,e=(2+n)%3,h=Math.sqrt(s[3*n+n]-s[3*i+i]-s[3*e+e]+1),t[n]=.5*h,t[3]=(s[3*i+e]-s[3*e+i])*(h=.5/h),t[i]=(s[3*i+n]+s[3*n+i])*h,t[e]=(s[3*e+n]+s[3*n+e])*h),t},oe=function(t,s,i,e){var h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Rh,n=Math.PI/360,r=(e*=n,i*=n,Math.sin(s*=n)),o=Math.cos(s),a=Math.sin(i),u=Math.cos(i),l=Math.sin(e),c=Math.cos(e);switch(h){case"xyz":t[0]=r*u*c+o*a*l,t[1]=o*a*c-r*u*l,t[2]=o*u*l+r*a*c,t[3]=o*u*c-r*a*l;break;case"xzy":t[0]=r*u*c-o*a*l,t[1]=o*a*c-r*u*l,t[2]=o*u*l+r*a*c,t[3]=o*u*c+r*a*l;break;case"yxz":t[0]=r*u*c+o*a*l,t[1]=o*a*c-r*u*l,t[2]=o*u*l-r*a*c,t[3]=o*u*c+r*a*l;break;case"yzx":t[0]=r*u*c+o*a*l,t[1]=o*a*c+r*u*l,t[2]=o*u*l-r*a*c,t[3]=o*u*c-r*a*l;break;case"zxy":t[0]=r*u*c-o*a*l,t[1]=o*a*c+r*u*l,t[2]=o*u*l+r*a*c,t[3]=o*u*c-r*a*l;break;case"zyx":t[0]=r*u*c-o*a*l,t[1]=o*a*c+r*u*l,t[2]=o*u*l-r*a*c,t[3]=o*u*c+r*a*l;break;default:throw new Error("Unknown angle order "+h)}return t},ae=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},ue=function(t,s){return Math.abs(v(t,s))>=1-Th},le=function(){var t=new bh(8);return bh!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},ce=function(t){var s=new bh(8);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s},fe=function(t,s,i,e,h,n,r,o){var a=new bh(8);return a[0]=t,a[1]=s,a[2]=i,a[3]=e,a[4]=h,a[5]=n,a[6]=r,a[7]=o,a},de=function(t,s,i,e,h,n,r){var o=new bh(8),h=(o[0]=t,o[1]=s,o[2]=i,o[3]=e,.5*h),n=.5*n,r=.5*r;return o[4]=h*e+n*i-r*s,o[5]=n*e+r*t-h*i,o[6]=r*e+h*s-n*t,o[7]=-h*t-n*s-r*i,o},L=function(t,s,i){var e=.5*i[0],h=.5*i[1],i=.5*i[2],n=s[0],r=s[1],o=s[2],s=s[3];return t[0]=n,t[1]=r,t[2]=o,t[3]=s,t[4]=e*s+h*o-i*r,t[5]=h*s+i*n-e*o,t[6]=i*s+e*r-h*n,t[7]=-e*n-h*r-i*o,t},pe=function(t,s){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*s[0],t[5]=.5*s[1],t[6]=.5*s[2],t[7]=0,t},me=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},ge=function(t,s){var i=x(),e=(u(i,s),new bh(3));return a(e,s),L(t,i,e),t},O=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t},ye=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},Me=function(t,s,i,e,h,n,r,o,a){return t[0]=s,t[1]=i,t[2]=e,t[3]=h,t[4]=n,t[5]=r,t[6]=o,t[7]=a,t},we=function(t,s){return t[0]=s[4],t[1]=s[5],t[2]=s[6],t[3]=s[7],t},Se=function(t,s){return t[4]=s[0],t[5]=s[1],t[6]=s[2],t[7]=s[3],t},Te=function(t,s){var i=s[4],e=s[5],h=s[6],n=s[7],r=-s[0],o=-s[1],a=-s[2],s=s[3];return t[0]=2*(i*s+n*r+e*a-h*o),t[1]=2*(e*s+n*o+h*r-i*a),t[2]=2*(h*s+n*a+i*o-e*r),t},be=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=.5*i[0],a=.5*i[1],i=.5*i[2],u=s[4],l=s[5],c=s[6],s=s[7];return t[0]=e,t[1]=h,t[2]=n,t[3]=r,t[4]=r*o+h*i-n*a+u,t[5]=r*a+n*o-e*i+l,t[6]=r*i+e*a-h*o+c,t[7]=-e*o-h*a-n*i+s,t},ve=function(t,s,i){var e=-s[0],h=-s[1],n=-s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=o*r+(d=s[7])*e+a*n-u*h,c=a*r+d*h+u*e-o*n,f=u*r+d*n+o*h-a*e,d=d*r-o*e-a*h-u*n;return G(t,s,i),e=t[0],t[4]=l*(r=t[3])+d*e+c*(n=t[2])-f*(h=t[1]),t[5]=c*r+d*h+f*e-l*n,t[6]=f*r+d*n+l*h-c*e,t[7]=d*r-l*e-c*h-f*n,t},xe=function(t,s,i){var e=-s[0],h=-s[1],n=-s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=o*r+(d=s[7])*e+a*n-u*h,c=a*r+d*h+u*e-o*n,f=u*r+d*n+o*h-a*e,d=d*r-o*e-a*h-u*n;return C(t,s,i),e=t[0],t[4]=l*(r=t[3])+d*e+c*(n=t[2])-f*(h=t[1]),t[5]=c*r+d*h+f*e-l*n,t[6]=f*r+d*n+l*h-c*e,t[7]=d*r-l*e-c*h-f*n,t},Ie=function(t,s,i){var e=-s[0],h=-s[1],n=-s[2],r=s[3],o=s[4],a=s[5],u=s[6],l=o*r+(d=s[7])*e+a*n-u*h,c=a*r+d*h+u*e-o*n,f=u*r+d*n+o*h-a*e,d=d*r-o*e-a*h-u*n;return _(t,s,i),e=t[0],t[4]=l*(r=t[3])+d*e+c*(n=t[2])-f*(h=t[1]),t[5]=c*r+d*h+f*e-l*n,t[6]=f*r+d*n+l*h-c*e,t[7]=d*r-l*e-c*h-f*n,t},Ge=function(t,s,i){var e=i[0],h=i[1],n=i[2],i=i[3],r=s[0],o=s[1],a=s[2],u=s[3];return t[0]=r*i+u*e+o*n-a*h,t[1]=o*i+u*h+a*e-r*n,t[2]=a*i+u*n+r*h-o*e,t[3]=u*i-r*e-o*h-a*n,t[4]=(r=s[4])*i+(u=s[7])*e+(o=s[5])*n-(a=s[6])*h,t[5]=o*i+u*h+a*e-r*n,t[6]=a*i+u*n+r*h-o*e,t[7]=u*i-r*e-o*h-a*n,t},Ce=function(t,s,i){var e=s[0],h=s[1],n=s[2],s=s[3],r=i[0],o=i[1],a=i[2],u=i[3];return t[0]=e*u+s*r+h*a-n*o,t[1]=h*u+s*o+n*r-e*a,t[2]=n*u+s*a+e*o-h*r,t[3]=s*u-e*r-h*o-n*a,t[4]=e*(u=i[7])+s*(r=i[4])+h*(a=i[6])-n*(o=i[5]),t[5]=h*u+s*o+n*r-e*a,t[6]=n*u+s*a+e*o-h*r,t[7]=s*u-e*r-h*o-n*a,t},_e=function(t,s,i,e){var h,n,r,o,a,u;return Math.abs(e)<Th?O(t,s):(u=Math.hypot(i[0],i[1],i[2]),e*=.5,h=(r=Math.sin(e))*i[0]/u,n=r*i[1]/u,r=r*i[2]/u,i=Math.cos(e),u=s[0],t[0]=u*i+(e=s[3])*h+(o=s[1])*r-(a=s[2])*n,t[1]=o*i+e*n+a*h-u*r,t[2]=a*i+e*r+u*n-o*h,t[3]=e*i-u*h-o*n-a*r,t[4]=(e=s[4])*i+(u=s[7])*h+(o=s[5])*r-(a=s[6])*n,t[5]=o*i+u*n+a*h-e*r,t[6]=a*i+u*r+e*n-o*h,t[7]=u*i-e*h-o*n-a*r,t)},Ee=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t[3]=s[3]+i[3],t[4]=s[4]+i[4],t[5]=s[5]+i[5],t[6]=s[6]+i[6],t[7]=s[7]+i[7],t},Ae=function(t,s,i){var e=s[0],h=s[1],n=s[2],r=s[3],o=i[4],a=i[5],u=i[6],l=i[7],c=s[4],f=s[5],d=s[6],s=s[7],p=i[0],m=i[1],g=i[2],i=i[3];return t[0]=e*i+r*p+h*g-n*m,t[1]=h*i+r*m+n*p-e*g,t[2]=n*i+r*g+e*m-h*p,t[3]=r*i-e*p-h*m-n*g,t[4]=e*l+r*o+h*u-n*a+c*i+s*p+f*g-d*m,t[5]=h*l+r*a+n*o-e*u+f*i+s*m+d*p-c*g,t[6]=n*l+r*u+e*a-h*o+d*i+s*g+c*m-f*p,t[7]=r*l-e*o-h*a-n*u+s*i-c*p-f*m-d*g,t},De=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*i,t[5]=s[5]*i,t[6]=s[6]*i,t[7]=s[7]*i,t},Ne=function(t,s,i,e){var h=1-e;return Xh(s,i)<0&&(e=-e),t[0]=s[0]*h+i[0]*e,t[1]=s[1]*h+i[1]*e,t[2]=s[2]*h+i[2]*e,t[3]=s[3]*h+i[3]*e,t[4]=s[4]*h+i[4]*e,t[5]=s[5]*h+i[5]*e,t[6]=s[6]*h+i[6]*e,t[7]=s[7]*h+i[7]*e,t},Le=function(t,s){var i=Zh(s);return t[0]=-s[0]/i,t[1]=-s[1]/i,t[2]=-s[2]/i,t[3]=s[3]/i,t[4]=-s[4]/i,t[5]=-s[5]/i,t[6]=-s[6]/i,t[7]=s[7]/i,t},Oe=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t[4]=-s[4],t[5]=-s[5],t[6]=-s[6],t[7]=s[7],t},Re=function(t,s){var i,e,h,n,r,o,a,u,l=Zh(s);return 0<l&&(l=Math.sqrt(l),u=(i=s[0]/l)*(r=s[4])+(e=s[1]/l)*(o=s[5])+(h=s[2]/l)*(a=s[6])+(n=s[3]/l)*(s=s[7]),t[0]=i,t[1]=e,t[2]=h,t[3]=n,t[4]=(r-i*u)/l,t[5]=(o-e*u)/l,t[6]=(a-h*u)/l,t[7]=(s-n*u)/l),t},Pe=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},ke=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]},Fe=function(t,s){var i=t[0],e=t[1],h=t[2],n=t[3],r=t[4],o=t[5],a=t[6],t=t[7],u=s[0],l=s[1],c=s[2],f=s[3],d=s[4],p=s[5],m=s[6],s=s[7];return Math.abs(i-u)<=Th*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(e-l)<=Th*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(h-c)<=Th*Math.max(1,Math.abs(h),Math.abs(c))&&Math.abs(n-f)<=Th*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=Th*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(o-p)<=Th*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-m)<=Th*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))},R=function(){var t=new bh(2);return bh!=Float32Array&&(t[0]=0,t[1]=0),t},je=function(t){var s=new bh(2);return s[0]=t[0],s[1]=t[1],s},ze=function(t,s){var i=new bh(2);return i[0]=t,i[1]=s,i},Be=function(t,s){return t[0]=s[0],t[1]=s[1],t},Ue=function(t,s,i){return t[0]=s,t[1]=i,t},We=function(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t},Qe=function(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t},Ye=function(t,s,i){return t[0]=s[0]*i[0],t[1]=s[1]*i[1],t},Je=function(t,s,i){return t[0]=s[0]/i[0],t[1]=s[1]/i[1],t},Ve=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t},He=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t},qe=function(t,s,i){return t[0]=Math.min(s[0],i[0]),t[1]=Math.min(s[1],i[1]),t},Xe=function(t,s,i){return t[0]=Math.max(s[0],i[0]),t[1]=Math.max(s[1],i[1]),t},Ze=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t},Ke=function(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t},$e=function(t,s,i,e){return t[0]=s[0]+i[0]*e,t[1]=s[1]+i[1]*e,t},th=function(t,s){var i=s[0]-t[0];return Math.hypot(i,s[1]-t[1])},sh=function(t,s){var i=s[0]-t[0];return i*i+(s=s[1]-t[1])*s},ih=function(t){var s=t[0];return Math.hypot(s,t[1])},eh=function(t){var s=t[0];return s*s+(t=t[1])*t},hh=function(t,s){return t[0]=-s[0],t[1]=-s[1],t},nh=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t},rh=function(t,s){var i=s[0],e=s[1];return 0<(i=i*i+e*e)&&(i=1/Math.sqrt(i)),t[0]=s[0]*i,t[1]=s[1]*i,t},oh=function(t,s){return t[0]*s[0]+t[1]*s[1]},ah=function(t,s,i){return s=s[0]*i[1]-s[1]*i[0],t[0]=t[1]=0,t[2]=s,t},uh=function(t,s,i,e){var h=s[0],s=s[1];return t[0]=h+e*(i[0]-h),t[1]=s+e*(i[1]-s),t},lh=function(t,s){s=s||1;var i=2*Oh()*Math.PI;return t[0]=Math.cos(i)*s,t[1]=Math.sin(i)*s,t},ch=function(t,s,i){var e=s[0],s=s[1];return t[0]=i[0]*e+i[2]*s,t[1]=i[1]*e+i[3]*s,t},fh=function(t,s,i){var e=s[0],s=s[1];return t[0]=i[0]*e+i[2]*s+i[4],t[1]=i[1]*e+i[3]*s+i[5],t},dh=function(t,s,i){var e=s[0],s=s[1];return t[0]=i[0]*e+i[3]*s+i[6],t[1]=i[1]*e+i[4]*s+i[7],t},ph=function(t,s,i){var e=s[0],s=s[1];return t[0]=i[0]*e+i[4]*s+i[12],t[1]=i[1]*e+i[5]*s+i[13],t},mh=function(t,s,i,e){var h=s[0]-i[0],s=s[1]-i[1],n=Math.sin(e),e=Math.cos(e);return t[0]=h*e-s*n+i[0],t[1]=h*n+s*e+i[1],t},gh=function(t,s){var i=t[0],t=t[1],e=s[0],s=s[1],h=Math.sqrt((i*i+t*t)*(e*e+s*s));return Math.acos(Math.min(Math.max(h&&(i*e+t*s)/h,-1),1))},yh=function(t){return t[0]=0,t[1]=0,t},Mh=function(t){return"vec2("+t[0]+", "+t[1]+")"},wh=function(t,s){return t[0]===s[0]&&t[1]===s[1]},Sh=function(t,s){var i=t[0],t=t[1],e=s[0],s=s[1];return Math.abs(i-e)<=Th*Math.max(1,Math.abs(i),Math.abs(e))&&Math.abs(t-s)<=Th*Math.max(1,Math.abs(t),Math.abs(s))};h,p,f,a,d,u,m,g,y,M,w,S,v,x,I,G,C,_,E,A,D,N,L,O,R,Th=1e-6,bh="undefined"!=typeof Float32Array?Float32Array:Array,Oh=Math.random,Rh="zyx",Ph=Math.PI/180,Math.hypot||(Math.hypot=function(){for(var t=0,s=arguments.length;s--;)t+=arguments[s]*arguments[s];return Math.sqrt(t)}),kh={__proto__:null,EPSILON:Th,get M(){return bh},S:Oh,T:Rh,I:P,G:k,equals:F},Fh=Object.freeze({__proto__:null,create:j,clone:z,C:B,identity:U,_:W,set:Q,A:Y,D:J,N:V,L:H,multiply:t,rotate:q,scale:X,O:Z,R:K,P:$,F:tt,j:st,add:it,B:s,U:et,equals:ht,W:nt,Y:rt,mul:t,sub:s}),jh=Object.freeze({__proto__:null,create:ot,clone:at,C:ut,identity:lt,_:ct,set:ft,D:dt,L:pt,multiply:i,rotate:mt,scale:gt,translate:yt,O:Mt,R:wt,J:St,P:Tt,F:bt,add:vt,B:e,W:xt,Y:It,U:Gt,equals:Ct,mul:i,sub:e}),zh=Object.freeze({__proto__:null,create:h,V:_t,clone:Et,C:At,_:Dt,set:Nt,identity:Lt,A:Ot,D:Rt,N:Pt,L:kt,multiply:n,translate:Ft,rotate:jt,scale:zt,J:Bt,O:Ut,R:Wt,H:Qt,X:Yt,Z:Jt,K:Vt,P:Ht,F:qt,add:Xt,B:r,W:Zt,Y:Kt,U:$t,equals:ts,mul:n,sub:r}),vh=Object.freeze({__proto__:null,create:ss,clone:is,C:es,_:hs,set:ns,identity:p,A:rs,D:os,N:as,L:us,multiply:o,translate:ls,scale:cs,rotate:fs,$:ds,tt:ps,it:ms,J:gs,R:ys,O:Ms,et:ws,ht:Ss,nt:Ts,ot:f,ut:bs,lt:a,ct:d,dt:u,gt:vs,yt:xs,Mt:Is,X:Gs,St:Cs,Tt:l,perspective:l,bt:_s,vt:Es,xt:c,ortho:c,It:As,Gt:Ds,Ct:Ns,P:Ls,F:Os,add:Rs,B:Ps,W:ks,Y:Fs,U:js,equals:zs,mul:o,sub:Ps}),qh=Js,Kh=Vs,Wh=Hs,$h=ii,tn=ei,Bh=Us,sn=hi,Lh=m(),xh=Object.freeze({__proto__:null,create:m,clone:Bs,length:Us,_:g,C:Ws,set:Qs,add:Ys,B:Js,multiply:Vs,_t:Hs,ceil:qs,floor:Xs,min:Zs,max:Ks,round:$s,scale:ti,Et:si,At:ii,Dt:ei,Nt:hi,Lt:ni,inverse:ri,normalize:y,Ot:M,Rt:w,Pt:oi,kt:ai,Ft:ui,jt:li,random:ci,zt:fi,Bt:di,Ut:pi,$:mi,tt:gi,it:yi,angle:Mi,Wt:wi,P:Si,U:Ti,equals:bi,sub:qh,mul:Kh,div:Wh,Qt:$h,Yt:tn,Jt:Bh,Vt:sn,forEach:function(t,s,i,e,h,n){var r,o;for(s=s||3,i=i||0,o=e?Math.min(e*s+i,t.length):t.length,r=i;r<o;r+=s)Lh[0]=t[r],Lh[1]=t[r+1],Lh[2]=t[r+2],h(Lh,Lh,n),t[r]=Lh[0],t[r+1]=Lh[1],t[r+2]=Lh[2];return t}}),qh=_i,Kh=Ei,Wh=Ai,$h=Fi,tn=ji,sn=T,en=b,Nh=S(),Uh=Object.freeze({__proto__:null,create:S,clone:vi,_:xi,C:Ii,set:Gi,add:Ci,B:_i,multiply:Ei,_t:Ai,ceil:Di,floor:Ni,min:Li,max:Oi,round:Ri,scale:Pi,Et:ki,At:Fi,Dt:ji,length:T,Nt:b,Lt:zi,inverse:Bi,normalize:Ui,Ot:v,Rt:Wi,Pt:Qi,random:Yi,zt:Ji,Ut:Vi,Wt:Hi,P:qi,U:Xi,equals:Zi,sub:qh,mul:Kh,div:Wh,Qt:$h,Yt:tn,Jt:sn,Vt:en,forEach:function(t,s,i,e,h,n){var r,o;for(s=s||4,i=i||0,o=e?Math.min(e*s+i,t.length):t.length,r=i;r<o;r+=s)Nh[0]=t[r],Nh[1]=t[r+1],Nh[2]=t[r+2],Nh[3]=t[r+3],h(Nh,Nh,n),t[r]=Nh[0],t[r+1]=Nh[1],t[r+2]=Nh[2],t[r+3]=Nh[3];return t}}),qh=vi,Kh=xi,Wh=Ii,$h=Gi,tn=Ci,sn=se,Qh=Pi,Yh=v,en=Qi,hn=Jh=T,nn=Vh=b,Hh=Ui,rn=Xi,Eh=m(),Ah=g(1,0,0),Dh=g(0,1,0),on=function(t,s,i){var e=M(s,i);return e<-.999999?(w(Eh,Ah,s),Bh(Eh)<1e-6&&w(Eh,Dh,s),y(Eh,Eh),I(t,Eh,Math.PI),t):.999999<e?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(w(Eh,s,i),t[0]=Eh[0],t[1]=Eh[1],t[2]=Eh[2],t[3]=1+e,Hh(t,t))},Ch=x(),_h=x(),an=function(t,s,i,e,h,n){return D(Ch,s,h,n),D(_h,i,e,n),D(t,Ch,_h,2*n*(1-n)),t},Gh=h(),qh=Object.freeze({__proto__:null,create:x,identity:Ki,Ht:I,qt:$i,Xt:te,multiply:se,$:G,tt:C,it:_,Zt:ie,exp:E,Kt:A,pow:ee,kt:D,random:he,D:ne,$t:re,ts:N,es:oe,P:ae,clone:qh,_:Kh,C:Wh,set:$h,add:tn,mul:sn,scale:Qh,Ot:Yh,Pt:en,length:Jh,Jt:hn,Nt:Vh,Vt:nn,normalize:Hh,U:rn,equals:ue,hs:on,ns:an,rs:function(t,s,i,e){return Gh[0]=i[0],Gh[3]=i[1],Gh[6]=i[2],Gh[1]=e[0],Gh[4]=e[1],Gh[7]=e[2],Gh[2]=-s[0],Gh[5]=-s[1],Gh[8]=-s[2],Hh(t,N(t,Gh))}}),Xh=Yh,Kh=Zh=Vh,$h=Object.freeze({__proto__:null,create:le,clone:ce,_:fe,os:de,ot:L,J:pe,O:me,V:ge,C:O,identity:ye,set:Me,us:Wh,ls:we,ds:Wh,gs:Se,lt:Te,translate:be,$:ve,tt:xe,it:Ie,ys:Ge,Ms:Ce,ws:_e,add:Ee,multiply:Ae,mul:Ae,scale:De,Ot:Xh,Pt:Ne,D:Le,$t:Oe,length:Jh,Jt:Jh,Nt:Zh,Vt:Kh,normalize:Re,P:Pe,U:ke,equals:Fe}),tn=ih,sn=Qe,en=Ye,hn=Je,nn=th,rn=sh,on=eh,Ih=R(),an=Object.freeze({__proto__:null,create:R,clone:je,_:ze,C:Be,set:Ue,add:We,B:Qe,multiply:Ye,_t:Je,ceil:Ve,floor:He,min:qe,max:Xe,round:Ze,scale:Ke,Et:$e,At:th,Dt:sh,length:ih,Nt:eh,Lt:hh,inverse:nh,normalize:rh,Ot:oh,Rt:ah,Pt:uh,random:lh,Ss:ch,Ts:fh,Bt:dh,zt:ph,rotate:mh,angle:gh,Wt:yh,P:Mh,U:wh,equals:Sh,Jt:tn,sub:sn,mul:en,div:hn,Qt:nn,Yt:rn,Vt:on,forEach:function(t,s,i,e,h,n){var r,o;for(s=s||2,i=i||0,o=e?Math.min(e*s+i,t.length):t.length,r=i;r<o;r+=s)Ih[0]=t[r],Ih[1]=t[r+1],h(Ih,Ih,n),t[r]=Ih[0],t[r+1]=Ih[1];return t}}),globalThis.bs=kh,globalThis.bs.vs=Fh,globalThis.bs.xs=jh,globalThis.bs.Is=zh,globalThis.bs.Gs=vh,globalThis.bs.Cs=qh,globalThis.bs._s=$h,globalThis.bs.Es=an,globalThis.bs.As=xh,globalThis.bs.Ds=Uh}var Ih,Gh,Ch,_h,Eh,Ah,Dh,Nh,Lh,Th,bh,Oh,Rh,Ph,kh,Fh,jh,zh,vh,Bh,xh,Uh,Wh,Qh,Yh,Jh,Vh,Hh,qh,Xh,Zh,Kh,$h,tn,sn,en,hn,nn,rn,on,an,O,R,P,k;{let a=function(t,s,i){var e=[0,0],h=t[1][1]-t[0][1],n=t[0][0]-t[1][0],t=h*t[0][0]+n*t[0][1],r=s[1][1]-s[0][1],o=s[0][0]-s[1][0],s=r*s[0][0]+o*s[0][1],a=h*o-r*n;return m(a,0,i=i||0)||(e[0]=(o*t-n*s)/a,e[1]=(h*s-r*t)/a),e},h=function(t,s,i,e){var h,n=s[0]-t[0],s=s[1]-t[1],r=e[0]-i[0];return r*s-(e=e[1]-i[1])*n!=0&&(h=(r*(t[1]-i[1])+e*(i[0]-t[0]))/(e*n-r*s),0<=(t=(n*(i[1]-t[1])+s*(t[0]-i[0]))/(r*s-e*n)))&&t<=1&&0<=h&&h<=1},o=function(t,s,i){return(s[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(s[1]-t[1])},v=function(t,s,i){return 0<o(t,s,i)},x=function(t,s,i){return 0<=o(t,s,i)},I=function(t,s,i){return o(t,s,i)<0},G=function(t,s,i){return o(t,s,i)<=0},n=function(t,s,i,e){var h,n,r;return e?(r=R,(n=O)[0]=s[0]-t[0],n[1]=s[1]-t[1],r[0]=i[0]-s[0],r[1]=i[1]-s[1],h=n[0]*r[0]+n[1]*r[1],n=Math.sqrt(n[0]*n[0]+n[1]*n[1]),r=Math.sqrt(r[0]*r[0]+r[1]*r[1]),Math.acos(h/(n*r))<e):0===o(t,s,i)},C=function(t,s){var i=s[0]-t[0];return i*i+(s=s[1]-t[1])*s},_=function(t,s){var i=t.length;return t[s<0?s%i+i:s%i]},r=function(t){t.length=0},E=function(t,s,i,e){for(var h=i;h<e;h++)t.push(s[h])},t=function(t){for(var s=0,i=t,e=1;e<t.length;++e)(i[e][1]<i[s][1]||i[e][1]===i[s][1]&&i[e][0]>i[s][0])&&(s=e);return!v(_(t,s-1),_(t,s),_(t,s+1))&&(u(t),!0)},u=function(t){for(var s=[],i=t.length,e=0;e!==i;e++)s.push(t.pop());for(e=0;e!==i;e++)t[e]=s[e]},A=function(t,s){return I(_(t,s-1),_(t,s),_(t,s+1))},l=function(t,s,i){var e,h=P,n=k;if(x(_(t,s+1),_(t,s),_(t,i))&&G(_(t,s-1),_(t,s),_(t,i)))return!1;for(var r=C(_(t,s),_(t,i)),o=0;o!==t.length;++o)if((o+1)%t.length!==s&&o!==s&&x(_(t,s),_(t,i),_(t,o+1))&&G(_(t,s),_(t,i),_(t,o))&&(h[0]=_(t,s),h[1]=_(t,i),n[0]=_(t,o),n[1]=_(t,o+1),e=a(h,n),C(_(t,s),e)<r))return!1;return!0},D=function(t,s,i){for(var e=0;e!==t.length;++e)if(e!==s&&e!==i&&(e+1)%t.length!==s&&(e+1)%t.length!==i&&h(_(t,s),_(t,i),_(t,e),_(t,e+1)))return!1;return!0},c=function(t,s,i,e){var h=e||[];if(r(h),s<i)for(var n=s;n<=i;n++)h.push(t[n]);else{for(n=0;n<=i;n++)h.push(t[n]);for(n=s;n<t.length;n++)h.push(t[n])}return h},f=function(t){for(var s=[],i=[],e=[],h=Number.MAX_VALUE,n=0;n<t.length;++n)if(A(t,n))for(var r=0;r<t.length;++r)if(l(t,n,r)){for(var i=f(c(t,n,r,e)),o=f(c(t,r,n,e)),a=0;a<o.length;a++)i.push(o[a]);i.length<h&&(h=(s=i).length,s.push([_(t,n),_(t,r)]))}return s},s=function(t){var s=f(t);return 0<s.length?d(t,s):[t]},d=function(t,s){if(0===s.length)return[t];if(s instanceof Array&&s.length&&s[0]instanceof Array&&2===s[0].length&&s[0][0]instanceof Array){for(var i=[t],e=0;e<s.length;e++)for(var h=s[e],n=0;n<i.length;n++){var r=d(i[n],h);if(r){i.splice(n,1),i.push(r[0],r[1]);break}}return i}return e=t.indexOf((h=s)[0]),n=t.indexOf(h[1]),-1!==e&&-1!==n&&[c(t,e,n),c(t,n,e)]},i=function(t){for(var s=t,i=0;i<s.length-1;i++)for(var e=0;e<i-1;e++)if(h(s[i],s[i+1],s[e],s[e+1]))return!1;for(i=1;i<s.length-2;i++)if(h(s[0],s[s.length-1],s[i],s[i+1]))return!1;return!0},N=function(t,s,i,e,h){var n=s[1]-t[1],s=t[0]-s[0],t=n*t[0]+s*t[1],r=e[1]-i[1],e=i[0]-e[0],i=r*i[0]+e*i[1],o=n*e-r*s;return m(o,0,h=h||0)?[0,0]:[(e*t-s*i)/o,(n*i-r*t)/o]},L=function(t,s,i,e,h,n,r){n=n||100,r=r||0,h=h||25,s=void 0!==s?s:[],i=i||[],e=e||[];var o=[0,0],a=[0,0],u=[0,0],l=0,c=0,f=0,d=0,p=0,m=0,g=0,y=[],M=[],w=t,S=t;if(!(S.length<3))if(n<++r)console.warn("quickDecomp: max level ("+n+") reached.");else{for(var T=0;T<t.length;++T)if(A(w,T)){i.push(w[T]);for(var l=c=Number.MAX_VALUE,b=0;b<t.length;++b)v(_(w,T-1),_(w,T),_(w,b))&&G(_(w,T-1),_(w,T),_(w,b-1))&&(u=N(_(w,T-1),_(w,T),_(w,b),_(w,b-1)),I(_(w,T+1),_(w,T),u))&&(f=C(w[T],u))<c&&(c=f,a=u,m=b),v(_(w,T+1),_(w,T),_(w,b+1))&&G(_(w,T+1),_(w,T),_(w,b))&&(u=N(_(w,T+1),_(w,T),_(w,b),_(w,b+1)),v(_(w,T-1),_(w,T),u))&&(f=C(w[T],u))<l&&(l=f,o=u,p=b);if(m===(p+1)%t.length)u[0]=(a[0]+o[0])/2,u[1]=(a[1]+o[1])/2,e.push(u),T<p?(E(y,w,T,p+1),y.push(u),M.push(u),0!==m&&E(M,w,m,w.length),E(M,w,0,T+1)):(0!==T&&E(y,w,T,w.length),E(y,w,0,p+1),y.push(u),M.push(u),E(M,w,m,T+1));else{if(p<m&&(p+=t.length),d=Number.MAX_VALUE,p<m)return s;for(b=m;b<=p;++b)x(_(w,T-1),_(w,T),_(w,b))&&G(_(w,T+1),_(w,T),_(w,b))&&(f=C(_(w,T),_(w,b)))<d&&D(w,T,b)&&(d=f,g=b%t.length);T<g?(E(y,w,T,g+1),0!==g&&E(M,w,g,S.length),E(M,w,0,T+1)):(0!==T&&E(y,w,T,S.length),E(y,w,0,g+1),E(M,w,g,T+1))}return y.length<M.length?(L(y,s,i,e,h,n,r),L(M,s,i,e,h,n,r)):(L(M,s,i,e,h,n,r),L(y,s,i,e,h,n,r)),s}s.push(t)}return s},e=function(t,s){for(var i=0,e=t.length-1;3<t.length&&0<=e;--e)n(_(t,e-1),_(t,e),_(t,e+1),s)&&(t.splice(e%t.length,1),i++);return i},p=function(t,s){for(var i=t.length-1;1<=i;--i)for(var e=t[i],h=i-1;0<=h;--h)g(e,t[h],s)&&t.splice(i,1)},m=function(t,s,i){return i=i||0,Math.abs(t-s)<=i},g=function(t,s,i){return m(t[0],s[0],i)&&m(t[1],s[1],i)};a,h,o,v,x,I,G,n,C,_,r,E,u,A,l,D,c,f,d,N,L,m,g,O=[],R=[],P=[],k=[],self.Ns={Ls:s,Os:L,Rs:i,Ps:e,ks:p,Fs:t}}{let t=!1,s=!1,i="dev",e=Symbol("Construct internal API token"),h=14,n=self.js=class{constructor(){throw TypeError("static class can't be instantiated")}static zs(){if(h<=0)throw new Error("cannot obtain internal API token");return--h,e}static Bs(){t=!0}static Us(){return t}static Ws(){s=!0}static Qs(){return s}static Ys(t){i=t}static Js(){return i}static Vs(){return"final"===i}};n.isDebug=!1,n.Hs=!1,n.hardwareConcurrency=navigator.hardwareConcurrency||2,self.qs={}}{const s=self.js;s.Xs=class{constructor(t){this.Zs=t,this.Ks=new Map,this.$s()}$s(){let t=this.Zs,s=(t=t.startsWith("?")||t.startsWith("#")?t.substr(1):t).split("&");for(const i of s)this.ti(i)}ti(t){if(t)if(t.includes("=")){const s=t.indexOf("="),i=decodeURIComponent(t.substring(0,s)),e=decodeURIComponent(t.substring(s+1));this.Ks.set(i,e)}else this.Ks.set(t,null)}si(){for(const t of this.Ks)console.log("[QueryParser] Parameter '"+t[0]+"' = "+(null===t[1]?"null":"'"+t[1]+"'"))}ei(t){return this.Ks.has(t)}hi(t){const s=this.Ks.get(t);return void 0===s?null:s}ni(){history.replaceState("",document.title,location.pathname+location.search)}ri(t){this.Zs=t,this.Ks.clear(),this.$s()}},s.oi=new s.Xs(location.search),s.ai=new s.Xs(location.hash),s.oi.ei("perf")&&(s.li=!0),"dev"!==s.oi.hi("mode")&&s.Ys("final")}{let e=function(t){const s=parseFloat(t),i=B.get(s);return i||(13<=s?"11":"NT "+t)};e;const a=self.js,z="(unknown)",B=(a.ci={fi:z,di:z,mi:z,gi:z,yi:NaN,Mi:z,wi:"browser",Si:!0,Ti:!1,bi:!1,vi:!1,xi:async()=>{}},new Map([[5,"2000"],[5.1,"XP"],[5.2,"XP"],[6,"Vista"],[6.1,"7"],[6.2,"8"],[6.3,"8.1"],[10,"10"]])),U=navigator.userAgent,W=navigator.userAgentData;if(W&&0<W.brands.length){let s=function(t){let s="",i="",e="",h="";for(const n of t){const r=Q.get(n.brand),o=(!s&&r&&(s=r,i=n.version),Y.get(n.brand));!e&&o&&(e=o,h=n.version)}s||"Chromium"!==e||(a.ci.mi="Chromium",a.ci.gi=h),a.ci.mi=s||z,a.ci.gi=i||z,a.ci.Mi=e||z};s,a.ci.fi=W.platform,a.ci.Ti=W.mobile,a.ci.Si=!a.ci.Ti;const Q=new Map([["Google Chrome","Chrome"],["Microsoft Edge","Edge"],["Opera","Opera"],["Opera GX","Opera GX"],["Mozilla Firefox","Firefox"],["Apple Safari","Safari"],["NW.js","NW.js"]]),Y=new Map([["Chromium","Chromium"],["Gecko","Gecko"],["WebKit","WebKit"]]);s(W.brands);let i=!1;a.ci.xi=async()=>{if(!i)try{const t=await navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]);s(t.fullVersionList),"Windows"===a.ci.fi?a.ci.di=e(t.platformVersion):a.ci.di=t.platformVersion,i=!0}catch(t){console.warn("Failed to get detailed user agent information: ",t)}}}else{let t=function(t,s){const i=Array.isArray(t)?t:[t];for(const e of i){const h=e.exec(U);if(h){s(h);break}}};t(/windows\s+nt\s+([\d\.]+)/i,t=>{a.ci.fi="Windows";const s=t[1];a.ci.di=e(s)}),t(/mac\s+os\s+x\s+([\d\._]+)/i,t=>{a.ci.fi="macOS",a.ci.di=t[1].replace(/_/g,".")}),t(/CrOS/,()=>{a.ci.fi="Chrome OS"}),t(/linux|openbsd|freebsd|netbsd/i,()=>{a.ci.fi="Linux"}),t(/android/i,()=>{a.ci.fi="Android"}),t(/android\s+([\d\.]+)/i,t=>{a.ci.fi="Android",a.ci.di=t[1]}),a.ci.fi===z&&(t(/(iphone|ipod|ipad)/i,t=>{a.ci.fi="iOS"}),t([/iphone\s+os\s+([\d\._]+)/i,/ipad[^)]*os\s+([\d\._]+)/i],t=>{a.ci.fi="iOS",a.ci.di=t[1].replace(/_/g,".")}));const J=/chrome\//i.test(U),V=/chromium\//i.test(U),H=/edg\//i.test(U),q=/OPR\//.test(U),X=/nwjs/i.test(U),Z=/safari\//i.test(U),K=/webkit/i.test(U),$=(H||q||t(/chrome\/([\d\.]+)/i,t=>{a.ci.mi="Chrome",a.ci.gi=t[1],a.ci.Mi="Chromium"}),t(/edg\/([\d\.]+)/i,t=>{a.ci.mi="Edge",a.ci.gi=t[1],a.ci.Mi="Chromium"}),t(/OPR\/([\d\.]+)/,t=>{a.ci.mi="Opera",a.ci.gi=t[1],a.ci.Mi="Chromium"}),t(/chromium\/([\d\.]+)/i,t=>{a.ci.mi="Chromium",a.ci.gi=t[1],a.ci.Mi="Chromium"}),t(/nwjs\/[0-9.]+/i,t=>{a.ci.mi="NW.js",a.ci.gi=t[1],a.ci.Mi="Chromium",a.ci.wi="nwjs"}),t(/firefox\/([\d\.]+)/i,t=>{a.ci.mi="Firefox",a.ci.gi=t[1],a.ci.Mi="Gecko"}),!Z||J||V||H||q||X||(a.ci.mi="Safari",a.ci.Mi="WebKit",t(/version\/([\d\.]+)/i,t=>{a.ci.gi=t[1]}),t(/crios\/([\d\.]+)/i,t=>{a.ci.mi="Chrome for iOS",a.ci.gi=t[1]}),t(/fxios\/([\d\.]+)/i,t=>{a.ci.mi="Firefox for iOS",a.ci.gi=t[1]}),t(/edgios\/([\d\.]+)/i,t=>{a.ci.mi="Edge for iOS",a.ci.gi=t[1]})),a.ci.Mi===z&&K&&(a.ci.Mi="WebKit"),"Android"===a.ci.fi&&"Safari"===a.ci.mi&&(a.ci.mi="Stock"),new Set(["Windows","macOS","Linux","Chrome OS"])),tt=$.has(a.ci.fi)||"nwjs"===a.ci.wi;a.ci.Si=tt,a.ci.Ti=!tt}"Chrome"===a.ci.mi&&"browser"===a.ci.wi&&/wv\)/.test(U)&&(a.ci.wi="webview"),"nwjs"!==a.ci.wi&&"undefined"!=typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone)&&(a.ci.wi="webapp"),a.ci.yi=parseFloat(a.ci.gi);const i="macOS"===a.ci.fi&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;i&&(a.ci.fi="iOS",a.ci.di=a.ci.gi,a.ci.Si=!1,a.ci.Ti=!0,a.ci.vi=!0),a.ci.bi="macOS"===a.ci.fi||"iOS"===a.ci.fi}{let r=function(i){return new Promise((t,s)=>{i.onsuccess=()=>t(i.result),i.onerror=()=>s(i.error)})},o=function(i){return new Promise((t,s)=>{i.oncomplete=()=>t(),i.onerror=()=>s(i.error),i.onabort=()=>s(i.error)})},t=function(t,s){return F(t,s)},s=function(t,s){return F(t,s,!0)},a=function(s){e(s);let t=et.get(s);return t instanceof Promise||(t=(async i=>{e(i);const t=indexedDB.open(i,st);return t.addEventListener("upgradeneeded",t=>{try{const s=t.target.result;s.createObjectStore(it)}catch(t){console.error("Failed to create objectstore for database "+i,t)}}),r(t)})(s),et.set(s,t),t.catch(t=>et.delete(s))),t},e=function(t){if("string"!=typeof t)throw new TypeError("expected string")},n=function(t,h){const s=t.objectStore(it).openCursor();return new Promise(i=>{const e=[];s.onsuccess=t=>{const s=t.target.result;if(s){switch(h){case"entries":e.push([s.key,s.value]);break;case"keys":e.push(s.key);break;case"values":e.push(s.value)}s.continue()}else i(e)}})};r,o,t,s,a,e,n;const st=2,it="keyvaluepairs",et=new Map,ht="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAll,nt="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAllKeys;async function F(s,i,e=!1,h=!0){const t=await a(s);try{const n=t.transaction([it],e?"readwrite":"readonly");return i(n)}catch(t){if(h&&"InvalidStateError"===t.name)return et.delete(s),F(s,i,e,!1);throw t}}class rt{constructor(t){e(t),this.name=t}async ready(){await a(this.name)}set(h,n){return e(h),s(this.name,async t=>{const s=t.objectStore(it).put(n,h),i=r(s),e=o(t);await Promise.all([e,i])})}get(n){return e(n),t(this.name,async t=>{const s=t.objectStore(it).get(n),i=r(s),e=o(t),[,h]=await Promise.all([e,i]);return h})}delete(h){return e(h),s(this.name,async t=>{const s=t.objectStore(it).delete(h),i=r(s),e=o(t);await Promise.all([e,i])})}clear(){return s(this.name,async t=>{const s=t.objectStore(it).clear(),i=r(s),e=o(t);await Promise.all([e,i])})}keys(){return t(this.name,async t=>{let s;if(nt){const h=t.objectStore(it).getAllKeys();s=r(h)}else s=n(t,"keys");const i=o(t),[,e]=await Promise.all([i,s]);return e})}values(){return t(this.name,async t=>{let s;if(ht){const h=t.objectStore(it).getAll();s=r(h)}else s=n(t,"values");const i=o(t),[,e]=await Promise.all([i,s]);return e})}entries(){return t(this.name,async t=>{const s=n(t,"entries"),i=o(t),[,e]=await Promise.all([i,s]);return e})}}self.Ii=rt}{let i=function(t){throw new Error(`"${t}" is not implemented`)},e=function(t){if("function"==typeof t)throw new Error("localforage callback API is not implemented; please use the promise API instead")},h=function(e){return"object"==typeof e?new Promise(s=>{const{port1:t,port2:i}=new MessageChannel;i.onmessage=t=>s(t.data),t.postMessage(e)}):Promise.resolve(e)};i,e,h;const ot=self.Ii,at=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i];new WeakMap;class ut{constructor(t){this.Gi=t,this.Ci=!this.Gi,this.Ci||"undefined"!=typeof indexedDB||(this.Ci=!0,console.warn("Unable to use local storage because IndexedDB API is not available")),this._i=new Map}Ei(t){if(!this.Ci)for(const s of at)if(t&&s.test(t.message)){console.error("Unable to use local storage, reverting to in-memory store: ",t,t.message),this.Ci=!0;break}}async Ai(t){const s=this._i.get(t),i=await h(s);return void 0===i?null:i}async Di(t,s){s=await h(s),this._i.set(t,s)}Ni(t){this._i.delete(t)}Li(){this._i.clear()}Oi(){return Array.from(this._i.keys())}Ri(){return this.Ci}Pi(){return this._i}ki(t){this._i=t}async getItem(s,t){if(e(t),this.Ci)return this.Ai(s);let i;try{i=await this.Gi.get(s)}catch(t){return this.Ei(t),this.Ci?this.Ai(s):(console.error(`Error reading '${s}' from storage, returning null: `,t),null)}return void 0===i?null:i}async setItem(s,i,t){if(e(t),void 0===i&&(i=null),this.Ci)await this.Di(s,i);else try{await this.Gi.set(s,i)}catch(t){if(this.Ei(t),!this.Ci)throw t;await this.Di(s,i)}}async removeItem(s,t){if(e(t),this.Ci)this.Ni(s);else try{await this.Gi.delete(s)}catch(t){this.Ei(t),this.Ci?this.Ni(s):console.error(`Error removing '${s}' from storage: `,t)}}async clear(t){if(e(t),this.Ci)this.Li();else try{await this.Gi.clear()}catch(t){this.Ei(t),this.Ci?this.Li():console.error("Error clearing storage: ",t)}}async keys(t){if(e(t),this.Ci)return this.Oi();let s=[];try{s=await this.Gi.keys()}catch(t){if(this.Ei(t),this.Ci)return this.Oi();console.error("Error getting storage keys: ",t)}return s}ready(t){return e(t),this.Ci?Promise.resolve(!0):this.Gi.ready()}Fi(t){if(t.ji)return new ut(null);{const s=t.name;if("string"!=typeof s)throw new TypeError("invalid store name");const i=new ot(s);return new ut(i)}}length(t){i("localforage.length()")}key(t,s){i("localforage.key()")}iterate(t,s){i("localforage.iterate()")}Bi(t){i("localforage.setDriver()")}config(t){i("localforage.config()")}Ui(t){i("localforage.defineDriver()")}Wi(){i("localforage.driver()")}supports(t){i("localforage.supports()")}dropInstance(){i("localforage.dropInstance()")}}self.localforage=new ut(new ot("localforage"))}{const e=self.js;if(e.Qi={},e.Qi.Yi=(()=>{try{if("undefined"==typeof document)return!1;const t=document.createElement("div");if(void 0===t.animate)return!1;const s=t.animate([{opacity:"0"},{opacity:"1"}],1e3);return void 0!==s.reverse}catch(t){return!1}})(),e.Qi.Ji="undefined"!=typeof HTMLDialogElement,e.Qi.Vi=!!self.requestIdleCallback,e.Qi.ImageBitmap=!!self.createImageBitmap,e.Qi.ImageBitmapOptions=!1,e.Qi.Hi=!1,e.Qi.ImageBitmap){try{self.createImageBitmap(new ImageData(32,32),{premultiplyAlpha:"none"}).then(()=>{e.Qi.ImageBitmapOptions=!0}).catch(()=>{e.Qi.ImageBitmapOptions=!1})}catch(t){e.Qi.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(t=>{e.Qi.Hi=10===t.width&&10===t.height}).catch(()=>{e.Qi.Hi=!1})}catch(t){e.Qi.Hi=!1}}if(e.Qi.Xi=!(!navigator.clipboard||!navigator.clipboard.readText),e.Qi.Zi=!(!navigator.permissions||!navigator.permissions.query),e.Qi.Ki=!1,e.Qi.Zi){const lt={name:"clipboard-read"};navigator.permissions.query(lt).then(()=>{e.Qi.Ki=!0}).catch(()=>{e.Qi.Ki=!1})}e.Qi.$i=!!(navigator.permissions&&navigator.clipboard&&self.ClipboardItem),e.Qi.te="undefined"!=typeof Proxy,e.Qi.ie=(()=>{if("undefined"==typeof document)return!1;const t=document.createElement("a");return void 0!==t.download})(),e.Qi.he="function"==typeof fetch,e.Qi.ne=!!(self.isSecureContext&&"Opera"!==e.ci.mi&&navigator.storage&&navigator.storage.persist),e.Qi.re=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate),e.Qi.oe=(()=>{if("undefined"==typeof document)return!1;if("iOS"===e.ci.fi)return!1;const t=document.documentElement;return!!(t.requestFullscreen||t.msRequestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullscreen)})(),e.Qi.ImageDecoder=void 0!==self.ImageDecoder,e.Qi.ae=!!self.VideoEncoder,e.Qi.ue=!!self.showOpenFilePicker,e.Qi.le=!!self.queryLocalFonts,e.Qi.UserActivation=!!navigator.userActivation,e.Qi.fe=!1,(async()=>{let s;"undefined"==typeof document?s=new OffscreenCanvas(32,32):((s=document.createElement("canvas")).width=32,s.height=32);const t=s.getContext("2d");t.fillStyle="blue",t.fillRect(0,0,32,32);let i=null;try{s.convertToBlob?i=await s.convertToBlob({type:"image/webp",quality:1}):s.toBlob&&(i=await new Promise(t=>s.toBlob(t,"image/webp",1))),e.Qi.fe=i&&"image/webp"===i.type}catch(t){e.Qi.fe=!1}})()}{let e=function(t,i){return t.reduce((t,s)=>(0<i&&Array.isArray(s)?Array.prototype.push.apply(t,e(s,i-1)):t.push(s),t),[])};e;const ct=self.js;if(!String.prototype.trimStart){const ft=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(ft,"")}}if(!String.prototype.trimEnd){const dt=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(dt,"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(t,s){return this.replace(new RegExp(ct.de(t),"g"),s)}),Array.prototype.values||(Array.prototype.values=function*(){for(const t of this)yield t}),Array.prototype.flat||(Array.prototype.flat=function(t=1){return e(this,t)}),Array.prototype.at||(Array.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),String.prototype.at||(String.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),RegExp.escape||(RegExp.escape=function(t){return String(t).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}),Set.prototype.pe||(Set.prototype.pe=function(t){if(!(t instanceof Set))throw new TypeError("argument must be a Set");for(const s of this)if(!t.has(s))return!1;return!0}),navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((i,t)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((t,s)=>i({usage:t,quota:s}),t))}),void 0===self.isSecureContext&&(self.isSecureContext="https:"===location.protocol),void 0===self.globalThis&&(self.globalThis=self)}{let i=function(t){let s=pt.me(),i="Assertion failure: "+t+"\n\nStack trace:\n"+s;console.error(i)};i;const pt=self.js;self.assert=function(t,s){t||i(s)}}{const h=self.js,mt=self.qs,gt=(h.ge=function(t){return"number"==typeof t},h.ye=function(t){return h.ge(t)&&isFinite(t)},h.Me=function(t){if(!h.ge(t))throw new TypeError("expected number")},h.we=function(t){h.Se(t)},h.Te=function(t,s,i){if(!h.ge(t)||isNaN(t)||t<s||i<t)throw new RangeError("number outside of range")},h.ve=function(...s){for(let t of s);},h.xe=function(t){if(!h.ye(t))throw new TypeError("expected finite number")},h.Ie=function(t){h.Se(t)},h.Ge=function(...s){for(let t of s);},h.Ce=function(t){return"string"==typeof t},h._e=function(t){if(!h.Ce(t))throw new TypeError("expected string")},h.Ee=function(t){h.Se(t)},h.Ae=function(...s){for(let t of s);},h.De=function(t){if("object"!=typeof t||null===t)return!1;let s=Object.getPrototypeOf(t);return s?s.constructor===Object:null===s},h.Ne=function(t){if(!h.De(t))throw new TypeError("expected simple object")},h.Le=function(t){if(!h.Se(t)&&!h.De(t))throw new TypeError("expected simple object")},h.Oe=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)},h.Re=function(t){if(!h.Oe(t))throw new TypeError("expected object")},h.Pe=function(t){h.Se(t)},h.ke=function(...s){for(let t of s);},h.Fe=function(t){return h.je(t,Blob)&&"string"==typeof t.name},h.Be=function(t){if(!h.Fe(t))throw new TypeError("expected file")},h.Ue=function(t){h.Se(t)},h.We=function(t){return Array.isArray(t)},h.Qe=function(t){if(!h.We(t))throw new TypeError("expected array")},h.Ye=function(t){h.Se(t)},h.Je=function(...s){for(let t of s);},h.Ve=function(t){return!(!h.We(t)||t.length&&!h.We(t[0]))},h.He=function(s){if(!h.Ve(s))throw new TypeError("expected 2d array");for(let t of s)if(!h.We(t))throw new TypeError("expected 2d array")},h.qe=function(t){h.Se(t)},h.Xe=function(t){return"function"==typeof t},h.Ze=function(t,s){if(!h.Xe(t))throw new TypeError("expected function");if(!h.Se(s)&&t!==s)throw new TypeError("expected same function reference")},h.Ke=function(t){h.Se(t)},h.$e=function(...s){for(let t of s);},h.th=function(s,...i){if(!h.Xe(s))throw new TypeError("expected function");if(!i.length)throw new Error("missing comparison functions");for(let t of i)if(!h.Se(t)&&s===t)return;throw new TypeError("expected same function reference")},h.ih=function(...s){if(!h.Se(s))for(let t of s);},h.eh=function(t,s){return t instanceof s},h.hh=function(s,...i){for(let t of i)if(h.eh(s,t))return!0;return!1},h.nh=function(t,s){if(!h.eh(t,s))throw new TypeError("unexpected type")},h.rh=function(t,s){h.Se(t)},h.oh=function(t,...s){for(let t of s);},h.ah=function(t,...s){if(!h.hh(t,...s))throw new TypeError("unexpected type")},h.uh=function(t,...s){if(!h.Se(t)&&!h.hh(t,...s))throw new TypeError("unexpected type")},h.lh=function(s,i){for(let t of s)if(!h.eh(t,i))return!1;return!0},h.fh=function(s){for(let t of s)if(!h.ye(t))return!1;return!0},h.dh=function(s,t){for(let t of s);},h.ph=function(s,t){if(!h.Se(s))for(let t of s);},h.mh=function(s,t){if(!h.Se(s))for(let t of s);},h.gh=function(s){for(let t of s);},h.yh=function(s){if(!h.Se(s))for(let t of s);},h.Mh=function(t,s){return!(h.Se(t)||!h.Ce(t.nodeName))&&(!s||h.wh(t.nodeName,s))},h.Sh=function(t,s){if(h.Se(t)||!h.Ce(t.nodeName))throw new TypeError("expected DOM node");if(s&&!h.wh(t.nodeName,s))throw new TypeError(`expected DOM '${s}' node`)},h.Th=function(t,s){h.Se(t)},h.bh=function(t,s){return!(h.Se(t)||!h.Ce(t.tagName))&&(!s||h.wh(t.tagName,s))},h.xh=function(t,s){if(h.Se(t)||!h.Ce(t.tagName))throw new TypeError("expected HTML element");if(s&&!h.wh(t.tagName,s))throw new TypeError(`expected HTML '${s}' element`)},h.Ih=function(t,s){h.Se(t)},h.Gh=function(t){return h.bh(t,"img")||h.bh(t,"canvas")||h.bh(t,"video")||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap},h.Ch=function(t){if(!h.Gh(t))throw new TypeError("expected drawable")},h._h=function(t){h.Se(t)},h.Eh=function(t){return t instanceof ImageData||h.Gh(t)},h.Ah=function(t){if(!h.Eh(t))throw new TypeError("expected drawable or image data")},h.Dh=function(t){if(!h.Se(t)&&!h.Eh(t))throw new TypeError("expected drawable or image data")},h.Nh=function(t){return"string"==typeof t||h.HtmlString&&t instanceof h.HtmlString||t instanceof h.Lh},h.Oh=function(t){if(!h.Nh(t))throw new TypeError("expected string-like")},h.Rh=function(t){h.Se(t)},h.Ph=function(...s){for(let t of s);},h.kh=function(){throw new Error("must be overridden")},h.Fh=function(){throw new Error("not yet implemented")},h.jh=function(t,...s){let i=t;if(void 0===i)return!1;for(let t of s){if(void 0===i[t])return!1;i=i[t]}return!0},h.Se=function(t){return null==t},h.zh=function(s){let i=s[0].constructor;for(let t of s)if(t.constructor!==i)return!1;return i},h.Bh=function(s,i){for(let t of s)if(!(t instanceof i))return!1;return!0},Object.getPrototypeOf(Uint8Array));h.Uh=function(t){return h.eh(t,gt)},h.Wh=function(t){},h.Qh=function(t){h.Yh(t,gt)},h.Jh=function(t,...s){if(!h.Vh(t,...s))throw new TypeError("unexpected type")},h.Vh=function(t,...s){for(const i of s)if(h.je(t,i))return!0;return!1},h.Yh=function(t,s){if(!h.je(t,s))throw new TypeError("unexpected type")},h.je=function(t,s){for(;t=Object.getPrototypeOf(t);)if(t.constructor.name===s.name)return!0;return!1},mt.Me=h.Me,mt.we=h.we,mt.xe=h.xe,mt.Ie=h.Ie,mt._e=h._e,mt.Ee=h.Ee,mt.Re=h.Re,mt.Pe=h.Pe,mt.Qe=h.Qe,mt.Ye=h.Ye,mt.Ze=h.Ze,mt.Ke=h.Ke,mt.nh=h.nh,mt.rh=h.rh,mt.Se=h.Se}{let e=function(t,s){let i=p.getType(t),e=p.getType(s);return"null"===i||"null"===e||"undefined"!==i&&"undefined"!==e&&i===e},h=function(t){console.warn("[Defence] "+t+" @",p.me())},i=function(){if(f=-1,0<a.size||0<u.size){let t=new Set([...a.keys()].map(t=>p.Hh(t))),s=[...t].join(",");console.warn("An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: "+s),a.clear(),u.clear()}},n=function(s){let i=new Set;for(let t in s)i.add(t);return i},r=function(t,s){let i=n(s),e=d.get(t);if(e){let s=[];for(let t of e.values())i.has(t)?i.delete(t):s.push(t);p.qh(s,[...i]),s.length&&console.warn(`[Defence] '${p.Hh(t)}' constructor creates inconsistent properties: `+s.join(", "))}else d.set(t,i)};e,h,i,n,r;const p=self.js,yt=new Map;p.Xh=function(t,s){console.log("%c"+t,"font-weight: bold; color:"+s)},p.Zh=function(t,...s){yt.has(t)||yt.set(t,-1),-1===yt.get(t)&&yt.set(t,requestAnimationFrame(()=>{console.log("%c"+t,"font-weight: bold",...s),yt.set(t,-1)}))};let o,a=(p.Kh=function(t){performance.mark(t),(o=o||new Map).has(t)||o.set(t,{current:0,total:0,$h:0,tn:1,toString:function(){return`${t} :: current => ${this.current.toPrecision(3)} :: average => ${this.$h.toPrecision(3)} :: calls => `+this.tn}})},p.sn=function(t){performance.measure("measure-"+t,t);const s=performance.getEntriesByName("measure-"+t)[0],i=o.get(t);i.current=s.duration,i.total+=i.current,i.$h=i.total/i.tn,console.log(i.toString()),i.tn++,performance.clearMarks(t),performance.clearMeasures("measure-"+t)},p.me=function(){return(new Error).stack},p.hn=function(){},p.cast=function(t,s){return t&&t instanceof s?t:null},p.Hh=function(t){return void 0===t?"undefined":null===t?"null":"boolean"==typeof t?"<boolean>":p.ge(t)?"<number>":p.Ce(t)?"<string>":p.We(t)?"<array>":"symbol"==typeof t?"<"+t.toString()+">":p.Xe(t)?t.name&&"Function"!==t.name?t.name:"<anonymous function>":"object"==typeof t?t.constructor&&t.constructor.name&&"Object"!==t.constructor.name?t.constructor.name:"<anonymous object>":"<unknown>"},p.getType=function(t){return null===t?"null":Array.isArray(t)?"array":typeof t},p.range=function*(s,i){if(!isFinite(Math.abs(s-i)))throw new Error("Invalid parameters");if(i<s)for(let t=s-1;t>=i;t--)yield t;else for(let t=s;t<i;t++)yield t},new Map),u=new Map,l=new WeakMap,c=new WeakMap;p.nn={};const Mt=new Set(["then","splice"]);p.nn.get=function(t,s){return s in t||"symbol"==typeof s||Mt.has(s)||h(`Accessed missing property '${s}' from defended object '${p.Hh(t)}', returning undefined`),c.has(t)&&"symbol"!=typeof s&&!Mt.has(s)&&h(`Accessed property '${s}' on a released object '${p.Hh(t)}'
Object was originally released at: ${c.get(t)})
Call stack at access: `),t[s]},p.nn.set=function(t,s,i){return s in t||a.has(t)||h(`Set non-existent property '${s}' to '${i}' on defended object '${p.Hh(t)}'`),e(t[s],i)||a.has(t)||h(`Set '${p.getType(t[s])}' property '${s}' to type '${p.getType(i)}' on defended object '${p.Hh(t)}'`),c.has(t)&&h(`Set property '${s}' on a released object '${p.Hh(t)}'
Object was originally released at: ${c.get(t)})
Call stack at access: `),t[s]=i,!0},p.nn.deleteProperty=function(t,s){throw new ReferenceError(`Cannot delete property '${s}' from defended object '${p.Hh(t)}'`)},p.nn.defineProperty=function(t,s,i){throw new ReferenceError(`Cannot define property '${s}' on defended object '${p.Hh(t)}'`)},p.nn.enumerate=function(t){throw new ReferenceError(`Cannot enumerate defended object '${p.Hh(t)}'`)};let f=-1,d=(p.rn=class{constructor(){if(p.Hs&&p.Qi.te){let t=Object.create(new.target.prototype),s=new Proxy(t,p.nn);return a.set(t,s),u.set(s,t),l.set(s,t),-1===f&&(f=requestAnimationFrame(i)),s}}},p.an=function(s){if(p.Hs&&p.Qi.te&&s instanceof p.rn){if(u.has(s)){let t=u.get(s);u.delete(s),a.delete(t)}return s}return p.isDebug?Object.seal(s):s},p.un=function(t,...s){let i;try{i=new t(...s)}catch(t){throw u.clear(),a.clear(),t}return p.Hs&&r(t,i),p.an(i)},p.ln=function(t){let s=l.get(t);s&&c.set(s,p.me())},p.cn=function(t){let s=l.get(t);return!!s&&!!c.get(s)},new Map);p.dn=class{constructor(t){this.pn="",t&&this.start(t)}start(t){p.li&&(this.pn=t,performance.mark(this.pn+"-Start"))}end(){p.li&&(performance.mark(this.pn+"-End"),performance.measure(this.pn,this.pn+"-Start",this.pn+"-End"))}next(t){p.li&&(this.end(),this.pn=t,performance.mark(this.pn+"-Start"))}}}{let i=function(t){return 0===t&&1/t<0};i;const y=self.js,wt=2*Math.PI,St=Math.PI/180,Tt=180/Math.PI,bt=(y.wrap=function(t,s,i){t=Math.floor(t),s=Math.floor(s);const e=(i=Math.floor(i))-s;if(0==e)return i;if(t<s){const h=i-(s-t)%e;return h===i?0:h}return s+(t-s)%e},y.mn=function(t,s,i,e,h){const n=i-s;if(0==n&&0===e)return t;const r=h-e;return(t-s)*r/n+e},y.normalize=function(t,s,i){return s-i==0?1:(t-s)/(i-s)},y.gn=function(t,s,i){return t<s?s:i<t?i:t},y.yn=function(t){return(t%=wt)<0&&(t+=wt),t},y.Mn=function(t){return t*St},y.wn=function(t){return t*Tt},y.Sn=function(t,s,i,e){return Math.hypot(i-t,e-s)},y.Tn=function(t,s,i,e){const h=i-t,n=e-s;return h*h+n*n},y.bn=function(t,s,i,e){return Math.atan2(e-s,i-t)},y.vn=function(t,s){if(t===s)return 0;let i=Math.sin(t),e=Math.cos(t),h=Math.sin(s),n=Math.cos(s),r=i*h+e*n;return 1<=r?0:r<=-1?Math.PI:Math.acos(r)},y.xn=function(t,s,i){let e=Math.sin(t),h=Math.cos(t),n=Math.sin(s),r=Math.cos(s);return Math.acos(e*n+h*r)>i?0<h*n-e*r?y.yn(t+i):y.yn(t-i):y.yn(s)},y.In=function(t,s){let i=Math.sin(t),e=Math.cos(t),h=Math.sin(s),n=Math.cos(s);return e*h-i*n<=0},y.Gn=function(t,s,i,e=0){let h=y.vn(t,s),n=wt*e;return y.In(s,t)?y.yn(t+(h+n)*i):y.yn(t-(h+n)*i)},y.Cn=function(t,s,i,e=0){const h=y.vn(t,s),n=wt*e;return y.In(s,t)?y.yn(t+(h+n)*i):y.yn(t+(wt-h+n)*i)},y._n=function(t,s,i,e=0){const h=y.vn(t,s),n=wt*e;return y.In(s,t)?y.yn(t-(-wt+h-n)*i):y.yn(t-(h+n)*i)},y.En=function(t,s){const i=y.vn(t,s);return y.In(t,s)?y.yn(s-i):y.yn(s+i)},y.Pt=function(t,s,i){return t+i*(s-t)},y.An=function(t,s,i){return t===s?0:(i-t)/(s-t)},y.Dn=function(t,s,i,e,h){return y.Pt(e,h,y.An(t,s,i))},y.Nn=function(t,s,i,e){return y.Pt(y.Pt(t,s,e),y.Pt(s,i,e),e)},y.Ln=function(t,s,i,e,h){return y.Pt(y.Nn(t,s,i,h),y.Nn(s,i,e,h),h)},y.On=function(t,s,i){return(t+s+(t-s)*Math.cos(i*Math.PI))/2},y.Rn=function(t){return 0<t&&0==(t-1&t)},y.Pn=function(s){--s;for(let t=1;t<32;t<<=1)s|=s>>t;return s+1},y.kn=function(t,s){return Math.round(t*s)/s},y.Fn=function(t,s){return Math.floor(t*s)/s},y.jn=function(t,s){s=Math.max(Math.floor(s),0);const i=Math.pow(10,s);return Math.round(t*i)/i},y.zn=function(t){return Math.floor(t)!==t&&t.toString().split(".")[1].length||0},y.toFixed=function(t,s){let i=t.toFixed(s),e=i.length-1;for(;0<=e&&"0"===i.charAt(e);--e);return 0<=e&&"."===i.charAt(e)&&--e,e<0?i:i.substr(0,e+1)},y.Bn=function(t,s,i){return y.gn(t,0,255)|y.gn(s,0,255)<<8|y.gn(i,0,255)<<16},1024),vt=16384,xt=8191,It=(y.Un=function(t,s,i,e){return t=y.gn(Math.floor(1024*t),-8192,xt),s=y.gn(Math.floor(1024*s),-8192,xt),i=y.gn(Math.floor(1024*i),-8192,xt),e=y.gn(Math.floor(1023*e),0,1023),t<0&&(t+=vt),s<0&&(s+=vt),i<0&&(i+=vt),-(t*vt*vt*bt+s*vt*bt+i*bt+e)},y.Wn=function(t,s,i){return y.Un(t,s,i,1)},y.Qn=function(s){if(0<=s)return(255&s)/255;{let t=Math.floor(-s/(vt*vt*bt));return t>xt&&(t-=vt),t/1024}},y.Yn=function(s){if(0<=s)return((65280&s)>>8)/255;{let t=Math.floor(-s%(vt*vt*bt)/(vt*bt));return t>xt&&(t-=vt),t/1024}},y.Jn=function(s){if(0<=s)return((16711680&s)>>16)/255;{let t=Math.floor(-s%(vt*bt)/bt);return t>xt&&(t-=vt),t/1024}},y.Vn=function(t){if(i(t))return 0;if(0<=t)return 1;{const s=Math.floor(-t%bt);return s/1023}},y.Hn=function(s,i){for(s=Math.floor(s),i=Math.floor(i);0!==i;){let t=i;i=s%i,s=t}return s},[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]]);y.qn=function(i,e){if((i=Math.floor(i))===(e=Math.floor(e)))return[1,1];for(let s of It){let t=i/s[0]*s[1];if(Math.abs(e-t)<1)return s.slice(0);if(t=i/s[1]*s[0],Math.abs(e-t)<1)return[s[1],s[0]]}let t=y.Hn(i,e);return[i/t,e/t]},y.Xn=function(t,s,i,e,h,n,r,o){const a=Math.min(t,i),u=Math.max(t,i),l=Math.min(h,r),c=Math.max(h,r);if(u<l||c<a)return!1;const f=Math.min(s,e),d=Math.max(s,e),p=Math.min(n,o),m=Math.max(n,o);if(d<p||m<f)return!1;const g=h-t+r-i,y=n-s+o-e,M=i-t,w=e-s,S=r-h,T=o-n,b=Math.abs(w*S-T*M),v=S*y-T*g;if(Math.abs(v)>b)return!1;const x=M*y-w*g;return Math.abs(x)<=b},y.Zn=function(t,s,i,e,h,n,r,o,a,u,l,c){const f=Math.min(a,l),d=Math.max(a,l);if(n<f||d<h)return!1;const p=Math.min(u,c),m=Math.max(u,c);if(o<p||m<r)return!1;const g=a-t+l-i,y=u-s+c-e,M=i-t,w=e-s,S=l-a,T=c-u,b=Math.abs(w*S-T*M),v=S*y-T*g;if(Math.abs(v)>b)return!1;const x=M*y-w*g;return Math.abs(x)<=b},y.Kn=function(t,s,i,e,h){const n=Math.min(t,i),r=Math.max(t,i),o=Math.min(s,e),a=Math.max(s,e),u=h.$n(),l=h.ir(),c=h.er(),f=h.hr(),d=h.nr(),p=h.rr(),m=h.ur(),g=h.lr();return y.Zn(t,s,i,e,n,r,o,a,u,l,c,f)||y.Zn(t,s,i,e,n,r,o,a,c,f,d,p)||y.Zn(t,s,i,e,n,r,o,a,d,p,m,g)||y.Zn(t,s,i,e,n,r,o,a,m,g,u,l)},y.cr=function(s,i,e,h,n){let r=Math.min(s,e),o=Math.max(s,e),a=Math.min(i,h),u=Math.max(i,h),l=0;for(let t=n.length-4;l<=t;l+=2)if(y.Zn(s,i,e,h,r,o,a,u,n[l],n[l+1],n[l+2],n[l+3]))return!0;return y.Zn(s,i,e,h,r,o,a,u,n[l],n[l+1],n[0],n[1])};y.dr=function(t,s,i,e,h,n,r,o){const a=i-t,u=e-s,l=r-h,c=o-n,f=a*c-u*l;if(0==f)return 2;const d=((s-e)*(r-t)+a*(o-s))/f;return 0<d&&d<1+1e-6?(c*(r-t)+(h-r)*(o-s))/f:2},y.pr=function(t,s,i,e,h,n,r,o,a){const u=(r-h)*a,l=(o-n)*a;return y.dr(t,s,i,e,h-u,n-l,r+u,o+l)},y.mr=function(t,s,i,e,h,n,r,o){const a=h-i,u=n-e,l=r-i,c=o-e,f=t-i,d=s-e,p=a*a+u*u,m=a*l+u*c,g=a*f+u*d,y=l*l+c*c,M=l*f+c*d,w=1/(p*y-m*m),S=(y*g-m*M)*w,T=(p*M-m*g)*w;return 0<=S&&0<=T&&S+T<=1},y.Mr=function(t,s,i,e,h,n,r,o){const a=h-i,u=n-e,l=r-i,c=o-e,f=t-i,d=s-e,p=a*a+u*u,m=a*l+u*c,g=l*l+c*c,y=f*a+d*u,M=f*l+d*c,w=p*g-m*m,S=(g*y-m*M)/w,T=(p*M-m*y)/w,b=1-S-T;return[b,S,T]},y.Sr=function(t,s,i,e,h,n,r,o,a,u,l,c){return[t*e+s*r+i*u,t*h+s*o+i*l,t*n+s*a+i*c]}}{let u=self.js,s=null,i="";if("undefined"!=typeof document){const Gt=(s=document).querySelector("base");(i=Gt&&Gt.hasAttribute("href")?Gt.getAttribute("href"):"")&&!(i=i.startsWith("/")?i.substr(1):i).endsWith("/")&&(i+="/")}u.Tr=function(){return i},u.br=function(){if(!s)return"";const t=s.location;return u.vr(t.origin+t.pathname)+i},u.vr=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return t;const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?"":t.substr(0,s+1)},u.Ir=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return"";const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?t:t.substr(s+1)},u.Gr=function(t){let s=t.lastIndexOf(".");return s<1?"":t.substr(s)},u.Cr=function(t,s){const i=t.lastIndexOf(".");return-1===i?t+"."+s:t.substr(0,i+1)+s},u._r=function(t){let s=t.lastIndexOf(".");return s<1?t:t.substr(0,s)},u.Er=function(t){return t.replace(/\\/g,"/")},u.Ar=function(t,s){const i=t?u.Gr(t).slice(1):"";return s===i},u.Dr=function(t,s){let i,e;return u.Fe(t)&&(i=u._r(t.name)),u.Ce(t)&&(i=u._r(t)),u.Fe(s)&&(e=u._r(s.name)),u.Ce(s)&&(e=u._r(s)),i===e},u.Nr=function(t){t=u.Er(t);let s=/^\w\:\//.exec(t),i=(s?(s=s[0],"/"!==(t=t.slice(3))[0]&&(t="/"+t)):s="",(t=1<(t=t.replace(/\/{2,}/g,"/")).length&&"/"===t.slice(-1)?t.slice(0,-1):t).lastIndexOf("/")+1),e="",h=t,n,r="";0<i&&(e=t.slice(0,i),h=t.slice(i));const o=(n=h).lastIndexOf("."),a=(0<o&&(r=h.slice(o),n=h.slice(0,-r.length)),s+e+h);return{dir:e,Lr:h,name:n,root:s,ext:r,Or:a}},u.Rr=function(i,e){return new Promise((t,s)=>{self.setTimeout(t,i,e)})},u.Pr=function(t){try{t()}catch(t){u.isDebug&&console.warn("Swallowed exception: ",t)}},u.kr=function(){},u.wh=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize().toLowerCase()===s.normalize().toLowerCase())},u.Fr=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize()===s.normalize())},u.jr=function(t,s,i){t[i++]=s[0],t[i++]=s[1],t[i++]=s[2],t[i++]=s[3],t[i++]=s[4],t[i++]=s[5],t[i++]=s[6],t[i++]=s[7],t[i++]=s[8],t[i++]=s[9],t[i++]=s[10],t[i++]=s[11],t[i++]=s[12],t[i++]=s[13],t[i++]=s[14],t[i]=s[15]},u.zr=function(t,s){t.length=s},u.Br=function(t){t&&0!==t.length&&u.zr(t,0)},u.Ur=function(i){if(i){for(let s=0;s<i.length;s++){let t=i[s];u.zr(t,0)}u.zr(i,0)}},u.Wr=function(s,i,e){const h=s.length;if(!((i|=0)<=h))for(let t=h;t<i;++t)s.push(e)},u.Qr=function(t,s,i){const e=t.length;(s|=0)<e?u.zr(t,s):e<s&&u.Wr(t,s,i)},u.Yr=function(t,s){u.Br(t),u.qh(t,s)},u.qh=function(i,e){if(e.length<1e4)i.push(...e);else for(let t=0,s=e.length;t<s;++t)i.push(e[t])},u.Jr=function(i,e){if(!((e=Math.floor(e))<0||e>=i.length)){let s=i.length-1;for(let t=e;t<s;++t)i[t]=i[t+1];u.zr(i,s)}},u.Vr=function(t,s){let i=t.indexOf(s);0<=i&&t.splice(i,1)},u.Hr=function(s,i){let e=s.length;if(i.length!==e)return!1;for(let t=0;t<e;++t)if(s[t]!==i[t])return!1;return!0},u.qr=function(i,e){let h=[],n=0;for(let s=0,t=i.length;s<t;++s){let t=i[s];e(t)?h.push(t):(i[n]=t,++n)}return u.zr(i,n),h},u.Xr=function(i,e){let t=i.length,h=0;for(let s=0,t=i.length;s<t;++s){let t=i[s];e.has(t)||(i[h++]=t)}return u.zr(i,h),t-h},u.Zr=function(t,s){return t===Math.floor(t)&&0<=t&&t<s.length},u.Kr=function(t,s){if(!u.Zr(t,s))throw new RangeError("array index out of bounds")},u.$r=function(t){return t.slice()},u.eo=function(t,i){let e=[];for(let s of t)if(u.Oe(s)){let t=i(s);if(!t)throw new Error("missing clone");if(t.constructor!==s.constructor)throw new Error("object is not a clone");e.push(t)}else u.We(s)?e.push(u.eo(s,i)):e.push(s);return e},u.ho=function(s){let i=[];for(let t of s)i.push(t.slice());return i},u.no=function(t,s=" "){return t?t.split(s).map(t=>t.trim()).filter(t=>!!t):[]},u.ro=function(t,s,i){const e=new Set;for(const h of t.values())s(h)&&(i?e.add(i(h)):e.add(h));return e},u.ao=function(t,s){return t.union?t.union(s):new Set([...t,...s])},u.uo=function(t,s){for(const i of s)t.add(i);return t},u.first=function(s){for(let t of s)return t;return null},u.xor=function(t,s){return!t!=!s},u.compare=function(t,s,i){switch(s){case 0:return t===i;case 1:return t!==i;case 2:return t<i;case 3:return t<=i;case 4:return i<t;case 5:return i<=t;default:return!1}},u.lo=function(s){for(let t in s)if(s.hasOwnProperty(t))return!0;return!1},u.co=function(o,a){return o.length?new Promise((i,e)=>{let h=[],n=0,r=!1;for(let s=0,t=o.length;s<t;++s)h.push(void 0),o[s].then(t=>{r||(h[s]=t,++n===o.length?i(h):a(n,o.length))}).catch(t=>{r=!0,e(t)})}):Promise.resolve([])};let e=[],h=(u.fo=function(t){e.push(t)},u.do=function(){let i=0;for(let s of e){let t=s();i+=t}return Math.floor(i)},1),n=new Map,r=new MessageChannel,o=(r.port2.onmessage=function(t){const s=t.data,i=n.get(s);n.delete(s),i&&i(performance.now())},u.po=function(t){const s=h++;return n.set(s,t),r.port1.postMessage(s),s},u.mo=function(t){n.delete(t)},u.yo=u.po,u.Mo=function(){return new Promise(t=>u.yo(t))},new Set);u.wo=function(s){const i=self.requestAnimationFrame(async t=>{await u.Mo(),o.has(i)&&(o.delete(i),s(t))});return o.add(i),i},u.So=function(t){o.has(t)&&(self.cancelAnimationFrame(t),o.delete(t))}}{const n=self.js;n.To=function(t){return/^(?:[a-z\-]+:)?\/\//.test(t)||"data:"===t.substr(0,5)||"blob:"===t.substr(0,5)},n.bo=function(t){return!n.To(t)},n.vo=function(t){if(!t.ok)throw new Error(`fetch '${t.url}' response returned ${t.status} `+t.statusText)},n.xo=function(t,s){return fetch(t,s).then(t=>(n.vo(t),t))},n.Io=function(t){return n.xo(t).then(t=>t.text())},n.Go=function(t){return n.xo(t).then(t=>t.json())},n.Co=function(t){return n.xo(t).then(t=>t.blob())},n._o=function(t){return n.xo(t).then(t=>t.arrayBuffer())},n.Eo=function(e){return new Promise((t,s)=>{const i=new Image;i.onload=()=>t(i),i.onerror=t=>s(t),i.src=e})},n.Ao=function(e){return"function"==typeof e.arrayBuffer?e.arrayBuffer():new Promise((t,s)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=()=>s(i.error),i.readAsArrayBuffer(e)})},n.Do=function(e){return"function"==typeof e.text?e.text():new Promise((t,s)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=()=>s(i.error),i.readAsText(e)})},n.No=function(t){return n.Do(t).then(t=>JSON.parse(t))},n.Lo=async function(t,s){let i=URL.createObjectURL(t);try{const e=await n.Eo(i);return URL.revokeObjectURL(i),i="",s&&"function"==typeof e.decode&&await e.decode(),e}finally{i&&URL.revokeObjectURL(i)}},n.Oo=function(t,s){if("undefined"==typeof document||"function"!=typeof document.createElement)return new OffscreenCanvas(t,s);{const i=document.createElement("canvas");return i.width=t,i.height=s,i}},n.Ro=function(s,i,e){if("number"!=typeof e&&(e=1),i=i||"image/png",e=n.gn(e,0,1),s.convertToBlob)return s.convertToBlob({type:i,quality:e});if(s.toBlob)return new Promise(t=>s.toBlob(t,i,e));throw new Error("could not convert canvas to blob")},n.Po=function(t,s,i){const e=n.Oo(t.width,t.height),h=e.getContext("2d");return h.drawImage(t,0,0),n.Ro(e,s,i)},n.ko=function(t,s,i){if(n.Qi.ImageBitmapOptions)return createImageBitmap(t,{premultiplyAlpha:"none"}).then(t=>n.Po(t,s,i));if(n.Qi.ImageBitmap)return createImageBitmap(t).then(t=>n.Po(t,s,i));{const e=n.Oo(t.width,t.height),h=e.getContext("2d");return h.putImageData(t,0,0),n.Ro(e,s,i)}},n.Fo=function(t,s){t.clear();for(const i of s)t.add(i)},n.jo=function(t){const s=Object.create(null);for(const[i,e]of t.entries())s[i]=e;return s},n.zo=function(t,s){s.clear();for(const[i,e]of Object.entries(t))s.set(i,e)},n.Bo=function s(t){if("object"!=typeof t||null===t)return t;if(t instanceof Set)return{_c3type_:"set",data:[...t].map(t=>s(t))};if(t instanceof Map)return{_c3type_:"map",data:[...t].map(t=>[t[0],s(t[1])])};{const i=Object.create(null);for(const[e,h]of Object.entries(t))i[e]=s(h);return i}},n.Uo=function s(t){if("object"==typeof t&null!==t){if("set"===t._c3type_)return new Set(t.data.map(t=>s(t)));if("map"===t._c3type_)return new Map(t.data.map(t=>[t[0],s(t[1])]));{const i=Object.create(null);for(const[e,h]of Object.entries(t))i[e]=s(h);return i}}return t},n.Wo=function(t){if(t.startsWith("--"))return t;let s="",i=!1,e=0;for(const h of t)"-"===h?0<e&&(i=!0):i?(s+=h.toUpperCase(),i=!1):s+=h,++e;return s},n.Qo=function(t){return"object"==typeof t&&"function"==typeof t.next},n.Yo=function(s,i){const e=[];if("function"==typeof i)for(let t=0;t<s;++t)e.push(i());else for(let t=0;t<s;++t)e.push(i);return e}}{let e=function(t){return 0===t.length?"00":1===t.length?"0"+t:t},u=function(t,s,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(s-t)*i:i<.5?s:i<2/3?t+(s-t)*(2/3-i)*6:t};e,u;const l=self.js,Ct=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?/i,_t=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?,([0-9.])/i;l.Jo=class{constructor(t,s,i,e){this.Vo=NaN,this.Ho=NaN,this.qo=NaN,this.Xo=NaN,this.Vo=0,this.Ho=0,this.qo=0,this.Xo=0,t instanceof l.Jo?this.set(t):this.Zo(t||0,s||0,i||0,e||0)}Ko(t,s,i){return this.Vo=+t,this.Ho=+s,this.qo=+i,this.gn(),this}Zo(t,s,i,e){return this.Vo=+t,this.Ho=+s,this.qo=+i,this.Xo=+e,this.gn(),this}set(t){return this.Vo=t.Vo,this.Ho=t.Ho,this.qo=t.qo,this.Xo=t.Xo,this}C(t){return this.set(t)}add(t){this.Vo+=t.Vo,this.Ho+=t.Ho,this.qo+=t.qo,this.Xo+=t.Xo,this.gn()}$o(t,s,i,e=0){this.Vo+=+t,this.Ho+=+s,this.qo+=+i,this.Xo+=+e,this.gn()}ta(t){this.ea(Math.max(this.Vo,t.Vo)-Math.min(this.Vo,t.Vo)),this.na(Math.max(this.Ho,t.Ho)-Math.min(this.Ho,t.Ho)),this.ra(Math.max(this.qo,t.qo)-Math.min(this.qo,t.qo)),this.oa(Math.max(this.Xo,t.Xo)-Math.min(this.Xo,t.Xo)),this.gn()}aa(t){this.Vo=t.Vo,this.Ho=t.Ho,this.qo=t.qo}ea(t){this.Vo=l.gn(+t,0,1)}ua(){return this.Vo}na(t){this.Ho=l.gn(+t,0,1)}la(){return this.Ho}ra(t){this.qo=l.gn(+t,0,1)}ca(){return this.qo}oa(t){this.Xo=l.gn(+t,0,1)}fa(){return this.Xo}clone(){return l.un(l.Jo,this.Vo,this.Ho,this.qo,this.Xo)}toArray(){return[this.Vo,this.Ho,this.qo,this.Xo]}da(){return new Float64Array(this.toArray())}pa(t,s){t[s++]=this.Vo,t[s++]=this.Ho,t[s++]=this.qo,t[s]=this.Xo}ma(t,s){t[s++]=this.Vo,t[s++]=this.Ho,t[s]=this.qo}equals(t){return this.Vo===t.Vo&&this.Ho===t.Ho&&this.qo===t.qo&&this.Xo===t.Xo}ga(t){return this.Vo===t.Vo&&this.Ho===t.Ho&&this.qo===t.qo}ya(t,s,i){return this.Vo===t&&this.Ho===s&&this.qo===i}Ma(t,s,i,e){return this.Vo===t&&this.Ho===s&&this.qo===i&&this.Xo===e}wa(t,s){return t[s]===Math.fround(this.Vo)&&t[s+1]===Math.fround(this.Ho)&&t[s+2]===Math.fround(this.qo)&&t[s+3]===Math.fround(this.Xo)}Sa(t,s){return t[s]===Math.fround(this.Vo)&&t[s+1]===Math.fround(this.Ho)&&t[s+2]===Math.fround(this.qo)}multiply(t){this.Vo*=t.Vo,this.Ho*=t.Ho,this.qo*=t.qo,this.Xo*=t.Xo}Ta(t){this.Vo*=t,this.Ho*=t,this.qo*=t,this.Xo*=t}ba(){return this.Vo*=this.Xo,this.Ho*=this.Xo,this.qo*=this.Xo,this}xa(){return this.Vo/=this.Xo,this.Ho/=this.Xo,this.qo/=this.Xo,this}gn(){return this.Vo=l.gn(this.Vo,0,1),this.Ho=l.gn(this.Ho,0,1),this.qo=l.gn(this.qo,0,1),this.Xo=l.gn(this.Xo,0,1),this}Ia(t){this.Vo=l.Qn(t),this.Ho=l.Yn(t),this.qo=l.Jn(t),this.Xo=l.Vn(t)}Ga(t,s,i){const e=l.ye(t)?t:this.ua(),h=l.ye(s)?s:this.la(),n=l.ye(i)?i:this.ca();return`rgb(${100*e}%, ${100*h}%, ${100*n}%)`}Ca(t,s,i,e){const h=l.ye(t)?t:this.ua(),n=l.ye(s)?s:this.la(),r=l.ye(i)?i:this.ca(),o=l.ye(e)?e:this.fa();return`rgba(${100*h}%, ${100*n}%, ${100*r}%, ${o})`}_a(){const t=Math.round(255*this.ua()),s=Math.round(255*this.la()),i=Math.round(255*this.ca());return"#"+e(t.toString(16))+e(s.toString(16))+e(i.toString(16))}Ea(t){if("string"!=typeof t)return!1;let s,i,e;if(3===(t="#"===(t=t.trim()).charAt(0)?t.substr(1):t).length)s=parseInt(t[0],16)/15,i=parseInt(t[1],16)/15,e=parseInt(t[2],16)/15;else{if(6!==t.length)return!1;s=parseInt(t.substr(0,2),16)/255,i=parseInt(t.substr(2,2),16)/255,e=parseInt(t.substr(4,2),16)/255}return isFinite(s)&&this.ea(s),isFinite(i)&&this.na(i),isFinite(e)&&this.ra(e),this.oa(1),!0}Aa(){const t=Math.round(255*this.ua()),s=Math.round(255*this.la()),i=Math.round(255*this.ca());return t+`, ${s}, `+i}Da(){const t=Math.round(255*this.ua()),s=Math.round(255*this.la()),i=Math.round(255*this.ca());return[t,s,i]}Na(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const i=parseInt(s[0].trim(),10)/255,e=parseInt(s[1].trim(),10)/255,h=parseInt(s[2].trim(),10)/255;return isFinite(i)&&this.ea(i),isFinite(e)&&this.na(e),isFinite(h)&&this.ra(h),this.oa(1),!0}La(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const i=parseInt(s[0].trim(),10)/100,e=parseInt(s[1].trim(),10)/100,h=parseInt(s[2].trim(),10)/100;return isFinite(i)&&this.ea(i),isFinite(e)&&this.na(e),isFinite(h)&&this.ra(h),this.oa(1),!0}Oa(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const i=parseInt(s[0].trim(),10)/255,e=parseInt(s[1].trim(),10)/255,h=parseInt(s[2].trim(),10)/255,n=parseFloat(s[3].trim());return isFinite(i)&&this.ea(i),isFinite(e)&&this.na(e),isFinite(h)&&this.ra(h),isFinite(n)&&this.oa(n),!0}Ra(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const i=parseInt(s[0].trim(),10)/100,e=parseInt(s[1].trim(),10)/100,h=parseInt(s[2].trim(),10)/100,n=parseFloat(s[3].trim());return isFinite(i)&&this.ea(i),isFinite(e)&&this.na(e),isFinite(h)&&this.ra(h),isFinite(n)&&this.oa(n),!0}Pa(t){if("string"!=typeof t)return!1;if((t=t.replace(/\s+/,"")).includes(",")){if(t.startsWith("rgb("))return t.includes("%")?this.La(t):this.Na(t);if(t.startsWith("rgba("))return t.includes("%")?this.Ra(t):this.Oa(t);if(t.startsWith("hsl(")||t.startsWith("hsla("))return this.ka(t);{const s=t.split(",");return t.includes("%")?3===s.length?this.La(t):4===s.length&&this.Ra(t):3===s.length?this.Na(t):4===s.length&&this.Oa(t)}}return this.Ea(t)}toJSON(){return[this.Vo,this.Ho,this.qo,this.Xo]}Fa(t,s,i,e){let h,n,r;if(t%=360,s=l.gn(s,0,100),i=l.gn(i,0,100),e=l.gn(e,0,1),t/=360,i/=100,0==(s/=100))h=n=r=i;else{const o=i<.5?i*(1+s):i+s-i*s,a=2*i-o;h=u(a,o,t+1/3),n=u(a,o,t),r=u(a,o,t-1/3)}return this.ea(h),this.na(n),this.ra(r),this.oa(e),this}ka(t){const s=t.replace(/ |hsl|hsla|\(|\)|;/gi,""),i=Ct.exec(s),e=_t.exec(s);return i&&4===i.length?(this.Fa(+i[1],+i[2],+i[3],1),!0):!(!e||5!==e.length||(this.Fa(+i[1],+i[2],+i[3],+i[4]),0))}ja(){const t=this.Vo,s=this.Ho,i=this.qo,e=this.Xo,h=l.Jo.za(t,s,i),n=l.Jo.Ba(t,s,i),r=l.Jo.Ua(t,s,i);return`hsla(${h}, ${n}%, ${r}%, ${e})`}Wa(){const t=this.Vo,s=this.Ho,i=this.qo;return[l.Jo.za(t,s,i),l.Jo.Ba(t,s,i),l.Jo.Ua(t,s,i),this.Xo]}Qa(t){!Array.isArray(t)||t.length<3||(this.Vo=t[0],this.Ho=t[1],this.qo=t[2],this.Xo=4<=t.length?t[3]:1)}set r(t){this.ea(t)}get r(){return this.ua()}set g(t){this.na(t)}get g(){return this.la()}set b(t){this.ra(t)}get b(){return this.ca()}set a(t){this.oa(t)}get a(){return this.fa()}Ya(t,s){switch(t){case 0:this.ea(s);break;case 1:this.na(s);break;case 2:this.ra(s);break;case 3:this.oa(s);break;default:throw new RangeError("invalid color index")}}Ja(t){switch(t){case 0:return this.ua();case 1:return this.la();case 2:return this.ca();case 3:return this.fa();default:throw new RangeError("invalid color index")}}static Va(t,s){let i,e;if(Array.isArray(t))(i=new l.Jo).Qa(t);else{if(!(t instanceof l.Jo))throw new Error("unexpected type");i=t}if(Array.isArray(s))(e=new l.Jo).Qa(s);else{if(!(s instanceof l.Jo))throw new Error("unexpected type");e=s}return i.equals(e)}static Ha(t,s){return l.gn(Math.max(t,s)-Math.min(t,s),0,1)}static qa(t,s){const i=new l.Jo;return i.ea(Math.max(t.Vo,s.Vo)-Math.min(t.Vo,s.Vo)),i.na(Math.max(t.Ho,s.Ho)-Math.min(t.Ho,s.Ho)),i.ra(Math.max(t.qo,s.qo)-Math.min(t.qo,s.qo)),i.oa(Math.max(t.Xo,s.Xo)-Math.min(t.Xo,s.Xo)),i}static Xa(t,s){const i=new l.Jo(0,0,0,1);return i.ea(Math.max(t.Vo,s.Vo)-Math.min(t.Vo,s.Vo)),i.na(Math.max(t.Ho,s.Ho)-Math.min(t.Ho,s.Ho)),i.ra(Math.max(t.qo,s.qo)-Math.min(t.qo,s.qo)),i}static za(t,s,i){const e=Math.max(t,s,i),h=Math.min(t,s,i);if(e===h)return 0;let n=0;switch(e){case t:n=(s-i)/(e-h)+(s<i?6:0);break;case s:n=(i-t)/(e-h)+2;break;case i:n=(t-s)/(e-h)+4}return Math.round(n/6*360)}static Ba(t,s,i){const e=Math.max(t,s,i),h=Math.min(t,s,i);if(e===h)return 0;const n=(e+h)/2,r=e-h,o=.5<n?r/(2-e-h):r/(e+h);return Math.round(100*o)}static Ua(t,s,i){const e=Math.max(t,s,i),h=Math.min(t,s,i),n=(e+h)/2;return e?Math.round(100*n):0}},l.Jo.Za=Object.freeze(l.un(l.Jo,1,1,1,1)),l.Jo.Ka=Object.freeze(l.un(l.Jo,0,0,0,1)),l.Jo.$a=Object.freeze(l.un(l.Jo,0,0,0,0))}{const Et=self.js;Et.tu=class{constructor(t,s){this.su=0,this.iu=0,t instanceof Et.tu?this.C(t):this.set(t||0,s||0)}set(t,s){this.su=+t,this.iu=+s}C(t){this.su=t.su,this.iu=t.iu}equals(t){return this.su===t.su&&this.iu===t.iu}eu(t,s){return this.su===t&&this.iu===s}wa(t,s){return t[s]===Math.fround(this.su)&&t[s+1]===Math.fround(this.iu)}hu(t){this.su=+t}nu(){return this.su}ru(t){this.iu=+t}ou(){return this.iu}toArray(){return[this.su,this.iu]}da(){return new Float64Array(this.toArray())}pa(t,s){t[s++]=this.su,t[s]=this.iu}offset(t,s){this.su+=+t,this.iu+=+s}scale(t,s){this.su*=t,this.iu*=s}_t(t,s){this.su/=t,this.iu/=s}round(){this.su=Math.round(this.su),this.iu=Math.round(this.iu)}floor(){this.su=Math.floor(this.su),this.iu=Math.floor(this.iu)}ceil(){this.su=Math.ceil(this.su),this.iu=Math.ceil(this.iu)}angle(){return Et.bn(0,0,this.su,this.iu)}au(){return this.su*this.su+this.iu*this.iu}length(){return Math.hypot(this.su,this.iu)}uu(t,s){const i=this.su*s-this.iu*t;this.iu=this.iu*s+this.su*t,this.su=i}rotate(t){0!==t&&this.uu(Math.sin(t),Math.cos(t))}lu(t,s,i){0===t||s===this.su&&i===this.iu||(this.su-=s,this.iu-=i,this.uu(Math.sin(t),Math.cos(t)),this.su+=+s,this.iu+=+i)}move(t,s){0!==s&&(this.su+=Math.cos(t)*s,this.iu+=Math.sin(t)*s)}normalize(){const t=this.length();0!==t&&1!==t&&(this.su/=t,this.iu/=t)}gn(t,s){this.su=Et.gn(this.su,t,s),this.iu=Et.gn(this.iu,t,s)}Ot(t){return this.su*t.su+this.iu*t.iu}reverse(){this.su=-this.su,this.iu=-this.iu}cu(){let t=this.su;return this.su=this.iu,this.iu=-t,this}}}{const At=self.js;At.Rect=class{constructor(t,s,i,e){this.fu=NaN,this.du=NaN,this.pu=NaN,this.mu=NaN,this.fu=0,this.du=0,this.pu=0,this.mu=0,t instanceof At.Rect?this.C(t):this.set(t||0,s||0,i||0,e||0)}set(t,s,i,e){this.fu=+t,this.du=+s,this.pu=+i,this.mu=+e}gu(t,s,i,e){s=+s,this.fu=t=+t,this.du=s,this.pu=t+ +i,this.mu=s+ +e}C(t){this.fu=+t.fu,this.du=+t.du,this.pu=+t.pu,this.mu=+t.mu}clone(){return new At.Rect(this.fu,this.du,this.pu,this.mu)}static yu(t,s){const i=new At.Rect;return i.Mu(Math.min(t.fu,s.fu)),i.wu(Math.min(t.du,s.du)),i.Su(Math.max(t.pu,s.pu)),i.Tu(Math.max(t.mu,s.mu)),i}static bu(t){return new At.Rect(t.left,t.top,t.right,t.bottom)}equals(t){return this.fu===t.fu&&this.du===t.du&&this.pu===t.pu&&this.mu===t.mu}vu(t,s,i,e){return this.fu===t&&this.du===s&&this.width()===i&&this.height()===e}wa(t,s){return t[s]===Math.fround(this.fu)&&t[s+1]===Math.fround(this.du)&&t[s+2]===Math.fround(this.pu)&&t[s+3]===Math.fround(this.mu)}Mu(t){this.fu=+t}xu(){return this.fu}wu(t){this.du=+t}Iu(){return this.du}Su(t){this.pu=+t}Gu(){return this.pu}Tu(t){this.mu=+t}Cu(){return this.mu}toArray(){return[this.fu,this.du,this.pu,this.mu]}da(){return new Float64Array(this.toArray())}_u(){return new DOMRect(this.fu,this.du,this.width(),this.height())}static Eu(t){return At.un(At.Rect,t.left,t.top,t.right,t.bottom)}pa(t,s){t[s++]=this.fu,t[s++]=this.du,t[s++]=this.pu,t[s]=this.mu}Au(t,s){t[s++]=this.fu,t[s++]=this.du,t[s++]=this.pu,t[s++]=this.du,t[s++]=this.pu,t[s++]=this.mu,t[s++]=this.fu,t[s]=this.mu}Du(t,s,i){t[s++]=this.fu,t[s++]=this.du,t[s++]=i,t[s++]=this.pu,t[s++]=this.du,t[s++]=i,t[s++]=this.pu,t[s++]=this.mu,t[s++]=i,t[s++]=this.fu,t[s++]=this.mu,t[s]=i}width(){return this.pu-this.fu}height(){return this.mu-this.du}Nu(){return(this.fu+this.pu)/2}Lu(){return(this.du+this.mu)/2}offset(t,s){s=+s,this.fu+=t=+t,this.du+=s,this.pu+=t,this.mu+=s}offsetLeft(t){this.fu+=+t}offsetTop(t){this.du+=+t}Ou(t){this.pu+=+t}Ru(t){this.mu+=+t}Pu(t){if("x"!==t)throw new Error("invalid axis, only 'x' supported");this.du<this.mu?this.fu<this.pu?this.mu=this.du+this.width():this.mu=this.du-this.width():this.fu<this.pu?this.mu=this.du-this.width():this.mu=this.du+this.width()}ku(t,s){s=+s,this.fu-=t=+t,this.du-=s,this.pu+=t,this.mu+=s}Fu(t,s){s=+s,this.fu+=t=+t,this.du+=s,this.pu-=t,this.mu-=s}multiply(t,s){this.fu*=t,this.du*=s,this.pu*=t,this.mu*=s}_t(t,s){this.fu/=t,this.du/=s,this.pu/=t,this.mu/=s}ju(t){this.fu=+t-this.fu,this.pu=+t-this.pu}zu(t){this.du=+t-this.du,this.mu=+t-this.mu}Bu(t,s){const i=this.width(),e=this.height(),h=this.xu()+i*t,n=this.Iu()+e*s;this.gu(h-e*s,n-i*t,e,i)}Uu(){const t=this.fu;this.fu=this.pu,this.pu=t}Wu(){const t=this.du;this.du=this.mu,this.mu=t}Qu(t){const s=this.du;this.du=+t-this.mu,this.mu=+t-s}round(){this.fu=Math.round(this.fu),this.du=Math.round(this.du),this.pu=Math.round(this.pu),this.mu=Math.round(this.mu)}Yu(){this.fu=Math.ceil(this.fu),this.du=Math.ceil(this.du),this.pu=Math.floor(this.pu),this.mu=Math.floor(this.mu)}Ju(){this.fu=Math.floor(this.fu),this.du=Math.floor(this.du),this.pu=Math.ceil(this.pu),this.mu=Math.ceil(this.mu)}floor(){this.fu=Math.floor(this.fu),this.du=Math.floor(this.du),this.pu=Math.floor(this.pu),this.mu=Math.floor(this.mu)}ceil(){this.fu=Math.ceil(this.fu),this.du=Math.ceil(this.du),this.pu=Math.ceil(this.pu),this.mu=Math.ceil(this.mu)}gn(t,s,i,e){this.fu=Math.max(this.fu,+t),this.du=Math.max(this.du,+s),this.pu=Math.min(this.pu,+i),this.mu=Math.min(this.mu,+e)}Vu(t,s,i,e){t=+t,s=+s,i=+i,e=+e,this.fu=At.gn(this.fu,t,i),this.du=At.gn(this.du,s,e),this.pu=At.gn(this.pu,t,i),this.mu=At.gn(this.mu,s,e)}normalize(){this.fu>this.pu&&this.Uu(),this.du>this.mu&&this.Wu()}Hu(t){return!(t.pu<this.fu||t.mu<this.du||t.fu>this.pu||t.du>this.mu)}qu(t,s,i){return!(t.pu+s<this.fu||t.mu+i<this.du||t.fu+s>this.pu||t.du+i>this.mu)}Xu(t,s){return t>=this.fu&&t<=this.pu&&s>=this.du&&s<=this.mu}Zu(t){return t.fu>=this.fu&&t.du>=this.du&&t.pu<=this.pu&&t.mu<=this.mu}Ku(t){t.fu<this.fu&&(this.fu=+t.fu),t.du<this.du&&(this.du=+t.du),t.pu>this.pu&&(this.pu=+t.pu),t.mu>this.mu&&(this.mu=+t.mu)}$u(t){this.fu=At.Pt(t.fu,t.pu,this.fu),this.du=At.Pt(t.du,t.mu,this.du),this.pu=At.Pt(t.fu,t.pu,this.pu),this.mu=At.Pt(t.du,t.mu,this.mu)}}}{const Dt=self.js;Dt.tl=class{constructor(t,s,i,e,h,n,r,o){this.sl=NaN,this.il=NaN,this.el=NaN,this.hl=NaN,this.nl=NaN,this.rl=NaN,this.ol=NaN,this.al=NaN,this.sl=0,this.il=0,this.el=0,this.hl=0,this.nl=0,this.rl=0,this.ol=0,this.al=0,t instanceof Dt.tl?this.C(t):this.set(t||0,s||0,i||0,e||0,h||0,n||0,r||0,o||0)}set(t,s,i,e,h,n,r,o){this.sl=+t,this.il=+s,this.el=+i,this.hl=+e,this.nl=+h,this.rl=+n,this.ol=+r,this.al=+o}ul(t,s,i,e){this.set(t,s,i,s,i,e,t,e)}C(t){this.sl=t.sl,this.il=t.il,this.el=t.el,this.hl=t.hl,this.nl=t.nl,this.rl=t.rl,this.ol=t.ol,this.al=t.al}equals(t){return this.sl===t.sl&&this.il===t.il&&this.el===t.el&&this.hl===t.hl&&this.nl===t.nl&&this.rl===t.rl&&this.ol===t.ol&&this.al===t.al}ll(t){this.sl=+t}$n(){return this.sl}cl(t){this.il=+t}ir(){return this.il}fl(t){this.el=+t}er(){return this.el}dl(t){this.hl=+t}hr(){return this.hl}pl(t){this.nl=+t}nr(){return this.nl}ml(t){this.rl=+t}rr(){return this.rl}gl(t){this.ol=+t}ur(){return this.ol}yl(t){this.al=+t}lr(){return this.al}Ml(){return new DOMQuad(new DOMPoint(this.sl,this.il),new DOMPoint(this.el,this.hl),new DOMPoint(this.nl,this.rl),new DOMPoint(this.ol,this.al))}static wl(t){return Dt.un(Dt.tl,t.p1.x,t.p1.y,t.p2.x,t.p2.y,t.p3.x,t.p3.y,t.p4.x,t.p4.y)}toArray(){return[this.sl,this.il,this.el,this.hl,this.nl,this.rl,this.ol,this.al]}da(){return new Float64Array(this.toArray())}pa(t,s){t[s++]=this.sl,t[s++]=this.il,t[s++]=this.el,t[s++]=this.hl,t[s++]=this.nl,t[s++]=this.rl,t[s++]=this.ol,t[s]=this.al}Sl(t,s,i){t[s++]=this.sl,t[s++]=this.il,t[s++]=i,t[s++]=this.el,t[s++]=this.hl,t[s++]=i,t[s++]=this.nl,t[s++]=this.rl,t[s++]=i,t[s++]=this.ol,t[s++]=this.al,t[s]=i}offset(t,s){s=+s,this.sl+=t=+t,this.il+=s,this.el+=t,this.hl+=s,this.nl+=t,this.rl+=s,this.ol+=t,this.al+=s}round(){this.sl=Math.round(this.sl),this.il=Math.round(this.il),this.el=Math.round(this.el),this.hl=Math.round(this.hl),this.nl=Math.round(this.nl),this.rl=Math.round(this.rl),this.ol=Math.round(this.ol),this.al=Math.round(this.al)}floor(){this.sl=Math.floor(this.sl),this.il=Math.floor(this.il),this.el=Math.floor(this.el),this.hl=Math.floor(this.hl),this.nl=Math.floor(this.nl),this.rl=Math.floor(this.rl),this.ol=Math.floor(this.ol),this.al=Math.floor(this.al)}ceil(){this.sl=Math.ceil(this.sl),this.il=Math.ceil(this.il),this.el=Math.ceil(this.el),this.hl=Math.ceil(this.hl),this.nl=Math.ceil(this.nl),this.rl=Math.ceil(this.rl),this.ol=Math.ceil(this.ol),this.al=Math.ceil(this.al)}Tl(t){this.sl=t.fu,this.il=t.du,this.el=t.pu,this.hl=t.du,this.nl=t.pu,this.rl=t.mu,this.ol=t.fu,this.al=t.mu}bl(t,s){0===s?this.Tl(t):this.vl(t,Math.sin(s),Math.cos(s))}vl(t,s,i){const e=t.fu*s,h=t.du*s,n=t.pu*s,r=t.mu*s,o=t.fu*i,a=t.du*i,u=t.pu*i,l=t.mu*i;this.sl=o-h,this.il=a+e,this.el=u-h,this.hl=a+n,this.nl=u-r,this.rl=l+n,this.ol=o-r,this.al=l+e}xl(t){t.set(Math.min(this.sl,this.el,this.nl,this.ol),Math.min(this.il,this.hl,this.rl,this.al),Math.max(this.sl,this.el,this.nl,this.ol),Math.max(this.il,this.hl,this.rl,this.al))}Xu(t,s){let i=this.el-this.sl,e=this.hl-this.il,h=this.nl-this.sl,n=this.rl-this.il,r=t-this.sl,o=s-this.il,a=i*i+e*e,u=i*h+e*n,l=i*r+e*o,c=h*h+n*n,f=h*r+n*o,d=1/(a*c-u*u),p=(c*l-u*f)*d,m=(a*f-u*l)*d;return 0<=p&&0<m&&p+m<1||(m=((a=(i=this.ol-this.sl)*i+(e=this.al-this.il)*e)*f-(u=i*h+e*n)*(l=i*r+e*o))*(d=1/(a*c-u*u)),0<=(p=(c*l-u*f)*d)&&0<m&&p+m<1)}Nu(){return(this.sl+this.el+this.nl+this.ol)/4}Lu(){return(this.il+this.hl+this.rl+this.al)/4}Il(t,s,i,e){return!(!this.Xu(t,s)&&!this.Xu(i,e))||Dt.Kn(t,s,i,e,this)}Gl(t){let s=t.Nu(),i=t.Lu();if(this.Xu(s,i))return!0;if(s=this.Nu(),i=this.Lu(),t.Xu(s,i))return!0;const e=this.sl,h=this.il,n=this.el,r=this.hl,o=this.nl,a=this.rl,u=this.ol,l=this.al;return Dt.Kn(e,h,n,r,t)||Dt.Kn(n,r,o,a,t)||Dt.Kn(o,a,u,l,t)||Dt.Kn(u,l,e,h,t)}Cl(){const t=this.sl,s=this.il;this.sl=this.el,this.il=this.hl,this.el=this.nl,this.hl=this.rl,this.nl=this.ol,this.rl=this.al,this.ol=t,this.al=s}_l(){this.El(0,2),this.El(1,3),this.El(6,4),this.El(7,5)}Al(){this.El(0,6),this.El(1,7),this.El(2,4),this.El(3,5)}Dl(){this.El(2,6),this.El(3,7)}El(t,s){const i=this.Nl(t);this.Ll(t,this.Nl(s)),this.Ll(s,i)}Nl(t){switch(t){case 0:return this.sl;case 1:return this.il;case 2:return this.el;case 3:return this.hl;case 4:return this.nl;case 5:return this.rl;case 6:return this.ol;case 7:return this.al;default:throw new RangeError("invalid quad point index")}}Ll(t,s){switch(s=+s,t){case 0:this.sl=s;break;case 1:this.il=s;break;case 2:this.el=s;break;case 3:this.hl=s;break;case 4:this.nl=s;break;case 5:this.rl=s;break;case 6:this.ol=s;break;case 7:this.al=s;break;default:throw new RangeError("invalid quad point index")}}}}{const Nt=self.js,Lt=[0,0,1,0,1,1,0,1],Ot=Nt.un(Nt.tl);Nt.Ol=class extends Nt.rn{constructor(t,s=!0){super(),t=t||Lt,this.Rl=Float64Array.from(t),this.Pl=new Nt.Rect,this.kl=!0,this.Fl=s}ln(){}jl(){return this.Rl}zl(){return this.Rl.length/2}Bl(t){this.Rl.length===t.length?this.Rl.set(t):this.Rl=Float64Array.from(t),this.kl=!0}Ul(){this.Bl(Lt)}C(t){this.Bl(t.Rl)}Wl(){this.kl=!0}Ql(){if(this.kl){let i=this.Rl,e=i[0],h=i[1],n=e,r=h;for(let t=0,s=i.length;t<s;t+=2){const o=i[t],a=i[t+1];o<e&&(e=o),o>n&&(n=o),a<h&&(h=a),a>r&&(r=a)}this.Pl.set(e,h,n,r),this.kl=!1}}Tl(t,s,i){let e=this.Rl;8!==e.length&&(e=new Float64Array(8),this.Rl=e),e[0]=t.xu()-s,e[1]=t.Iu()-i,e[2]=t.Gu()-s,e[3]=t.Iu()-i,e[4]=t.Gu()-s,e[5]=t.Cu()-i,e[6]=t.xu()-s,e[7]=t.Cu()-i,this.Pl.C(t),0===s&&0===i||this.Pl.offset(-s,-i),this.kl=!1}Yl(t,s,i){Ot.C(t),Ot.offset(s,i),this.Bl(Ot.toArray()),this.kl=!0}transform(t,s,i){let e=0,h=1;0!==i&&(e=Math.sin(i),h=Math.cos(i)),this.Jl(t,s,e,h)}Jl(i,e,h,n){const r=this.Rl;for(let t=0,s=r.length;t<s;t+=2){const o=t+1,a=r[t]*i,u=r[o]*e;r[t]=a*n-u*h,r[o]=u*n+a*h}this.kl=!0}offset(i,e){const h=this.Rl;for(let t=0,s=h.length;t<s;t+=2)h[t]+=i,h[t+1]+=e}Xu(i,e){const h=this.Rl;if(i===h[0]&&e===h[1])return!0;this.Ql();let t=this.Pl,n=t.xu()-110,r=t.Iu()-101,o=t.Gu()+131,a=t.Cu()+120,u=0,l=0,c,f,d=0,p=0,m,g,y=(c=n<i?(u=n,i):(u=i,n),f=r<e?(l=r,e):(l=e,r),m=o<i?(d=o,i):(d=i,o),g=a<e?(p=a,e):(p=e,a),0),M=0;for(let t=0,s=h.length;t<s;t+=2){const w=(t+2)%s,S=h[t],T=h[t+1],b=h[w],v=h[1+w];Nt.Zn(n,r,i,e,u,c,l,f,S,T,b,v)&&++y,Nt.Zn(o,a,i,e,d,m,p,g,S,T,b,v)&&++M}return y%2==1||M%2==1}Vl(t,c,f){const d=t.Rl,p=this.Rl;if(this.Xu(d[0]+c,d[1]+f))return!0;if(t.Xu(p[0]-c,p[1]-f))return!0;for(let s=0,l=p.length;s<l;s+=2){let t=(s+2)%l,i=p[s],e=p[s+1],h=p[t],n=p[1+t],r=0,o=0,a,u;a=i<h?(r=i,h):(r=h,i),u=e<n?(o=e,n):(o=n,e);for(let t=0,s=d.length;t<s;t+=2){const m=(t+2)%s,g=d[t]+c,y=d[t+1]+f,M=d[m]+c,w=d[1+m]+f;if(Nt.Zn(i,e,h,n,r,a,o,u,g,y,M,w))return!0}}return!1}Il(i,e,h,n,r,o){if(this.Xu(h-i,n-e))return!0;if(this.Xu(r-i,o-e))return!0;let a=0,u=0,l,c;l=h<r?(a=h,r):(a=r,h),c=n<o?(u=n,o):(u=o,n);const f=this.Rl;for(let t=0,s=f.length;t<s;t+=2){const d=(t+2)%s,p=f[t]+i,m=f[t+1]+e,g=f[d]+i,y=f[1+d]+e;if(Nt.Zn(h,n,r,o,a,l,u,c,p,m,g,y))return!0}return!1}_l(i){const e=this.Rl;for(let t=0,s=e.length;t<s;t+=2)e[t]=2*i-e[t];this.kl=!0}Al(i){const e=this.Rl;for(let t=0,s=e.length;t<s;t+=2){const h=t+1;e[h]=2*i-e[h]}this.kl=!0}Dl(){const i=this.Rl;for(let t=0,s=i.length;t<s;t+=2){const e=t+1,h=i[t];i[t]=i[e],i[e]=h}this.kl=!0}Hl(){let i=this.Rl,e=0;for(let t=0,s=i.length;t<s;t+=2)e+=i[t];return e/this.zl()}ql(){let i=this.Rl,e=0;for(let t=0,s=i.length;t<s;t+=2)e+=i[t+1];return e/this.zl()}Xl(){return this.Rl}Zl(){return this.zl()}Kl(){return this.Fl}}}{const Rt=self.js;Rt.$l=class extends Rt.rn{constructor(t){if(super(),this.tc=new Map,t)for(const[s,i,e]of t)this.Set(s,i,e)}ln(){this.ic(),this.tc=null}ec(){return 0===this.tc.size}ic(){const t=this.tc;for(const s of t.values())s.clear();t.clear()}Set(t,s,i){let e=this.tc,h=e.get(t);h||(h=new Map,e.set(t,h)),h.set(s,i)}hi(t,s){const i=this.tc.get(t);return i&&i.get(s)}ei(t,s){const i=this.tc.get(t);return!!i&&i.has(s)}hc(t,s){const i=this.tc,e=i.get(t);if(!e)return!1;const h=e.delete(s);return h&&0===e.size&&i.delete(t),h}nc(t){const s=this.tc,i=s.get(t);i&&(i.clear(),s.delete(t));for(const[e,h]of s.entries())h.delete(t)&&0===h.size&&s.delete(e)}rc(){let t=0;for(const s of this.tc.values())t+=s.size;return t}*values(){for(const t of this.tc.values())yield*t.values()}*oc(){for(const[t,s]of this.tc.entries())for(const i of s.keys())yield[t,i]}*entries(){for(const[t,s]of this.tc.entries())for(const[i,e]of s.entries())yield[t,i,e]}}}{const Pt=self.js;Pt.ac=class extends Pt.rn{constructor(){super(),this.uc=new Set,this.lc=[],this.cc=!1}ln(){this.ic()}ic(){this.uc.clear(),Pt.Br(this.lc),this.cc=!1}fc(t){this.uc.has(t)||(this.uc.add(t),this.cc)||this.lc.push(t)}ei(t){return this.uc.has(t)}hc(t){this.uc.delete(t)&&(this.cc=!0)}rc(){return this.uc.size}ec(){return 0===this.uc.size}mc(){return this.cc&&(this.yc(),this.cc=!1),this.lc}yc(){const t=this.lc;Pt.Br(t);for(const s of this.uc)t.push(s)}}}{const kt=self.js,Ft=new Map,jt=new Map,zt=new Map,Bt=new Map,Ut=new Map,Wt=new Map,Qt=new Map,Yt=new Map,Jt=new Map,Vt=(Jt.set("linear","noease"),Jt.set("default","noease"),["default","noease","easeinquad","easeoutquad","easeinoutquad","easeincubic","easeoutcubic","easeinoutcubic","easeinquart","easeoutquart","easeinoutquart","easeinquint","easeoutquint","easeinoutquint","easeinsine","easeoutsine","easeinoutsine","easeinexpo","easeoutexpo","easeinoutexpo","easeincirc","easeoutcirc","easeinoutcirc","easeinelastic","easeoutelastic","easeinoutelastic","easeinback","easeoutback","easeinoutback","easeinbounce","easeoutbounce","easeinoutbounce"]),Ht=["default","noease","quad","cubic","quart","quint","sine","expo","circ","elastic","back","bounce"],qt=new Map([["linear","noease"],["in-sine","easeinsine"],["out-sine","easeoutsine"],["in-out-sine","easeinoutsine"],["in-elastic","easeinelastic"],["out-elastic","easeoutelastic"],["in-out-elastic","easeinoutelastic"],["in-back","easeinback"],["out-back","easeoutback"],["in-out-back","easeinoutback"],["in-bounce","easeinbounce"],["out-bounce","easeoutbounce"],["in-out-bounce","easeinoutbounce"],["in-cubic","easeincubic"],["out-cubic","easeoutcubic"],["in-out-cubic","easeinoutcubic"],["in-quadratic","easeinquad"],["out-quadratic","easeoutquad"],["in-out-quadratic","easeinoutquad"],["in-quartic","easeinquart"],["out-quartic","easeoutquart"],["in-out-quartic","easeinoutquart"],["in-quintic","easeinquint"],["out-quintic","easeoutquint"],["in-out-quintic","easeinoutquint"],["in-circular","easeincirc"],["out-circular","easeoutcirc"],["in-out-circular","easeinoutcirc"],["in-exponential","easeinexpo"],["out-exponential","easeoutexpo"],["in-out-exponential","easeinoutexpo"]]),Xt=(self.Mc=class hs{constructor(){}static wc(){return"default"}static Sc(){return"noease"}static Tc(t){return qt.get(t)}static vc(s,...i){this.xc();let t,e=(s?(zt.has(s)||zt.set(s,new Map),[...(t=zt.get(s)).keys()].filter(t=>!hs.Ic(t,s)||hs.Ic(t,s).transition.IsForAnyPurpose())):[...(t=Ut).keys()]).sort();return[...jt.keys()].concat(e).filter(t=>!i.includes(t))}static Gc(){this.xc();const t=[...Ut.keys()];return t.sort(),[...jt.keys()].concat(t)}static Cc(){this.xc();const t=[...Ut.keys()];return t.sort(),t}static _c(t){for(const s of Vt){const i=self.lang("ui.bars.timeline.eases."+s);if(i===t)return!0}for(const e of Ht){const h=self.lang("ui.bars.timeline.short-eases."+e);if(h===t)return!0}}static Ec(t){return this.xc(),[...jt.keys()].includes(t)}static Ac(t){const s=Jt.get(t);return s?Ft.get(s):hs.Ec(t)?Ft.get(t):Qt.has(t)?Qt.get(t):void 0}static Dc(t){return this.xc(),Yt.get(t)}static Nc(t,s){this.xc();const i=hs.Ac(t);if(i)return i;if(s)return zt.get(s).get(t);throw new Error("missing ease function")}static Ic(t,s){this.xc();const i=Bt.get(s);if(i)return i.get(t)}static Lc(t,s){this.xc();const i=hs.Ac(t);return!!i||!!zt.get(s).get(t)}static Oc(t){this.xc();const s=hs.Ac(t);return s||Ut.get(t)}static Rc(t){return this.xc(),Wt.get(t)}static Pc(t){this.xc();const s=this.Gc();return s[t]}static kc(t,s){this.xc();const i=this.vc(s);return i.indexOf(t)}static Fc(t){return this.kc(t)}static xc(){0===Ft.size&&(this.jc("default",()=>{}),this.jc("noease",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}],!0),this.jc("easeinsine",[{x:0,y:0,sax:.485,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.038,eay:0,se:!1,ee:!0}]),this.jc("easeoutsine",[{x:0,y:0,sax:.038,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.485,eay:0,se:!1,ee:!0}]),this.jc("easeinoutsine",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}]),this.jc("easeinelastic",[{x:0,y:0,sax:.018,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.116,y:.002,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.266,y:-.005,sax:.024,say:0,eax:-.021,eay:0,se:!0,ee:!0},{x:.416,y:.016,sax:.024,say:0,eax:-.026,eay:0,se:!0,ee:!0},{x:.566,y:-.045,sax:.061,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.716,y:.132,sax:.072,say:-.004,eax:-.045,eay:0,se:!0,ee:!0},{x:.866,y:-.373,sax:.06,say:0,eax:-.049,eay:-.002,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.038,eay:-.263,se:!1,ee:!0}]),this.jc("easeoutelastic",[{x:0,y:0,sax:.038,say:.263,eax:0,eay:0,se:!0,ee:!1},{x:.136,y:1.373,sax:.049,say:.002,eax:-.06,eay:0,se:!0,ee:!0},{x:.286,y:.868,sax:.045,say:0,eax:-.072,eay:.004,se:!0,ee:!0},{x:.436,y:1.045,sax:.025,say:0,eax:-.061,eay:0,se:!0,ee:!0},{x:.586,y:.984,sax:.026,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.736,y:1.005,sax:.021,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.886,y:.998,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.018,eay:0,se:!1,ee:!0}]),this.jc("easeinoutelastic",[{x:0,y:0,sax:.025,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.067,y:.001,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.18,y:-.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.292,y:.025,sax:.053,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.405,y:-.118,sax:.069,say:0,eax:-.027,eay:0,se:!0,ee:!0},{x:.597,y:1.118,sax:.027,say:0,eax:-.069,eay:0,se:!0,ee:!0},{x:.71,y:.975,sax:.025,say:0,eax:-.053,eay:0,se:!0,ee:!0},{x:.822,y:1.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.935,y:.999,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.025,eay:0,se:!1,ee:!0}]),this.jc("easeinback",[{x:0,y:0,sax:.35,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.34,eay:-1.579,se:!1,ee:!0}]),this.jc("easeoutback",[{x:0,y:0,sax:.34,say:1.579,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.35,eay:0,se:!1,ee:!0}]),this.jc("easeinoutback",[{x:0,y:0,sax:.035,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.242,y:-.1,sax:.258,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.76,y:1.1,sax:.025,say:0,eax:-.26,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.035,eay:0,se:!1,ee:!0}]),this.jc("easeinbounce",[{x:0,y:0,sax:.033,say:.025,eax:0,eay:0,se:!0,ee:!1},{x:.092,y:0,sax:.026,say:.078,eax:-.033,eay:.025,se:!0,ee:!0},{x:.274,y:0,sax:.097,say:.319,eax:-.026,eay:.078,se:!0,ee:!0},{x:.637,y:0,sax:.105,say:.625,eax:-.097,eay:.319,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:-.004,se:!1,ee:!0}]),this.jc("easeoutbounce",[{x:0,y:0,sax:.125,say:.004,eax:0,eay:0,se:!0,ee:!1},{x:.365,y:1,sax:.097,say:-.319,eax:-.105,eay:-.625,se:!0,ee:!0},{x:.728,y:1,sax:.026,say:-.078,eax:-.097,eay:-.319,se:!0,ee:!0},{x:.91,y:1,sax:.033,say:-.025,eax:-.026,eay:-.078,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.033,eay:-.025,se:!1,ee:!0}]),this.jc("easeinoutbounce",[{x:0,y:0,sax:.01,say:.006,eax:0,eay:0,se:!0,ee:!1},{x:.046,y:0,sax:.021,say:.038,eax:-.01,eay:.006,se:!0,ee:!0},{x:.137,y:0,sax:.059,say:.158,eax:-.021,eay:.038,se:!0,ee:!0},{x:.319,y:0,sax:.117,say:.744,eax:-.059,eay:.158,se:!0,ee:!0},{x:.683,y:1,sax:.059,say:-.158,eax:-.117,eay:-.744,se:!0,ee:!0},{x:.865,y:1,sax:.021,say:-.038,eax:-.059,eay:-.158,se:!0,ee:!0},{x:.956,y:1,sax:.01,say:-.006,eax:-.021,eay:-.038,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.01,eay:-.006,se:!1,ee:!0}]),this.jc("easeincubic",[{x:0,y:0,sax:.75,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.138,eay:-.321,se:!1,ee:!0}]),this.jc("easeoutcubic",[{x:0,y:0,sax:.138,say:.321,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.75,eay:0,se:!1,ee:!0}]),this.jc("easeinoutcubic",[{x:0,y:0,sax:.285,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.081,say:.272,eax:-.081,eay:-.272,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.285,eay:0,se:!1,ee:!0}]),this.jc("easeinquad",[{x:0,y:0,sax:.4,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.178,eay:-.392,se:!1,ee:!0}]),this.jc("easeoutquad",[{x:0,y:0,sax:.178,say:.392,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.4,eay:0,se:!1,ee:!0}]),this.jc("easeinoutquad",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.03,say:.065,eax:-.03,eay:-.065,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.jc("easeinquart",[{x:0,y:0,sax:.25,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.5,eay:0,se:!1,ee:!0}]),this.jc("easeoutquart",[{x:0,y:0,sax:.5,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:-1,se:!1,ee:!0}]),this.jc("easeinoutquart",[{x:0,y:0,sax:.765,say:.03,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.765,eay:-.03,se:!1,ee:!0}]),this.jc("easeinquint",[{x:0,y:0,sax:.6,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.2,eay:-1,se:!1,ee:!0}]),this.jc("easeoutquint",[{x:0,y:0,sax:.2,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.6,eay:0,se:!1,ee:!0}]),this.jc("easeinoutquint",[{eax:0,eay:0,ee:!1,sax:.84,say:0,se:!0,x:0,y:0},{eax:-.84,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.jc("easeincirc",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.024,eay:-.808,se:!1,ee:!0}]),this.jc("easeoutcirc",[{x:0,y:0,sax:.024,say:.808,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.jc("easeinoutcirc",[{x:0,y:0,sax:.125,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.02,say:.428,eax:-.02,eay:-.428,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:0,se:!1,ee:!0}]),this.jc("easeinexpo",[{x:0,y:0,sax:.66,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.14,eay:-1,se:!1,ee:!0}]),this.jc("easeoutexpo",[{x:0,y:0,sax:.14,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.66,eay:0,se:!1,ee:!0}]),this.jc("easeinoutexpo",[{eax:0,eay:0,ee:!1,sax:.345,say:0,se:!0,x:0,y:0},{eax:-.06,eay:-.5,ee:!0,sax:.06,say:.5,se:!0,x:.5,y:.5},{eax:-.335,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.zc("cubicbezier",this.Bc),this.zc("spline",this.Uc))}static jc(t,s,i=!1){if("function"==typeof s)hs.Wc(t,s,"predefined");else{if(!kt.We(s))throw new Error("unexpected arguments");if(self.BuiltInTransition){const h=kt.un(self.BuiltInTransition,t,i);h.SetFromJson(s),hs.Wc(t,(t,s,i,e)=>h.Qc(t,s,i,e),"predefined"),Yt.set(t,h)}else{const n=kt.un(kt.Yc,[t,s.map(t=>[t.x,t.y,t.sax,t.say,t.eax,t.eay,t.se,t.ee])],!1);n.Jc(i),hs.Wc(t,(t,s,i,e)=>n.Qc(t,s,i,e),"predefined")}}}static zc(t,s){hs.Wc(t,s,"private")}static Vc(t,s,i,e){this.xc(),hs.Wc(t,s,"custom",i,e)}static Hc(t,s){if(!this.Ec(t)&&![...Qt.keys()].includes(t)){const i=zt.get(s),e=(i&&i.delete(t),Bt.get(s));e&&e.delete(t)}}static Wc(t,s,i,e,h){switch(i){case"predefined":Ft.set(t,s),jt.set(t,s);break;case"custom":if(e){zt.has(e)||zt.set(e,new Map),Bt.has(e)||Bt.set(e,new Map);const n=zt.get(e),r=(n.set(t,s),Bt.get(e));r.set(t,h)}else Ut.set(t,s),Wt.set(t,h);break;case"private":Ft.set(t,s),Qt.set(t,s);break;default:throw new Error("unexpected ease mode")}}static qc(t,s,i,e){return 0===e?s:i*t/e+s}static Bc(t,s,i,e,h){const n=s,r=3*t*(i-s),o=3*t**2*(s+e-2*i),a=t**3*(h-s+3*i-3*e);return n+r+o+a}static Uc(t,s,i,e,h,n,r,o,a,u){if(e===h&&n===r)return t;const l=es(t,s,e,n,o,u),c=Kt(i,h,r,a),f=$t(i,h,r,a),d=ts(i,h,r,a);return ss(l,c,f,d)}static Xc(t,s,i,e){const h=[],n=Kt(t,s,i,e),r=$t(t,s,i,e),o=ts(t,s,i,e);for(let t=0;t<Xt;++t){const a=ss(t*Zt,n,r,o);h.push(a)}return h}},11),Zt=1/(Xt-1),Kt=(t,s,i,e)=>e-3*i+3*s-t,$t=(t,s,i,e)=>3*i-6*s+3*t,ts=(t,s,i,e)=>3*(s-t),ss=(t,s,i,e)=>((s*t+i)*t+e)*t,is=(t,s,i,e)=>3*s*t*t+2*i*t+e,es=(r,t,s,i,e,h)=>{if(1==r)return 1;let o=0,n=1,a=h[n],u=Xt-1;for(Xt;n!=u&&a<=r;)n++,a=h[n],o+=Zt;n--;let l=(r-(a=h[n]))/(h[n+1]-a),c=o+l*Zt,f=Kt(t,s,i,e),d=$t(t,s,i,e),p=ts(t,s,i,e),m=is(c,f,d,p);if(0===m)return c;if(.01<=m){for(let t=0;t<4;++t){const g=ss(c,f,d,p)-r,y=is(c,f,d,p);c-=g/y}return c}{let s=o,i=o+Zt,e=0,h,n;do{c=s+(i-s)/2;let t=ss(c,f,d,p)-r;0<t?i=c:s=c,h=1e-7<Math.abs(t),n=++e<10}while(h&&n);return c}}}{let o=function(t){ns.Ce(t)};o;const ns=self.js;ns.Zc=class{constructor(t){this.Kc=[],this.pn=t||"",this.$c=0}ln(){this.ic(),this.Kc=null}tf(){return this.pn}ic(){ns.Ur(this.Kc),this.$c=0}if(){return this.$c}ef(t=Math.random()*this.if()){let s=0;for(const[i,e]of this.Kc)if(t<(s+=i))return e;return 0}hf(t,s){o(s),this.$c+=t,this.Kc.push([t,s])}nf(s,i){o(i);const e=0===s;for(let t=0;t<this.Kc.length;t++){const h=this.Kc[t],n=e||h[0]===s,r=h[1]===i;if(n&&r){this.Kc.splice(t,1),this.$c-=h[0];break}}}rf(){return JSON.stringify(this.Kc)}static uf(t,s){const i=new ns.Zc(s),e=JSON.parse(t);for(const h of e){const n=h[0],r=h[1];i.hf(n,r)}return i}}}{let t=self.js,i=0;t.lf=class{constructor(t,s){this.cf=t,this.ff=s,this.df=i++,this.cf.pf("runtime","screen-reader-text",{type:"create",id:this.df,text:this.ff})}ln(){this.cf.pf("runtime","screen-reader-text",{type:"release",id:this.df}),this.cf=null,this.ff="",this.df=-1}mf(t){this.ff!==t&&(this.ff=t,this.cf.pf("runtime","screen-reader-text",{type:"update",id:this.df,text:this.ff}))}}}{const rs=self.js;rs.Event=class{constructor(t,s){this.type=t,this.cancelable=!!s,this.defaultPrevented=!1,this.gf=!1,this.yf=!1}preventDefault(){if(!this.cancelable)throw new Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw new Error(`event '${this.type}' cannot be stopped`);if(this.yf)throw new Error(`cannot stop async event '${this.type}' propagation`);this.gf=!0}}}{const os=self.js;os.Event.Mf=class extends os.rn{constructor(t){super(),this.wf=t,this.Sf=[],this.Tf=new Set,this.bf=[],this.vf=new Set,this.xf=0,this.If=[]}ln(){0<this.xf||(os.Br(this.Sf),this.Tf.clear(),os.Br(this.bf),this.vf.clear(),os.Br(this.If),os.ln(this))}Gf(t,s){this.Cf()?this.If.push({_f:"add",Ef:t,capture:s}):s?this.Tf.has(t)||(this.Sf.push(t),this.Tf.add(t)):this.vf.has(t)||(this.bf.push(t),this.vf.add(t))}Af(t,s){this.Cf()?this.If.push({_f:"remove",Ef:t,capture:s}):s?this.Tf.has(t)&&(this.Tf.delete(t),os.Vr(this.Sf,t)):this.vf.has(t)&&(this.vf.delete(t),os.Vr(this.bf,t))}Df(){return!this.Sf.length&&!this.bf.length}Cf(){return 0<this.xf}Nf(){const t=new Set,s=new Set;for(const i of this.If)if("add"===i._f)this.Gf(i.Ef,i.capture),(i.capture?s:t).delete(i.Ef);else{if("remove"!==i._f)throw new Error("invalid op");(i.capture?(this.Tf.delete(i.Ef),s):(this.vf.delete(i.Ef),t)).add(i.Ef)}os.Xr(this.bf,t),os.Xr(this.Sf,s),os.Br(this.If)}Lf(i){this.Of();let e=!1;for(let t=0,s=this.Sf.length;t<s;++t)if(this.Sf[t](i),i.gf){e=!0;break}if(!e)for(let t=0,s=this.bf.length;t<s&&(this.bf[t](i),!i.gf);++t);return this.Rf(),!i.defaultPrevented}Pf(i){this.Of();for(let t=0,s=this.Sf.length;t<s;++t)this.Sf[t](i);for(let t=0,s=this.bf.length;t<s;++t)this.bf[t](i);return this.Rf(),!0}Of(){this.xf++}Rf(){this.xf--,0===this.xf&&0<this.If.length&&this.Nf()}kf(t){t?this.Of():this.Rf()}Ff(i){let e=[];for(let s=0,t=this.Sf.length;s<t;++s){let t=this.Sf[s];e.push(os.jf(()=>t(i)))}for(let s=0,t=this.bf.length;s<t;++s){let t=this.bf[s];e.push(os.jf(()=>t(i)))}return Promise.all(e).then(()=>!i.defaultPrevented)}zf(i){const e=[];this.Of();for(let t=0,s=this.Sf.length;t<s;++t){const h=this.Sf[t](i);h instanceof Promise&&e.push(h)}for(let t=0,s=this.bf.length;t<s;++t){const n=this.bf[t](i);n instanceof Promise&&e.push(n)}return this.Rf(),e.length?Promise.all(e).then(()=>!i.defaultPrevented):!i.defaultPrevented}async Bf(t){return this.zf(t)}async Uf(i){this.Of();for(let t=0,s=this.Sf.length;t<s;++t){const e=this.Sf[t](i);e instanceof Promise&&await e}for(let t=0,s=this.bf.length;t<s;++t){const h=this.bf[t](i);h instanceof Promise&&await h}return this.Rf(),!i.defaultPrevented}*Wf(i){this.Of();for(let t=0,s=this.Sf.length;t<s;++t){const e=this.Sf[t](i);os.Qo(e)&&(yield*e)}for(let t=0,s=this.bf.length;t<s;++t){const h=this.bf[t](i);os.Qo(h)&&(yield*h)}this.Rf()}}}{const as=self.js;as.Event.Qf=class extends as.rn{constructor(){super(),this.Yf=new Map,this.Jf=!1}ln(){if(this.Jf)throw new Error("already released");this.Vf(),this.Jf=!0,as.ln(this)}cn(){return this.Jf}Vf(){if(this.Yf){for(let t of this.Yf.values())t.ln();this.Yf.clear()}}Hf(t,s){let i=this.Yf.get(t);return i||(s?(i=as.un(as.Event.Mf,t),this.Yf.set(t,i),i):null)}qf(t){return this.Yf.has(t)}addEventListener(t,s,i){let e=this.Hf(t,!0);e.Gf(s,!!i)}removeEventListener(t,s,i){let e=this.Hf(t,!1);e&&(e.Af(s,!!i),e.Df())&&this.Yf.delete(t)}dispatchEvent(t){const s=this.Hf(t.type,!1);return!s||(t.cancelable?s.Lf(t):s.Pf(t))}Xf(t){const s=this.Hf(t.type,!1);return s?(t.yf=!0,s.Ff(t)):Promise.resolve(!0)}async Zf(t){const s=this.Hf(t.type,!1);if(!s)return!0;this.Yf.delete(t.type),t.yf=!0;const i=await s.Ff(t);return s.ln(),i}async Kf(t){const s=this.Hf(t.type,!1);return!s||s.Bf(t)}$f(t){const s=this.Hf(t.type,!1);return!s||s.zf(t)}async t0(t){const s=this.Hf(t.type,!1);return!s||s.Uf(t)}s0(t){const s=this.Hf(t.type,!1);if(!s)return null;if(t.cancelable)throw new Error("not supported");return s.Wf(t)}kf(t){for(const s of this.Yf.values())s.kf(t)}}}{let n=function(t){c=u&&0===f?requestIdleCallback(s,{timeout:i}):setTimeout(s,0<f?1:t)},s=function(h){if(c=-1,l.length){let i=performance.now(),e=i,t=0,s;for(;r(l.shift()),e=performance.now(),++t,s=(e-i)/t*1.1,l.length&&(u&&0===f&&void 0!==h?s<h.timeRemaining():e-i+s<o););if(-1===c&&l.length){let t=e-i,s=Math.max(a-t,4);n(s)}}},r=function(s){let t;try{t=s.Ef()}catch(t){return void s.reject(t)}s.resolve(t)},t=(n,s,r,self.js),o=12,a=16,i=35,u="undefined"!=typeof requestIdleCallback,l=[],c=-1,f=0,h=t.oi.ei("disable-asyncify");h&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously."),t.jf=function(i){let e=null;return t.isDebug&&(e=t.me()),new Promise((t,s)=>{l.push({Ef:i,resolve:t,reject:s,stack:e}),h?r(l.pop()):-1===c&&n(a)})},t.jf.i0=function(t){if(t)++f;else if(--f<0)throw new Error("already turned off high throughput mode")}}{let t=function(){n=-1},s=function(){r=-1,o=-1;let i=Date.now();for(let s of a)if(s.e0(i)){let t=s.h0();(-1===o||t<o)&&(o=t)}else a.delete(s);if(-1!==o){let t=Math.max(o-i+h,e);r=self.setTimeout(s,t)}},i=(t,s,self.js),e=1e3,h=100,n=-1,r=(i.n0=function(){return-1===n&&(n=Date.now(),self.setTimeout(t,16)),n},-1),o=-1,a=new Set;i.r0=class{constructor(t,s){this.o0=t,this.a0=1e3*s,this.u0=0,this.l0=!1}c0(){let t=i.n0();this.u0=t+this.a0,this.l0||(a.add(this),this.l0=!0),-1===r?(o=this.u0,r=self.setTimeout(s,this.a0+h)):this.u0<o&&o>t+e&&(self.clearTimeout(r),o=this.u0,r=self.setTimeout(s,this.a0+h))}e0(t){return!(t>=this.u0)||(this.o0()?(this.u0=t+this.a0,!0):this.l0=!1)}h0(){return this.u0}f0(){this.l0&&(a.delete(this),this.l0=!1,0===a.size)&&-1!==r&&(self.clearTimeout(r),r=-1,o=-1)}ln(){this.f0(),this.o0=null}}}{const us=self.js;us.d0=class ls{constructor(t){this.p0=!1,this.m0=t}g0(){this.p0||(this.p0=!0,this.m0&&(this.m0(),this.m0=null))}y0(){return this.p0}ln(){this.g0()}static ln(t){return new ls(()=>t.ln())}static M0(s,i,e,h,t){if(null==h)h=!1;else if("boolean"!=typeof h&&"object"!=typeof h)throw new TypeError("invalid event listener options");if(t&&(e=e.bind(t)),i.includes(" ")){i=i.split(" ");const n=new us.w0;for(let t of i)s.addEventListener(t,e,h),n.fc(us.un(us.d0,()=>s.removeEventListener(t,e,h)));return n}return s.addEventListener(i,e,h),us.un(us.d0,()=>s.removeEventListener(i,e,h))}},us.S0=class extends us.d0{T0(t){this.m0=t}},us.w0=class extends us.d0{constructor(...s){super(),this.b0=new Set;for(let t of s)this.fc(t)}fc(...s){if(this.p0)throw new Error("already disposed");for(let t of s)this.b0.add(t)}v0(t){if(this.p0)throw new Error("already disposed");this.b0.delete(t)}x0(){if(this.p0)throw new Error("already disposed");if(this.b0){for(let t of this.b0)t.g0();this.b0.clear()}}y0(){return this.p0}g0(){if(this.p0)throw new Error("already disposed");this.p0=!0;for(let t of this.b0)t.g0();this.b0.clear(),this.b0=null}ln(){this.g0()}}}{const cs=self.js;cs.I0=class extends cs.rn{constructor(){super(),this.G0=0,this.iu=0,this.C0=0,this._0=0}fc(t){this.iu=(t=+t)-this.G0,this.C0=this._0+this.iu,this.G0=this.C0-this._0-this.iu,this._0=this.C0}E0(t){this._0-=+t}hi(){return this._0}c0(){this.G0=0,this.iu=0,this.C0=0,this._0=0}Set(t){this.G0=0,this.iu=0,this.C0=0,this._0=+t}A0(t){this.G0=t.G0,this.iu=t.iu,this.C0=t.C0,this._0=t._0}ln(){}}}{const fs=self.js,r={};r.D0=function(t){this.N0=t,this.right=this.N0.L0,this.left=this.N0.L0,this.parent=null,this.color=!1,this.key=null},r.O0=function(t){this.size=0,this.L0=new r.D0(this),this.L0.color=!1,this.root=this.L0,this.root.parent=this.L0,this.compare=t||this.R0},r.O0.prototype.R0=function(t,s){return t<s?-1:s<t?1:0},r.O0.prototype.clone=function(){var t=new r.O0(this.compare);return t.P0(this),t},r.O0.prototype.clear=function(){this.size=0,this.L0=new r.D0(this),this.L0.color=!1,this.root=this.L0,this.root.parent=this.L0},r.O0.prototype.k0=function(t){var s=t.right;t.right=s.left,s.left!=this.L0&&(s.left.parent=t),s.parent=t.parent,t.parent==this.L0?this.root=s:t==t.parent.left?t.parent.left=s:t.parent.right=s,(s.left=t).parent=s},r.O0.prototype.F0=function(t){var s=t.left;t.left=s.right,s.right!=this.L0&&(s.right.parent=t),s.parent=t.parent,t.parent==this.L0?this.root=s:t==t.parent.right?t.parent.right=s:t.parent.left=s,(s.right=t).parent=s},r.O0.prototype.j0=function(t){if(this.contains(t))this.z0(t).key=t;else{for(var s=new r.D0(this),i=(s.key=t,this.L0),e=this.root;e!=this.L0;)i=e,e=this.compare(s.key,e.key)<0?e.left:e.right;(s.parent=i)==this.L0?this.root=s:this.compare(s.key,i.key)<0?i.left=s:i.right=s,s.left=this.L0,s.right=this.L0,s.color=!0,this.B0(s),this.size++}},r.O0.prototype.B0=function(t){for(;t!=this.L0&&t!=this.root&&1==t.parent.color;){var s;t.parent==t.parent.parent.left?1==(s=t.parent.parent.right).color?(t.parent.color=!1,s.color=!1,t.parent.parent.color=!0,t=t.parent.parent):(t==t.parent.right&&(t=t.parent,this.k0(t)),t.parent.color=!1,t.parent.parent.color=!0,t.parent.parent!=this.L0&&this.F0(t.parent.parent)):1==(s=t.parent.parent.left).color?(t.parent.color=!1,s.color=!1,t.parent.parent.color=!0,t=t.parent.parent):(t==t.parent.left&&(t=t.parent,this.F0(t)),t.parent.color=!1,t.parent.parent.color=!0,t.parent.parent!=this.L0&&this.k0(t.parent.parent))}this.root.color=!1},r.O0.prototype.U0=function(t){var s=t.left==this.L0||t.right==this.L0?t:this.W0(t),i=s.left!=this.L0?s.left:s.right;i.parent=s.parent,s.parent==this.L0?this.root=i:s==s.parent.left?s.parent.left=i:s.parent.right=i,s!=t&&(t.key=s.key),0==s.color&&this.Q0(i),this.size--},r.O0.prototype.Q0=function(t){for(;t!=this.root&&0==t.color;){var s;t=t==t.parent.left?(1==(s=t.parent.right).color&&(s.color=!1,t.parent.color=!0,this.k0(t.parent),s=t.parent.right),0==s.left.color&&0==s.right.color?(s.color=!0,t.parent):(0==s.right.color&&(s.left.color=!1,s.color=!0,this.F0(s),s=t.parent.right),s.color=t.parent.color,t.parent.color=!1,s.right.color=!1,this.k0(t.parent),this.root)):(1==(s=t.parent.left).color&&(s.color=!1,t.parent.color=!0,this.F0(t.parent),s=t.parent.left),0==s.right.color&&0==s.left.color?(s.color=!0,t.parent):(0==s.left.color&&(s.right.color=!1,s.color=!0,this.k0(s),s=t.parent.left),s.color=t.parent.color,t.parent.color=!1,s.left.color=!1,this.F0(t.parent),this.root))}t.color=!1},r.O0.prototype.remove=function(t){var s;return(t=this.z0(t))!=this.L0?(s=t.key,this.U0(t),s):null},r.O0.prototype.Y0=function(t,s){this.remove(s)},r.O0.prototype.min=function(t){for(;t.left!=this.L0;)t=t.left;return t},r.O0.prototype.max=function(t){for(;t.right!=this.L0;)t=t.right;return t},r.O0.prototype.W0=function(t){if(t.right!=this.L0)return this.min(t.right);for(var s=t.parent;s!=this.L0&&t==s.right;)s=(t=s).parent;return s},r.O0.prototype.J0=function(t){if(t.left!=this.L0)return this.max(t.left);for(var s=t.parent;s!=this.L0&&t==s.left;)s=(t=s).parent;return s},r.O0.prototype.V0=function(t){if(0<this.size){var s=this.z0(t);if(s==this.L0)return null;if(s.right!=this.L0)return this.min(s.right).key;for(var i=s.parent;i!=this.L0&&s==i.right;)i=(s=i).parent;return i!=this.L0?i.key:null}return null},r.O0.prototype.H0=function(t){if(0<this.size){var s=this.z0(t);if(s==this.L0)return null;if(s.left!=this.L0)return this.max(s.left).key;for(var i=s.parent;i!=this.L0&&s==i.left;)i=(s=i).parent;return i!=this.L0?i.key:null}return null},r.O0.prototype.q0=function(){return this.min(this.root).key},r.O0.prototype.X0=function(){return this.max(this.root).key},r.O0.prototype.z0=function(t){for(var s=this.root;s!=this.L0&&0!=this.compare(s.key,t);)s=this.compare(t,s.key)<0?s.left:s.right;return s},r.O0.prototype.contains=function(t){return null!=this.z0(t).key},r.O0.prototype.getValues=function(){var s=[];return this.forEach(function(t){s.push(t)}),s},r.O0.prototype.P0=function(t){if("array"==r.typeOf(t))for(var s=0;s<t.length;s++)this.j0(t[s]);else if("function"==r.typeOf(t.forEach))t.forEach(this.j0,this);else if("function"==r.typeOf(t.getValues))for(var i=t.getValues(),s=0;s<i.length;s++)this.j0(i[s]);else if("object"==r.typeOf(t))for(var e in t)this.j0(t[e])},r.O0.prototype.Z0=function(t){if("array"==r.typeOf(t))for(var s=0;s<t.length;s++)this.remove(t[s]);else if("function"==r.typeOf(t.forEach))t.forEach(this.Y0,this);else if("function"==r.typeOf(t.getValues))for(var i=t.getValues(),s=0;s<i.length;s++)this.remove(i[s]);else if("object"==r.typeOf(t))for(var e in t)this.remove(t[e])},r.O0.prototype.K0=function(t){if("array"==r.typeOf(t)){for(var s=0;s<t.length;s++)if(!this.contains(t[s]))return!1;return!0}if("function"==r.typeOf(t.forEach))return t.every(this.contains,this);if("function"==r.typeOf(t.getValues)){for(var i=t.getValues(),s=0;s<i.length;s++)if(!this.contains(i[s]))return!1;return!0}if("object"==r.typeOf(t)){for(var e in t)if(!this.contains(t[e]))return!1;return!0}},r.O0.prototype.range=function(t,s){var i=[];return this.$0(function(t){i.push(t)},t,s),i},r.O0.prototype.t1=function(t,s){if(!this.s1())for(var i=this.min(this.root);i!=this.L0;){if(t.call(s,i.key,this))return;i=this.W0(i)}},r.O0.prototype.i1=function(t,s,i){if(!this.s1())for(var e=this.z0(s);e!=this.L0;){if(t.call(i,e.key,this))return;e=this.W0(e)}},r.O0.prototype.e1=function(t,s,i){if(!this.s1())for(var e=this.min(this.root),h=this.z0(s);e!=h;){if(t.call(i,e.key,this))return;e=this.W0(e)}},r.O0.prototype.$0=function(t,s,i,e){if(!this.s1())for(var h=this.z0(s),n=this.z0(i);h!=n;){if(t.call(e,h.key,this))return;h=this.W0(h)}},r.O0.prototype.h1=function(t,s){if(!this.s1())for(var i=this.max(this.root);i!=this.L0;){if(t.call(s,i.key,this))return;i=this.J0(i)}},r.O0.prototype.forEach=function(t,s){if(!this.s1())for(var i=this.min(this.root);i!=this.L0;i=this.W0(i))t.call(s,i.key,i.key,this)},r.O0.prototype.some=function(t,s){if(!this.s1())for(var i=this.min(this.root);i!=this.L0;i=this.W0(i))if(t.call(s,i.key,i.key,this))return!0;return!1},r.O0.prototype.every=function(t,s){if(this.s1())return!1;for(var i=this.min(this.root);i!=this.L0;i=this.W0(i))if(!t.call(s,i.key,i.key,this))return!1;return!0},r.O0.prototype.map=function(t,s){var i=[];if(!this.s1())for(var e=this.min(this.root);e!=this.L0;e=this.W0(e))i.push(t.call(s,e.key,e.key,this));return i},r.O0.prototype.filter=function(t,s){var i=[];if(!this.s1())for(var e=this.min(this.root);e!=this.L0;e=this.W0(e))t.call(s,e.key,e.key,this)&&i.push(e.key);return i},r.O0.prototype.getCount=function(){return this.size},r.O0.prototype.s1=function(){return 0==this.size},r.O0.prototype.pe=function(t){var s=r.getCount(t);if(this.getCount()>s)return!1;var i=0;if(this.s1())return!0;for(var e=this.min(this.root);e!=this.L0;e=this.W0(e))r.contains.call(t,t,e.key)&&i++;return i==this.getCount()},r.O0.prototype.n1=function(t){var s=new r.O0(this.compare);if(!this.s1())for(var i=this.min(this.root);i!=this.L0;i=this.W0(i))t.contains.call(t,i.key,i.key,this)&&s.j0(i.key);return s},fs.O0=class extends fs.rn{constructor(t){super(),this.o1=new r.O0(t),this.a1=!1,this.u1=new Set,this.l1=new Set}fc(t){this.a1?this.o1.contains(t)?this.l1.delete(t):this.u1.add(t):this.o1.j0(t)}v0(t){this.a1?this.o1.contains(t)?this.l1.add(t):this.u1.delete(t):this.o1.remove(t)}ei(t){return this.a1?!!this.u1.has(t)||!this.l1.has(t)&&this.o1.contains(t):this.o1.contains(t)}ic(){this.o1.clear(),this.u1.clear(),this.l1.clear()}toArray(){if(this.a1)throw new Error("cannot be used in queueing mode");return this.o1.getValues()}rc(){return this.o1.getCount()+this.u1.size-this.l1.size}ec(){return 0===this.rc()}c1(){if(this.ec())throw new Error("empty set");if(this.a1)throw new Error("cannot be used in queueing mode");const t=this.o1,s=t.min(t.root);return s.key}f1(){if(this.ec())throw new Error("empty set");if(this.a1)throw new Error("cannot be used in queueing mode");const t=this.c1();return this.v0(t),t}d1(t){if(this.a1!==(t=!!t)&&!(this.a1=t)){for(const s of this.l1)this.o1.remove(s);this.l1.clear();for(const i of this.u1)this.o1.j0(i);this.u1.clear()}}m1(t){this.o1.forEach(t)}*values(){if(!this.ec()){const s=this.o1;for(let t=s.min(s.root);t!=s.L0;t=s.W0(t))yield t.key}}[Symbol.iterator](){return this.values()}}}{const ds=self.js;ds.g1=class{constructor(t=ds.hardwareConcurrency){this.M1=t,this.w1=[],this.S1=0}fc(i){return new Promise((t,s)=>{this.w1.push({Ef:i,resolve:t,reject:s}),this.T1()})}b1(i){for(let t=0,s=this.w1.length;t<s;++t)if(this.w1[t].Ef===i)return t;return-1}v1(t,s){const i=this.b1(t);if(-1===i)throw new Error("cannot find promise to resolve");this.w1[i].resolve(s),this.w1.splice(i,1)}I1(t,s){const i=this.b1(t);if(-1===i)throw new Error("cannot find promise to reject");this.w1[i].reject(s),this.w1.splice(i,1)}async T1(){if(this.w1.length&&!(this.S1>=this.M1)){this.S1++;const s=this.w1.shift();try{const t=await s.Ef();s.resolve(t)}catch(t){s.reject(t)}this.S1--,this.T1()}}static async G1(t,s){let i=[],e=!1,h=[];for(;t--;)h.push((async()=>{let t;for(;t=s.pop();){if(e)return;try{i.push(await t())}catch(t){throw e=!0,t}}})());return await Promise.all(h),i}}}{const ps=self.js;ps.C1=class{constructor(t,s,i){this.o0=t,this._1=s,this.E1=i||2*s,this.A1=-1,this.D1=-1/0,this.N1=()=>this.L1(),this.O1=!1,this.R1=!1,this.P1=null}F1(t){this.R1=!!t}j1(){return void 0!==ps.Battery&&ps.Battery.IsOnBatteryPower()?this.E1:this._1}z1(...e){if(-1===this.A1){this.P1=e;let t=ps.n0(),s=t-this.D1,i=this.j1();i<=s&&this.R1?(this.D1=t,this.B1()):this.A1=self.setTimeout(this.N1,Math.max(i-s,4))}}B1(){this.O1=!0;const t=this.P1;this.P1=null,t?this.o0(...t):this.o0(),this.O1=!1}c0(){this.O1||(this.U1(),this.P1=null,this.D1=ps.n0())}L1(){this.A1=-1,this.D1=ps.n0(),this.B1()}U1(){-1!==this.A1&&(self.clearTimeout(this.A1),this.A1=-1)}ln(){this.U1(),this.o0=null,this.P1=null,this.N1=null}}}{const ms=self.js;ms.W1=class{constructor(){this.Q1=new Map,this.Y1=!1,this.J1=null,this.V1=null,this.H1=null,this.q1=null}X1(t){this.Y1=!!t}Z1(){return this.Y1}K1(t){this.J1=t}td(t){if(this.J1)return this.J1(t);throw new Error("no get base size callback set")}sd(t){this.V1=t}ed(t,s,i,e,h,n){if(this.V1)return this.V1(t,s,i,e,h,n);throw new Error("no raster at size callback set")}hd(t){this.H1=t}nd(t){if(!this.H1)throw new Error("no release result callback set");this.H1(t)}rd(t){this.q1=t}od(){if(!this.q1)throw new Error("no redraw callback set");this.q1()}ad(t){let s=this.Q1.get(t);return s||(s=ms.un(ms.ud,this,t),this.Q1.set(t,s)),s.ld(),s}fd(t){this.Q1.delete(t.dd())}pd(){for(const t of this.Q1.values())t.md(),t.gd()}}}{const gs=self.js;gs.ud=class{constructor(t,s){this.yd=t,this.Md=s,this.wd=0,this.Sd=0,this.Td=0,this.bd=this.yd.td(s).then(t=>{this.yd&&(this.Sd=t[0],this.Td=t[1],this.yd.od())}).catch(t=>{console.error("[SVG] Error loading SVG: ",t),this.vd=!0,this.yd&&this.yd.od()}),this.xd=0,this.Id=0,this.Gd=0,this.Cd=0,this._d=!1,this.Ed=null,this.Ad=!1,this.vd=!1}ln(){if(this.wd<=0)throw new Error("already released");this.wd--,0===this.wd&&this.Dd()}md(){this.Ed&&(this.yd.nd(this.Ed),this.Ed=null)}Dd(){this.md(),this.yd.fd(this),this.yd=null}dd(){return this.Md}ld(){this.wd++}Nd(){return 0<this.wd}Ld(){return this.Ed}gd(){this.Ad=!0}async Od(e,h,n){if(0!==h&&0!==n&&!this.vd&&!this._d){let t=gs.Pn(Math.ceil(h)),s=gs.Pn(Math.ceil(n)),i=Math.max(t,s);if(4096<i){const r=4096/i;h*=r,n*=r,t=Math.min(Math.ceil(t*r),4096),s=Math.min(Math.ceil(s*r),4096)}if(h<t&&n<s){const o=h/n,a=t/s;n=o<a?(h=s*o,s):(h=t)/o}if(this.yd.Z1()&&(t=Math.ceil(h),s=Math.ceil(n)),!(t<=this.xd&&s<=this.Id)||this.Ad){this._d=!0,this.xd=t,this.Id=s;const u=await this.yd.ed(this.Md,e,this.xd,this.Id,h,n);this.yd&&(this.md(),this.Ed=u,this.Gd=h,this.Cd=n,this._d=!1,this.Ad=!1,this.yd.od())}}}Rd(){return this.bd}Pd(){return this.Sd}kd(){return this.Td}Fd(){return this.Gd}jd(){return this.Cd}zd(){return this.vd}}}{let s=function(t){return Ss.get(t)};s;const c=self.js,ys=(c.Bd="\ufeff",new Set("0123456789")),Ms=(c.Ud=function(t){return ys.has(t)},new Set(" \t\n\r\u2028\u2029"));c.Wd=function(t){return Ms.has(t)},c.Qd=function(t){return[...t].filter(t=>!c.Wd(t)).join("")},c.Yd=function(t){for(const s of t)if(!c.Wd(s))return!1;return!0},c.Jd=function(t){for(const s of t)if(!c.Wd(s))return!1;return!0},c.Vd=function(t){return 1===t.length&&t.charCodeAt(0)<32},c.Hd=function(t){return[...t].filter(t=>!c.Vd(t)).join("")};let i=null;try{i=new RegExp("\\p{P}(?<=[\\u3000-\\u303F\\uFF00-\\uFFEF])","u")}catch(t){console.warn("Unable to detect CJK punctuation: ",t)}c.qd=function(t){return!c.Wd(t)&&i&&i.test(t)};const ws=new Set("0123456789.+-e"),Ss=(c.Xd=function(s){if(!(s=s.trim()).length)return!1;let t=s.charAt(0);if("-"!==t&&!ys.has(t))return!1;for(let t of s)if(!ws.has(t))return!1;return!0},c.Zd=function(s){let i=s.length;for(;0<i;){let t=s.charAt(i-1);if(!c.Ud(t))break;--i}return s.substr(0,i)},c.Kd=function(t){let s=c.Zd(t),i=t.substr(s.length);return s+(i?(parseInt(i,10)+1).toString():"2")},new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]])),Ts=/[&<>"']/g,bs=(c.$d=function(t){return t.replace(Ts,s)},c.tp=function(t){let s=c.sp(t,"\\","\\\\");return s=c.sp(s,'"','\\"'),s=c.sp(s,"\t","\\t"),s=c.sp(s,"\r",""),c.sp(s,"\n","\\n")},c.ip=function(t){let s=c.sp(t,"&","&amp;");return s=c.sp(s,"<","&lt;"),s=c.sp(s,">","&gt;"),c.sp(s,'"',"&quot;")},/[-[\]{}()*+?.,\\^$|#\s]/g),vs=(c.de=function(t){return t.replace(bs,"\\$&")},c.ep=function(t,s){let i=0;for(const e of t)e===s&&++i;return i},c.hp=function(t,s,i=!1){if(!s)return[];i||(t=t.toLowerCase(),s=s.toLowerCase());let e=s.length,h=0,n,r=[];for(;-1<(n=t.indexOf(s,h));)r.push(n),h=n+e;return r},c.sp=function(t,s,i){return t.replaceAll(s,()=>i)},c.np=function(t,s,i){return t.replace(new RegExp(c.de(s),"gi"),()=>i)},c.rp=function(t,s){"string"==typeof s?t.textContent=s:s.op()?t.textContent=s.toString():(t.innerHTML=s.up(),s instanceof c.Lh&&s.lp(t))},c.cp=function(t,s){return t instanceof c.HtmlString||t instanceof c.Lh?t.equals(s):s instanceof c.HtmlString||s instanceof c.Lh?s.equals(t):t===s},c.fp=function(i,...e){let h=i;for(let t=0,s=e.length;t<s;++t){const n=`{${t}}`;if(!i.includes(n))throw new Error(`missing placeholder '${n}' in string substitution`);h=h.replace(n,e[t].toString())}return h},c.pp=function(i,...e){let h=i,n=-1,r=-1;for(let t=0,s=e.length;t<s;++t){const o=`{${t}}`;i.includes(o)?(r=t,h=h.replace(o,e[t].toString())):-1===n&&(n=t)}if(0<=n&&0<=r&&n<r)throw new Error(`missing placeholder '${n}' in string substitution`);return h},c.mp=function(t,i){let e=t;for(let[t,s]of Object.entries(i))e=e.replaceAll(t,s.toString());return e},c.gp=function(t,s){return s<t?1:t<s?-1:0},c.yp=function(t,s){let i=t.toLowerCase(),e=s.toLowerCase();return e<i?1:i<e?-1:0},new self.Intl.Segmenter),xs=(c.Mp=function(t){const s=[];for(const i of vs.segment(t))s.push(i.segment);return s},c.wp=function*(t){for(const s of vs.segment(t))yield s.segment},c.Sp=function(t){let s=0;for(const i of vs.segment(t))++s;return s},1073741824),Is=1024*xs,Gs={Tp:!(c.bp=function(s,t){let i="common."+(t?"dataRates":"dataSizes")+".",e=self.langSub;if(s<1024)return e(i+"bytes",s);if(s<1048576){let t=s/1024;return t=t<10?Math.round(10*t)/10:Math.round(t),e(i+"kilobytes",t)}if(s<xs){let t=s/1048576;return t=t<10?Math.round(10*t)/10:Math.round(t),e(i+"megabytes",t)}if(s<Is){let t=s/xs;return t=t<10?Math.round(10*t)/10:Math.round(t),e(i+"gigabytes",t)}{let t=s/Is;return t=t<10?Math.round(10*t)/10:Math.round(t),e(i+"terabytes",t)}}),vp:!0,xp:!0,Ip:!0,Gp:!0};c.Cp=function(t,s){s=Object.assign({},Gs,s),c.Lang.PushContext("common.time");const i=[],e=self.lang,h=self.langPluralSub;if(s.vp){const r=Math.floor(t/86400);0<r&&(t-=24*r*3600,i.push(h(".days",null,r)))}if(s.xp){const o=Math.floor(t/3600);(0<o||i.length)&&(t-=3600*o,i.push(h(".hours",null,o)))}if(s.Ip){const a=Math.floor(t/60);(0<a||i.length||!s.Gp)&&(t-=60*a,i.push(h(".minutes",null,a)))}if(s.Gp){const u=Math.floor(t%60);i.push(h(".seconds",null,u))}const n=(s.Tp?e(".approx-prefix"):"")+i.join(e(".separator"));return c.Lang.PopContext(),n},c._p=function(t,s){let i=t<0?"-":"",e=(t=Math.abs(t)).toString(),h=s-e.length;for(let t=0;t<h;++t)i+="0";return i+e},c.Ep=function(t){return t.toLowerCase().replace(/\b\w/g,t=>t.toUpperCase())},c.Ap=function(t,s){let i=t.split(".").map(t=>t.trim()),e=s.split(".").map(t=>t.trim());c.Qr(i,4,"0"),c.Qr(e,4,"0"),i=i.map(t=>parseInt(t,10)),e=e.map(t=>parseInt(t,10));for(let t=0;t<4;++t){const h=i[t]-e[t];if(0!=h)return h<0?-1:1}return 0},c.Dp=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const s=Math.floor(16*Math.random()),i="x"===t?s:3&s|8;return i.toString(16)})},c.Np=function(i,e){if(i.length!==e.length)throw new Error("strings must be same length");let h=0;for(let t=0,s=i.length;t<s;++t)i.charAt(t)!==e.charAt(t)&&++h;return h},c.Lp=function(t,s){if(0===t.length)return s.length;if(0===s.length)return t.length;let i,e,h,n,r,o;for(s.length<t.length&&(i=t,t=s,s=i),o=Array(t.length+1),e=0;e<=t.length;e++)o[e]=e;for(e=1;e<=s.length;e++){for(n=e,h=1;h<=t.length;h++)r=s[e-1]===t[h-1]?o[h-1]:Math.min(o[h-1]+1,Math.min(n+1,o[h]+1)),o[h-1]=n,n=r;o[t.length]=n}return o[t.length]}}{let s=function(t,i,e){const h=o.get(e);if(!h)return"class"===e?i?"</span>":`<span class="bbclass${l++}">`:t;if("string"==typeof h){if("a"===h&&0===a.length||"abbr"===h&&0===u.length)return t;if("a"!==h||i){if("abbr"!==h||i)return"<"+i+h+">";{const n=parseInt(e.substring(3),10)-1;if(n<0||n>=u.length)throw new Error("invalid bbcode tip substitution");let t=u[n],s="";if("string"==typeof t?s=t:"function"==typeof t&&(s=t()),"string"!=typeof s)throw new TypeError("invalid bbcode tip");return`<abbr title="${f.sp(s,'"',"&quot;")}">`}}{const s=parseInt(e.substring(1),10)-1;if(s<0||s>=a.length)throw new Error("invalid bbcode link substitution");const r=a[s];if("string"==typeof r)return`<a href="${a[s]}">`;if("function"==typeof r)return`<a class="bblink${s}">`;throw new TypeError("invalid bbcode link action")}}if(Array.isArray(h)){let t=h[0],s=h[1];return i?"</"+t+">":`<${t} class="${s}">`}},f=(s,self.js),o=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["code","code"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["tip1","abbr"],["tip2","abbr"],["tip3","abbr"],["tip4","abbr"],["tip5","abbr"],["tip6","abbr"],["tip7","abbr"],["tip8","abbr"],["tip9","abbr"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),d=new Set(["icon"]),i=/\[(\/?)([a-zA-Z0-9]+)\]/g,p=/\[(\/?)([^\[\n]*?)\]/g,a=null,u=null,l=0,e=/\n/g;f.Lh=class{constructor(t,s){if(this.Op=s&&s.Rp?t:f.$d(t),this.Pp="",this.kp=!1,this.Fp=[],this.jp=[],s){if(this.kp=!!s.convertLineBreaks,s.links){if(9<s.links.length)throw new Error("too many links");this.Fp=s.links}if(s.tips){if(9<s.tips.length)throw new Error("too many tips");this.jp=s.tips}}this.zp=this.Op.includes("["),this.Bp=this.kp&&this.Op.includes("\n"),this.Up=!this.zp&&!this.Bp&&!this.Op.includes("&"),this.Wp=!1,this.Qp=[]}toString(){return this.Op}valueOf(){return this.Op}op(){return this.Up}Yp(){return this.zp?this.Op.replace(i,""):this.Op}up(){if(this.Up)return this.Op;if(!this.Pp&&this.Op){let t=this.Op;this.zp&&(l=0,a=this.Fp,u=this.jp,t=t.replace(i,s),a=null,u=null),this.Bp&&(t=t.replace(e,"<br>")),this.Pp=t}return this.Pp}lp(i){if(this.Fp.length)for(let t=0,s=this.Fp.length;t<s;++t){const e=this.Fp[t];if("function"==typeof e){const h=i.querySelector(".bblink"+t);if(!h)throw new Error("unable to attach BBString link handler");h.onclick=e}}}equals(t){return t instanceof f.HtmlString?this.up()===t.up():t instanceof f.Lh?this.Op===t.Op:this.Op===t}Jp(){if(!this.Wp){let e=[],t=this.Op,h=[],s=p.lastIndex=0,i;for(;null!==(i=p.exec(t));){const n=i.index;if(!(0<n&&"\\"===t.charAt(n-1))){const r=i[0],o=i[1],a=i[2],u=t.substring(s,n);if(s=n+r.length,u&&e.push({text:u,Vp:h.slice(0)}),a)if(o){const l=a.toLowerCase();for(let t=h.length-1;0<=t;--t)if(h[t].tag===l){h.splice(t,1);break}}else{let t=a,s=null,i=a.indexOf("=");if(-1!==i?(t=a.substring(0,i).toLowerCase(),s=a.substring(i+1)):t=t.toLowerCase(),d.has(t)){if("icon"!==t)throw new Error("unknown self-closing tag "+t);e.push({icon:s,Vp:h.slice(0)})}else h.push({tag:t,param:s})}}}s<t.length&&e.push({text:t.substring(s),Vp:h.slice(0)});for(const c of e)c.text&&(c.text=this.Hp(c.text));this.Qp=e.map(t=>t.icon?f.un(f.qp,{icon:t.icon,Vp:t.Vp}):f.un(f.Xp,{Zp:f.Mp(t.text),Vp:t.Vp})),this.Wp=!0}return this.Qp}Hp(t){return t=f.sp(t,"\\[","["),f.sp(t,"\\\\","\\")}static Kp(t){return f.un(f.Lh,t,{Rp:!0}).Yp()}static $p(t){return t.replace(p,"")}}}{let u=function(t){return""!==t&&""!==t&&M.Wd(t)},a=function(t){return Cs.has(t)},l=function(t){return M.qd(t)&&!a(t)},c=function(t){for(;0<t.length&&u(t.at(-1));)t.pop()},y=function(t){return"\n"===t||"\r\n"===t};u,a,l,c,y;const M=self.js,Cs=new Set("");M.tm=class{constructor(){this.im=[],this.hm=null}nm(){return this.im}rm(){return this.im.length}om(t){this.hm=t}um(t,s){let i=0,e=0,h=0,n=0,r=0;for(const o of t){if(-1===o.lm()){const a=s(o);o.fm(a.height),o.pm(a.fontBoundingBoxAscent||0),o.gm(a.fontBoundingBoxDescent||0),o.ym(a.Mm||0),o.wm()?o.Sm(a.width):o.Tm()&&o.vm(this.hm)}i+=o.lm(),e=Math.max(e,o.xm()),h=Math.max(h,o.Im()),n=Math.max(n,o.Gm()),r=Math.max(r,o.Cm())}return{width:i,height:e,fontBoundingBoxAscent:h,fontBoundingBoxDescent:n,Mm:r}}_m(t,s,i,e,h,n){this.im.push(M.un(M.tm.Em,{Am:t,width:s,height:i,fontBoundingBoxAscent:e,fontBoundingBoxDescent:h,Mm:n}))}tm(s,n,r,i,o){if("string"==typeof s&&(s=[M.un(M.Xp,{Zp:M.Mp(s)})]),M.Br(this.im),!(!s.length||1===s.length&&s[0].wm()&&s[0].ec()||r<2)){if(1===s.length){const a=s[0];if(a.wm()&&a.Dm()<=100&&!a.Nm()){let{width:t,height:s,fontBoundingBoxAscent:i,fontBoundingBoxDescent:e,Mm:h}=n(a);if(t+=o,a.Sm(t),a.fm(s),a.pm(i||0),a.gm(e||0),a.ym(h||0),t<=r)return void this._m([a],t,s,i,e,h)}}let t;t="word"===i?this.Lm(s):"cjk"===i?this.Om(s):this.Rm(s),this.Pm(t,n,r,o)}}Lm(t){let s=[],i=[],e=!1;for(const h of t){const n=h.km();if(h.Tm())0<i.length&&s.push(i),s.push([h]),i=[];else for(const r of h.Fm())if(y(r))0<i.length&&s.push(i),s.push([M.un(M.Xp,{Zp:["\n"],Vp:n})]),i=[];else if(0===i.length)i.push(M.un(M.Xp,{Zp:[r],Vp:n})),e=u(r);else{const o=u(r);if(o===e){const a=i.at(-1);a.km()===n?a.jm(r):i.push(M.un(M.Xp,{Zp:[r],Vp:n}))}else s.push(i),i=[M.un(M.Xp,{Zp:[r],Vp:n})],e=o}}return 0<i.length&&s.push(i),s}Om(t){let s=[],i=[],e=!1;for(const h of t){const n=h.km();if(h.Tm())0<i.length&&s.push(i),s.push([h]),i=[];else for(const r of h.Fm())if(y(r))0<i.length&&s.push(i),s.push([M.un(M.Xp,{Zp:["\n"],Vp:n})]),i=[];else{if(0===i.length)i.push(M.un(M.Xp,{Zp:[r],Vp:n}));else if(e||l(r)){const o=i.at(-1);o.km()===n?o.jm(r):i.push(M.un(M.Xp,{Zp:[r],Vp:n}))}else s.push(i),i=[M.un(M.Xp,{Zp:[r],Vp:n})];e=a(r)}}return 0<i.length&&s.push(i),s}Rm(t){const s=[];for(const i of t)if(i.wm()){const e=i.Fm();M.qh(s,e.map(t=>[M.un(M.Xp,{Zp:[t],Vp:i.km()})]))}else s.push([i]);return s}zm(t){return t.map(t=>t.Bm())}Um(s,i){let t=s.length?s.at(-1):null,e=0;t&&t.wm()&&i[0].wm()&&i[0].km()===t.km()&&(t.Wm(i[0].Fm()),e=1);for(let t=i.length;e<t;++e){const h=i[e];s.push(h.Bm())}}Pm(t,s,i,e){let h=[],n=0,r=0,o=0,a=0,u=0;for(const l of t)if(1===l.length&&l[0].wm()&&1===l[0].Dm()&&y(l[0].Fm()[0])){if(0===r){const c=M.un(M.Xp,{Zp:[" "],Vp:l[0].km()}),f=s(c);r=f.height,o=f.fontBoundingBoxAscent||0,a=f.fontBoundingBoxDescent||0,u=f.Mm||0}this._m(h,n,r,o,a,u),h=[],n=0,r=0,o=0,a=0,u=0}else{const d=this.zm(h),p=(this.Um(d,l),this.um(d,s)),m=p.width;if(i<=m)if(0<h.length&&this._m(h,n,r,o,a,u),h=[],l[0].wm()&&M.Jd(l[0].Fm()))n=0,r=0,o=0,a=0,u=0;else{this.Um(h,l);const g=this.um(h,s);n=g.width,r=g.height,o=g.fontBoundingBoxAscent,a=g.fontBoundingBoxDescent,u=g.Mm}else h=d,n=m,r=p.height,o=p.fontBoundingBoxAscent,a=p.fontBoundingBoxDescent,u=p.Mm}0<h.length&&this._m(h,n,r,o,a,u),this.Qm(s,e)}Qm(s,i){for(const e of this.im){const h=e.Ym();if(h.length){let t=h.at(-1);if(t.wm()){const n=t.Fm(),r=n.slice(0);if(c(r),0===r.length)e.Jm(-t.lm()),h.pop();else if(r.length<n.length){t.Vm(r);const o=s(t).width,a=t.lm()-o;t.Sm(o),e.Jm(-a)}0!==i&&0<h.length&&((t=h.at(-1)).Jm(i),e.Jm(i))}}}}ic(){M.Br(this.im)}Hm(){return this.im.reduce((t,s)=>Math.max(t,s.lm()),0)}qm(){return this.im.reduce((t,s)=>t+s.xm(),0)}}}{const _s=self.js;_s.tm.Em=class{constructor(t){this.Qp=t.Am||[],this.Xm=t.width||-1,this.Zm=t.height||-1,this.Km=t.fontBoundingBoxAscent||-1,this.$m=t.fontBoundingBoxDescent||-1,this.tg=t.Mm||-1,this.sg=0,this.ig=0}Am(){return this.Qp.values()}*eg(){const s=this.Qp;for(let t=s.length-1;0<=t;--t)yield s[t]}Ym(){return this.Qp}Jm(t){this.Xm+=t}lm(){return this.Xm}xm(){return this.Zm}hg(){return this.Km}Gm(){return this.$m}Cm(){return this.tg}ng(t){this.sg=t}rg(){return this.sg}og(t){this.ig=t}ag(){return this.ig}}}{const Es=self.js;Es.ug=class{constructor(t){this.lg=t.Vp||[],this.Xm=t.width||-1,this.Zm=t.height||-1,this.Km=t.fontBoundingBoxAscent||-1,this.$m=t.fontBoundingBoxDescent||-1,this.tg=t.Mm||-1,this.sg=0,this.ig=0}wm(){return!1}Tm(){return!1}km(){return this.lg}fg(s){const i=this.lg;for(let t=i.length-1;0<=t;--t){const e=i[t];if(e.tag===s)return e}return null}dg(t){return!!this.fg(t)}pg(){const t=new Map;for(const s of this.lg)t.set(s.tag,s.param);return t}Jm(t){this.Xm+=t}Sm(t){this.Xm=t}lm(){return this.Xm}fm(t){this.Zm=t}xm(){return this.Zm}pm(t){this.Km=t}Im(){return this.Km}gm(t){this.$m=t}Gm(){return this.$m}ym(t){this.tg=t}Cm(){return this.tg}ng(t){this.sg=t}rg(){return this.sg}og(t){this.ig=t}ag(){return this.ig}}}{const As=self.js;As.Xp=class extends As.ug{constructor(t){super(t),this.mg=t.Zp}wm(){return!0}Wm(t){As.qh(this.mg,t),this.Xm=-1,this.Zm=-1,this.Km=-1,this.$m=-1,this.tg=-1}jm(t){this.mg.push(t)}Bm(){return As.un(As.Xp,{Zp:this.mg.slice(0),Vp:this.lg,width:this.Xm,height:this.Zm,fontBoundingBoxAscent:this.Km,fontBoundingBoxDescent:this.$m,Mm:this.tg})}Fm(){return this.mg}Vm(t){this.mg=t}Dm(){return this.mg.length}ec(){return 0===this.mg.length}Nm(){return this.mg.includes("\n")}}}{const Ds=self.js;Ds.qp=class extends Ds.ug{constructor(t){super(t),this.gg=t.icon}Tm(){return!0}yg(){return this.gg}Bm(){return Ds.un(Ds.qp,{icon:this.gg,Vp:this.lg,width:this.Xm,height:this.Zm,fontBoundingBoxAscent:this.Km,fontBoundingBoxDescent:this.$m,Mm:this.tg})}Mg(t){if(!t)return null;let s=Number(this.gg);return String(s)===this.gg?(s=Math.floor(s),t.wg(s)):t.Sg(this.gg)}vm(t){const s=this.Mg(t);this.Xm=s?this.Zm*s.lm()/s.xm():0}Tg(t){const s=this.Mg(t);return s?s.Tg():null}Dm(){return 1}}}{const Ns=self.js;Ns.bg=class{constructor(t){this.vg=new Map,this.xg=t.Ig,this.Gg=t.Cg}ln(){for(const t of this.vg.values())t.ln();this.vg.clear()}_g(t){let s=this.vg.get(t);if(!s){const i=this.xg(t);s=Ns.un(Ns.Eg,this,{source:t,Ag:i}),this.vg.set(t,s)}return s}Dg(t){return this.vg.has(t)}Ng(t){const s=this.vg.get(t);s&&s.ln(),this.vg.delete(t)}async Lg(t){return this.Gg(t)}}}{const Ls=self.js;Ls.Eg=class{constructor(t,s){this.Og=t,this.Rg=s.source,this.Pg=[],this.kg=new Map,this.Fg=!1,this.jg=!1,this.zg=null;const i=s.Ag.Bg;for(let t=0,s=i.length;t<s;++t){const e=i[t],h=Ls.un(Ls.Ug,this,{index:t,tag:e.tag,source:e.source,width:e.width,height:e.height});this.Pg.push(h),e.tag&&this.kg.set(e.tag.toLowerCase(),h)}}ln(){for(const t of this.Pg)t.ln();Ls.Br(this.Pg),this.kg.clear(),this.Og=null,this.Rg=null}Wg(){return this.Fg}Qg(){return this.jg}Yg(){return this.zg||(this.zg=this.Jg()),this.zg}async Jg(){if(!this.Fg){this.Fg=!0,this.jg=!0;const t=await this.Og.Lg(this.Rg);if(this.Og){const i=t.Bg;for(let t=0,s=Math.min(i.length,this.Pg.length);t<s;++t){const e=i[t].Vg;this.Pg[t].Hg(e)}this.jg=!1}}}wg(t){return(t=Math.floor(t))<0||t>=this.Pg.length?null:this.Pg[t]}Sg(t){return this.kg.get(t.toLowerCase())||null}}}{const Os=self.js;Os.Ug=class{constructor(t,s){this.qg=t,this.Rg=s.source||null,this.Xg=s.index,this.Zg=s.tag,this.Xm=s.width,this.Zm=s.height,this.Kg=null}ln(){this.Xm=0,this.Zm=0,this.qg=null}$g(){return this.Rg}lm(){return this.Xm}xm(){return this.Zm}Hg(t){this.Kg=t}Tg(){return this.Kg}}}{let e=function(t,s,i,e){const h=js;xh.B(ks,i,s),xh.B(Fs,t,s),xh.Rt(h,ks,Fs),xh.normalize(h,h),e.set(h[0],h[1],h[2],xh.Ot(t,h))},r=function(t,s,i,e,h,n,r){const o=r.x,a=r.y,u=r.z,l=r.w,c=r.ty,f=r.iy,d=r.ey,p=1-c,m=1-f,g=1-d,y=o*t*c+o*e*p+a*s*f+a*h*m+u*i*d+u*n*g;if(l<=y)return!0;const M=o*e*c+o*t*p+a*h*f+a*s*m+u*n*d+u*i*g;return l<M},h=function(t,s,i,e){const h=e.x,n=e.y,r=e.z,o=e.w,a=h*t+n*s+r*i;return o<=a};e,r,h;const Rs=self.js,Ps=self.bs,xh=Ps.As,Uh=Ps.Ds,vh=Ps.Gs,ks=xh.create(),Fs=xh.create(),js=xh.create(),zs=Uh.create(),Bs=vh.create(),Us=xh.create(),Ws=xh.create(),Qs=xh.create(),Ys=xh.create(),Js=xh.create(),Vs=xh.create(),Hs=xh.create(),qs=xh.create(),Xs=Uh._(0,0,1,1);Rs.hy={ny(t,s,i,e,h,n,r){let o=e[0]*t+e[4]*s+e[8]*i+e[12],a=e[1]*t+e[5]*s+e[9]*i+e[13],u=e[2]*t+e[6]*s+e[10]*i+e[14],l=e[3]*t+e[7]*s+e[11]*i+e[15],c=h[0]*o+h[4]*a+h[8]*u+h[12]*l,f=h[1]*o+h[5]*a+h[9]*u+h[13]*l,d=h[2]*o+h[6]*a+h[10]*u+h[14]*l,p=h[3]*o+h[7]*a+h[11]*u+h[15]*l;return 0!=p&&(f*=p=1/p,d*=p,r[0]=(.5*(c*=p)+.5)*n[2]+n[0],r[1]=(.5*f+.5)*n[3]+n[1],r[2]=.5*(1+d),!0)},oy(t,s,i,e,h,n,r){const o=Bs,a=zs;return vh.multiply(o,h,e),null!==vh.D(o,o)&&(a[0]=(t-n[0])/n[2]*2-1,a[1]=(s-n[1])/n[3]*2-1,a[2]=2*i-1,a[3]=1,Uh.zt(a,a,o),0!==a[3])&&(a[3]=1/a[3],r[0]=a[0]*a[3],r[1]=a[1]*a[3],r[2]=a[2]*a[3],!0)},uy(t,s,i,e,h,n,r){const o=ks,a=Fs;if(!Rs.hy.oy(t,s,0,e,h,n,o))return!1;if(!Rs.hy.oy(t,s,1,e,h,n,a))return!1;let u=Fs,l=(xh.B(u,a,o),js),c=(xh.set(l,0,0,1),-i),f=xh.Ot(l,u),d=0;if(0===f){const p=xh.Ot(l,o)+c;if(0!==p)return!1}else if((d=-(xh.Ot(o,l)+c)/f)<0)return!1;return xh.Et(r,o,u,d),!0}};class Zs{constructor(){this.x=NaN,this.y=NaN,this.z=NaN,this.w=NaN,this.ty=NaN,this.iy=NaN,this.ey=NaN}set(t,s,i,e){this.x=t,this.y=s,this.z=i,this.w=e,this.ty=0<t?1:0,this.iy=0<s?1:0,this.ey=0<i?1:0}}Rs.hy.my=class{constructor(){this.gy=new Zs,this.yy=new Zs,this.My=new Zs,this.wy=new Zs,this.Sy=new Zs,this.Ty=new Zs}by(t,s){const i=Xs;Rs.hy.oy(0,1,0,t,s,i,Us),Rs.hy.oy(1,1,0,t,s,i,Ws),Rs.hy.oy(0,0,0,t,s,i,Qs),Rs.hy.oy(1,0,0,t,s,i,Ys),Rs.hy.oy(0,1,1,t,s,i,Js),Rs.hy.oy(1,1,1,t,s,i,Vs),Rs.hy.oy(0,0,1,t,s,i,Hs),Rs.hy.oy(1,0,1,t,s,i,qs),e(Qs,Us,Js,this.gy),e(Us,Ws,Vs,this.yy),e(Ws,Ys,qs,this.My),e(Ys,Qs,Hs,this.wy),e(Hs,Js,Vs,this.Ty),e(Ys,Ws,Us,this.Sy)}vy(t,s,i,e,h,n){return r(t,s,i,e,h,n,this.gy)&&r(t,s,i,e,h,n,this.yy)&&r(t,s,i,e,h,n,this.My)&&r(t,s,i,e,h,n,this.wy)&&r(t,s,i,e,h,n,this.Sy)&&r(t,s,i,e,h,n,this.Ty)}xy(t,s,i){return!h(t,s,i,this.Sy)}}}{const Ks=self.js,$s=self.bs,xh=$s.As,Uh=$s.Ds,vh=$s.Gs,ti=vh.create(),si=xh._(0,0,0),ii=xh._(0,0,0),ei=xh._(0,0,0),hi=xh._(0,1,0),ni=(Uh._(0,0,0,0),new Ks.tl),ri=new Ks.Rect,oi=new Ks.tl(0,0,1,0,1,1,0,1),ai={Iy:1,Gy:1e4},ui=vh._(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1);Ks.hy.Cy=class{constructor(t){t=Object.assign({},ai,t),this.Xm=0,this.Zm=0,this._y=Ks.Mn(45),this.Ey=Math.tan(this._y/2),this.Ay=vh.create(),this.Dy=vh.create(),this.Ny=!1,this.Ly=t.Iy,this.Oy=t.Gy,this.Ry=[],this.Py=new Map,this.ky=null,this.Fy=null,this.jy=null,this.zy=null,this.By=null,this.Uy=null,this.Wy=null,this.Qy=null,this.Yy=null,this.Jy=null,this.Vy=null,this.Hy=null,this.qy=new Map,this.Xy=null,this.Zy=[],this.Ky=new Map,this.$y=0,this.tM=0,this.sM=1,this.iM=[this.sM],this.eM=1,this.hM=[this.eM],this.nM=.5,this.rM=[this.nM],this.oM=0,this.aM=!0,this.uM=!1}lM(t){let s=0,i=t.length,e=0;for(;s<i;)t[s++]=e,t[s++]=e+1,t[s++]=e+2,t[s++]=e,t[s++]=e+2,t[s++]=e+3,e+=4}cM(){this.$y=0,this.tM=0,this.ky=null,this.Fy=null,this.jy=null,this.zy=null,this.By=null,this.Uy=null,this.Wy=null,this.Qy=null,this.Yy=null,this.Jy=null,this.Vy=null,this.Hy=null,this.fM()}dM(){this.cM(),this.Xy=null}pM(){for(const t of this.Ry)t.ln();this.cM()}lm(){return this.Xm}xm(){return this.Zm}mM(t){return this.gM()?100:t/(2*this.yM())}MM(t){if(this.gM()){const s=t/(2*this.yM());return s/this.mM(t)}return 1}wM(t){this.Ly=t}SM(){return this.Ly}TM(t){this.Oy=t}bM(){return this.Oy}vM(t){this._y=t,this.Ey=Math.tan(this._y/2)}xM(){return this._y}yM(){return this.Ey}IM(){this.Ny=!1}GM(){this.Ny=!0}gM(){return!this.Ny}CM(){return this.Ny}_M(t,s,i=.5,e=.5){const h=this.SM(),n=this.bM(),r=this.xM();if(.5===i&&.5===e)this.EM()?vh.bt(t,r,s,h,n):vh.perspective(t,r,s,h,n);else{const o=2*(i=1-i)-2,a=2*i,u=2*e-2,l=2*e,c=this.yM()*h,f=c*s;vh.St(t,o*f,a*f,u*c,l*c,h,n),this.EM()&&vh.mul(t,ui,t)}}AM(t,s,i,e=1){const h=self.devicePixelRatio,n=2*this.mM(i)*h*this.yM()/i,r=s*n/(2*h*e),o=i*n/(2*h*e),a=-r,u=r,l=-o,c=o;this.EM()?vh.It(t,a,u,l,c,this.SM(),this.bM()):vh.ortho(t,a,u,l,c,this.SM(),this.bM())}DM(t,s,i,e,h,n=1){let r=1;this.gM()&&(r=200*this.yM()/h);const o=ei,a=(xh.set(o,r,-r,1),si),u=ii;xh.multiply(a,s,o),xh.multiply(u,i,o),vh.Gt(t,a,u,e||hi),o[2]=n,vh.scale(t,t,o)}NM(t,s,i,e,h,n,r,o){return xh.set(si,t,s,i),xh.set(ii,e,h,n),this.DM(ti,si,ii,hi,r,o),ti}LM(t){this.Ry.push(t),this.Py.set(t.tf(),t)}OM(t){const s=this.Ry.indexOf(t);-1!==s&&this.Ry.splice(s,1),this.Py.delete(t.tf())}fM(){Ks.Br(this.Ry),this.Py.clear()}RM(t){return this.Py.get(t)||null}PM(){return this.ky}kM(){this.FM(this.ky)}jM(){return this.Fy}zM(){this.FM(this.Fy)}BM(){this.FM(this.jy)}UM(){this.FM(this.zy)}WM(){this.FM(this.By)}QM(){this.FM(this.Uy)}YM(){this.FM(this.Wy)}JM(){this.FM(this.Qy)}VM(){this.FM(this.Yy)}HM(){this.FM(this.Jy)}qM(){this.FM(this.Vy)}XM(){this.FM(this.Hy)}ZM(t){this.Xy=t}KM(){return this.Xy}$M(t,s,i,e){let h=Ks.hy.ew.iw(t,s,i,e),n=this.qy.get(h);return n||(n=Ks.un(Ks.hy.ew,this,t,s,i,e),this.qy.set(h,n)),n.hw(),n}rw(t){t.ow(),0===t.aw()&&(this.Xy===t&&(this.Xy=null),this.qy.delete(t.uw()),t.ln())}lw(t){Ks.Br(this.Zy),this.Ky.clear();let s=0;for(const i of t){const e=i[0],h=i[1],n=i[2];this.Zy.push([h,n]),this.Ky.set(e,{number:s,cw:h,fw:n}),s++}}dw(t){return this.Zy[t]}pw(t){return this.dw(t)[0]}mw(t){return this.dw(t)[1]}gw(t){const s=this.Ky.get(t);if(void 0===s)throw new Error("invalid blend name");return s}yw(t){const s=this.Ky.get(t);if(void 0===s)throw new Error("invalid blend name");return s.number}Mw(t){this.$y=t}ww(){return this.$y}Sw(t){this.tM=t,this.Xy=null}Tw(){return this.tM}Em(t,s,i,e){const h=Ks.bn(t,s,i,e),n=Math.sin(h),r=Math.cos(h),o=.5*this.sM,a=n*o,u=r*o,l=this.eM;2===l?this.bw(t,s,0,i,e,0,a,u):1===l?this.xw(t,s,0,i,e,0,a,u):this.Iw(t,s,0,i,e,0,a,u)}Gw(t,s,i,e,h,n){const r=Ks.bn(t,s,e,h),o=Math.sin(r),a=Math.cos(r),u=.5*this.sM,l=o*u,c=a*u,f=this.eM;2===f?this.bw(t,s,i,e,h,n,l,c):1===f?this.xw(t,s,i,e,h,n,l,c):this.Iw(t,s,i,e,h,n,l,c)}bw(t,s,i,e,h,n,r,o){const a=this.nM,u=t+a-o,l=s+a-r,c=e+a+o,f=h+a+r,d=2*o,p=2*r,m=u+r,g=l-o,y=u-r+d,M=l+o+p,w=c+r,S=f-o,T=c-r-d,b=f+o-p;this.Cw(m,g,i,w,S,n,T,b,n,y,M,i,oi)}xw(t,s,i,e,h,n,r,o){const a=this.nM,u=t+a-o,l=s+a-r,c=e+a+o,f=h+a+r,d=u+r,p=l-o,m=u-r,g=l+o,y=c+r,M=f-o,w=c-r,S=f+o;this.Cw(d,p,i,y,M,n,w,S,n,m,g,i,oi)}Iw(t,s,i,e,h,n,r,o){const a=this.nM,u=t+a,l=s+a,c=e+a,f=h+a,d=u+r,p=l-o,m=u-r,g=l+o,y=c+r,M=f-o,w=c-r,S=f+o;this.Cw(d,p,i,y,M,n,w,S,n,m,g,i,oi)}_w(t,s,i,e,h,n){const r=Ks.bn(t,s,i,e),o=Math.sin(r),a=Math.cos(r),u=.5*this.sM,l=o*u,c=a*u,f=this.eM;2===f?this.Ew(t,s,i,e,l,c,h,n):1===f?this.Aw(t,s,i,e,l,c,h,n):this.Dw(t,s,i,e,l,c,h,n)}Ew(t,s,i,e,h,n,r,o){const a=this.nM,u=t+a-n,l=s+a-h,c=i+a+n,f=e+a+h,d=2*n,p=2*h,m=u+h,g=l-n,y=u-h+d,M=l+n+p,w=c+h,S=f-n,T=c-h-d,b=f+n-p;ni.set(m,g,w,S,T,b,y,M),ri.set(r,0,o,0),this.Nw(ni,ri)}Aw(t,s,i,e,h,n,r,o){const a=this.nM,u=t+a-n,l=s+a-h,c=i+a+n,f=e+a+h,d=u+h,p=l-n,m=u-h,g=l+n,y=c+h,M=f-n,w=c-h,S=f+n;ni.set(d,p,y,M,w,S,m,g),ri.set(r,0,o,0),this.Nw(ni,ri)}Dw(t,s,i,e,h,n,r,o){const a=this.nM,u=t+a,l=s+a,c=i+a,f=e+a,d=u+h,p=l-n,m=u-h,g=l+n,y=c+h,M=f-n,w=c-h,S=f+n;ni.set(d,p,y,M,w,S,m,g),ri.set(r,0,o,0),this.Nw(ni,ri)}Lw(t,s,i,e){const h=.5*this.sM,n=this.eM;2===n?this.Ow(t,s,i,e,h):1===n?this.Rw(t,s,i,e,h):this.Pw(t,s,i,e,h)}Ow(t,s,i,e,h){this.bw(t,s,0,i,s,0,0,h),this.bw(i,s,0,i,e,0,h,0),this.bw(i,e,0,t,e,0,0,-h),this.bw(t,e,0,t,s,0,-h,0)}Rw(t,s,i,e,h){this.xw(t,s,0,i,s,0,0,h),this.xw(i,s,0,i,e,0,h,0),this.xw(i,e,0,t,e,0,0,-h),this.xw(t,e,0,t,s,0,-h,0)}Pw(t,s,i,e,h){this.Iw(t,s,0,i,s,0,0,h),this.Iw(i,s,0,i,e,0,h,0),this.Iw(i,e,0,t,e,0,0,-h),this.Iw(t,e,0,t,s,0,-h,0)}kw(t){this.Lw(t.xu(),t.Iu(),t.Gu(),t.Cu())}Fw(t){const s=Ks.bn(t.$n(),t.ir(),t.er(),t.hr()),i=Math.sin(s),e=Math.cos(s),h=.5*this.sM,n=i*h,r=e*h,o=this.eM;2===o?this.jw(t,n,r):1===o?this.zw(t,n,r):this.Bw(t,n,r)}jw(t,s,i){this.bw(t.$n(),t.ir(),0,t.er(),t.hr(),0,s,i),this.bw(t.er(),t.hr(),0,t.nr(),t.rr(),0,i,-s),this.bw(t.nr(),t.rr(),0,t.ur(),t.lr(),0,-s,-i),this.bw(t.ur(),t.lr(),0,t.$n(),t.ir(),0,-i,s)}zw(t,s,i){this.xw(t.$n(),t.ir(),0,t.er(),t.hr(),0,s,i),this.xw(t.er(),t.hr(),0,t.nr(),t.rr(),0,i,-s),this.xw(t.nr(),t.rr(),0,t.ur(),t.lr(),0,-s,-i),this.xw(t.ur(),t.lr(),0,t.$n(),t.ir(),0,-i,s)}Bw(t,s,i){this.Iw(t.$n(),t.ir(),0,t.er(),t.hr(),0,s,i),this.Iw(t.er(),t.hr(),0,t.nr(),t.rr(),0,i,-s),this.Iw(t.nr(),t.rr(),0,t.ur(),t.lr(),0,-s,-i),this.Iw(t.ur(),t.lr(),0,t.$n(),t.ir(),0,-i,s)}Uw(t){this.sM=t,this.iM[this.iM.length-1]=t}Ww(){return this.sM}Qw(t){if(100<=this.iM.length)throw new Error("pushed too many line widths - check push/pop pairs");this.iM.push(t),this.sM=t}Yw(){if(this.iM.length<=1)throw new Error("cannot pop last line width - check push/pop pairs");this.iM.pop(),this.sM=this.iM.at(-1)}Jw(){this.eM=0,this.hM[this.hM.length-1]=0}Vw(){this.eM=1,this.hM[this.hM.length-1]=0}Hw(){this.eM=2,this.hM[this.hM.length-1]=0}qw(t){if("butt"===t)this.Xw();else if("square"===t)this.Zw();else{if("zag"!==t)throw new Error("invalid line cap");this.Kw()}}Xw(){if(100<=this.hM.length)throw new Error("pushed too many line caps - check push/pop pairs");this.hM.push(0),this.eM=0}Zw(){if(100<=this.hM.length)throw new Error("pushed too many line caps - check push/pop pairs");this.hM.push(1),this.eM=1}Kw(){if(100<=this.hM.length)throw new Error("pushed too many line caps - check push/pop pairs");this.hM.push(2),this.eM=2}$w(){if(this.hM.length<=1)throw new Error("cannot pop last line cap - check push/pop pairs");this.hM.pop(),this.eM=this.hM.at(-1)}tS(t){this.nM=t,this.rM[this.rM.length-1]=t}sS(){return this.nM}iS(t){if(100<=this.rM.length)throw new Error("pushed too many line offsets - check push/pop pairs");this.rM.push(t),this.nM=t}eS(){if(this.rM.length<=1)throw new Error("cannot pop last line offset - check push/pop pairs");this.rM.pop(),this.nM=this.rM.at(-1)}hS(s){const t=s.length/2;if(t<3)throw new Error("need at least 3 points");const i=t-2,e=i-1,h=s[0],n=s[1];for(let t=0;t<i;t+=2){const r=2*t,o=s[2+r],a=s[3+r],u=s[4+r],l=s[5+r];if(t===e)this.nS(h,n,o,a,u,l,u,l);else{const c=s[6+r],f=s[7+r];this.nS(h,n,o,a,u,l,c,f)}}}rS(){return 3}oS(){this.aS(!0),this.oM++}uS(){return this.oM}lS(){this.oM++}cS(t){this.aM=!!t}fS(){return this.aM}dS(t){this.uM=!!t}pS(){return this.uM}mS(){return!1}EM(){return!1}gS(){}yS(){}MS(){}wS(){return this.gS()+this.yS()+this.MS()}SS(){return Ks.un(Ks.hy.TS,this)}}}{const li=self.js;li.hy.bS=class{constructor(t,s){this.pn=s.name,this.vS=t,this.xS=s.extendBoxHorizontal||0,this.IS=s.extendBoxVertical||0,this.GS=!!s.crossSampling,this.CS=!!s.mustPreDraw,this._S=!!s.preservesOpaqueness,this.ES=!!s.supports3dDirectRendering,this.AS=!!s.animated,this.DS=!!s.blendsBackground,this.NS=!!s.usesDepth,this.LS=!1,this.OS=this.GS||this.DS||0!==this.xS||0!==this.IS}ln(){this.vS=null}RS(){return this.vS}tf(){return this.pn}PS(){return 0!==this.xS||0!==this.IS}kS(){return this.xS}FS(){return this.IS}jS(){return this.GS}zS(){return this.CS}BS(){return this._S}US(){return this.ES}WS(){return this.AS}QS(){return this.DS}YS(){return this.NS}JS(){return this.LS}VS(){return this.OS}HS(){return!1}}}{const ci=self.js;ci.hy.ew=class{constructor(t,s,i,e,h){this.vS=t,this.wd=0,this.qS=null,this.XS="",this.ZS=i,this.KS=ci.un(ci.Jo),this.KS.set(e),this.$S=h,"string"==typeof s?this.XS=s:(this.qS=s,this.XS=this.qS.tf())}ln(){if(0<this.wd)throw new Error("releasing state group still in use");this.vS=null,this.qS=null,this.XS=""}tT(){const t=this.vS;t.FM(this.qS),t.sT(this.ZS),t.iT(this.KS),t.Sw(this.$S),t.ZM(this)}uw(){return ci.hy.ew.iw(this.XS,this.ZS,this.KS,this.$S)}hw(){++this.wd}ow(){--this.wd}aw(){return this.wd}eT(){this.qS=null}hT(t){if(this.qS=t.RM(this.XS),!this.qS)throw new Error("failed to restore shader program")}static iw(t,s,i,e){const h="string"==typeof t?t:t.tf();return h+","+s+","+i.ua()+","+i.la()+","+i.ca()+","+i.fa()+","+e}}}{let e=function(t,s,i){const e=i.$n(),h=i.ir(),n=i.er()-e,r=i.hr()-h,o=i.ur()-e,a=i.lr()-h,u=n*t,l=r*t,c=o*s,f=a*s;return[e+u+c,h+l+f]};e;const G=self.js,fi=G.un(G.tl);G.hy.nT=class{constructor(t,s,i){this.rT=t,this.oT=s,this.aT=i,this.su=NaN,this.iu=NaN,this.$S=NaN,this.uT=NaN,this.lT=NaN,this.su=0,this.iu=0,this.$S=0,this.uT=0,this.lT=0}cT(t,s,i,e){this.su=t,this.iu=s,this.uT=i,this.lT=e}fT(){return this.su}dT(t){this.su!==t&&(this.su=t,this.rT.pT())}mT(){return this.iu}gT(t){this.iu!==t&&(this.iu=t,this.rT.pT())}yT(){return this.$S}MT(t){this.$S!==t&&(this.$S=Math.max(t,0),this.rT.pT())}wT(){return this.uT}ST(t){this.uT=t}TT(){return this.lT}bT(t){this.lT=t}vT(t,s,i){[this.su,this.iu]=e(t.su,t.iu,s),this.$S=t.$S,this.uT=G.Pt(i.xu(),i.Gu(),t.uT),this.lT=G.Pt(i.Iu(),i.Cu(),t.lT)}xT(t,s,i){[this.su,this.iu]=e(t.su,t.iu,s),this.$S=t.$S,[this.uT,this.lT]=e(t.uT,t.lT,i)}IT(){return{x:this.fT(),y:this.mT(),z:this.yT(),u:this.wT(),v:this.TT()}}GT(t){this.dT(t.x),this.gT(t.y),t.hasOwnProperty("z")&&this.MT(t.z),this.ST(t.u),this.bT(t.v)}CT(){return this.rT}_T(){return this.oT}ET(){return this.aT}},G.hy.AT=class{constructor(i,t,s){if(i<2||t<2)throw new Error("invalid mesh size");this.DT=i,this.NT=t,this.LT=s||null,this.OT=[],this.RT=0,this.PT=0,this.kT=1,this.FT=1,this.jT=0,this.zT=!1;const e=i-1,h=t-1;for(let s=0;s<t;++s){const n=[];for(let t=0;t<i;++t){const r=G.un(G.hy.nT,this,t,s),o=t/e,a=s/h;r.cT(o,a,o,a),n.push(r)}this.OT.push(n)}}ln(){G.Br(this.OT)}BT(){return this.DT}UT(){return this.NT}WT(){return this.LT}QT(){return this.OT}pT(){this.zT=!0}YT(){if(this.zT){let t=1/0,s=1/0,i=-1/0,e=-1/0,h=0;for(const n of this.OT)for(const r of n){const o=r.fT(),a=r.mT();t=Math.min(t,o),s=Math.min(s,a),i=Math.max(i,o),e=Math.max(e,a),h=Math.max(h,r.yT())}this.RT=t,this.PT=s,this.kT=i,this.FT=e,this.jT=h,this.zT=!1}}JT(){return this.YT(),this.RT}VT(){return this.YT(),this.PT}HT(){return this.YT(),this.kT}qT(){return this.YT(),this.FT}XT(){return this.YT(),this.jT}ZT(){return 0<this.XT()}KT(t,s){return t=Math.floor(t),s=Math.floor(s),t<0||t>=this.DT||s<0||s>=this.NT?null:this.OT[s][t]}$T(t,i,e){const h=e instanceof G.Rect;if(t.BT()!==this.BT()||t.UT()!==this.UT())throw new Error("source mesh wrong size");const n=t.OT,r=this.OT;for(let t=0,s=r.length;t<s;++t){const o=n[t],a=r[t];for(let t=0,s=a.length;t<s;++t){const u=o[t],l=a[t];h?l.vT(u,i,e):l.xT(u,i,e)}}}tb(n){let r=this.OT,o=r[0];for(let t=1,s=r.length;t<s;++t){let i=r[t],e=o[0],h=i[0];for(let t=1,s=i.length;t<s;++t){const a=o[t],u=i[t];fi.set(e.wT(),e.TT(),a.wT(),a.TT(),u.wT(),u.TT(),h.wT(),h.TT()),n.Cw(e.fT(),e.mT(),e.yT(),a.fT(),a.mT(),a.yT(),u.fT(),u.mT(),u.yT(),h.fT(),h.mT(),h.yT(),fi),e=a,h=u}o=i}}sb(o,a){a=a||((t,s,i)=>[t,s,i]);let t=this.OT,u=t[0];for(let n=1,r=t.length;n<r;++n){let i=t[n],e=u[0],h=i[0];for(let t=1,s=i.length;t<s;++t){const l=u[t],c=i[t],[f,d,p]=a(e.fT(),e.mT(),e.yT()),[m,g,y]=a(l.fT(),l.mT(),l.yT()),[M,w,S]=a(c.fT(),c.mT(),c.yT()),[T,b,v]=a(h.fT(),h.mT(),h.yT());o.Gw(f,d,p,m,g,y),o.Gw(f,d,p,M,w,S),o.Gw(f,d,p,T,b,v),t===s-1&&o.Gw(m,g,y,M,w,S),n===r-1&&o.Gw(T,b,v,M,w,S),e=l,h=c}u=i}}ib(t){let i=.99999999,e=t.jl(),h=[],n=this.BT()-1,r=this.UT()-1,o=1/n,a=1/r,u=n-1,l=r-1,c=e[0],f=e[1],d=G.gn(Math.floor(c*n),0,u),p=G.gn(Math.floor(f*r),0,l),m=!0,g=0,y=0,M=0,w=-1,S=()=>{c=G.gn(G.Pt(c,g,M),0,1),f=G.gn(G.Pt(f,y,M),0,1),h.push(c,f)};for(let t=0,s=e.length;t<s;t+=2){c=e[t],f=e[t+1],h.push(c,f),d=G.gn(Math.floor(c*n),0,u),p=G.gn(Math.floor(f*r),0,l);const T=(t+2)%s;for(g=e[T],y=e[1+T],w=-1;;){if(1e6<h.length)throw new Error("Too many mesh poly points");const b=d*o,v=p*a,x=(d+1)*o,I=(p+1)*a;if(m=G.mr(c,f,b,v,x,v,x,I),0!==w&&0<=(M=G.pr(c,f,g,y,b,v,x,I,-.001))&&M<=i)S(),m=!m,w=0;else if(0<p&&2!==w&&0<=(M=G.pr(c,f,g,y,b,v,x,v,.001))&&M<=i)S(),p--,m=!1,w=4;else if(d<u&&3!==w&&0<=(M=G.pr(c,f,g,y,x,v,x,I,.001))&&M<=i)S(),d++,m=!1,w=1;else if(0<d&&1!==w&&0<=(M=G.pr(c,f,g,y,b,v,b,I,.001))&&M<=i)S(),d--,m=!0,w=3;else{if(!(p<l&&4!==w&&0<=(M=G.pr(c,f,g,y,b,I,x,I,.001))&&M<=i))break;S(),p++,m=!0,w=2}}}return G.un(G.Ol,h)}eb(t,s){const i=this.hb(t);this.nb(i),s.Bl(i)}hb(t){const i=[],e=t.jl();for(let t=0,s=e.length;t<s;t+=2){const h=e[t],n=e[t+1],[r,o]=this.rb(h,n);i.push(r,o)}return i}rb(t,s){const i=this.BT()-1,e=this.UT()-1,h=1/i,n=1/e,r=G.gn(Math.floor(t*i),0,i-1),o=G.gn(Math.floor(s*e),0,e-1),a=r*h,u=o*n,l=(r+1)*h,c=(o+1)*n,f=this.KT(r,o),d=this.KT(r+1,o+1),p=G.mr(t,s,a,u,l,u,l,c),m=p?a+h:a,g=p?u:u+n,y=this.KT(r+(p?1:0),o+(p?0:1)),[M,w,S]=G.Mr(t,s,a,u,m,g,l,c);return G.Sr(M,w,S,f.fT(),f.mT(),f.yT(),y.fT(),y.mT(),y.yT(),d.fT(),d.mT(),d.yT())}nb(i){let e=[],h=i[0],n=i[1],r=h-i.at(-2),o=n-i.at(-1);for(let t=0,s=i.length;t<s;t+=2){const a=(t+2)%s,u=i[a],l=i[1+a],c=u-h,f=l-n,d=Math.abs(c)<1e-7&&Math.abs(r)<1e-7&&Math.sign(f)===Math.sign(o),p=Math.abs(f)<1e-7&&Math.abs(o)<1e-7&&Math.sign(c)===Math.sign(r);(!d&&!p&&.001<Math.abs(c/r-f/o)||0==c&&0==f)&&e.push(h,n),h=u,n=l,r=c,o=f}6<=e.length&&e.length<i.length&&G.Yr(i,e)}IT(){return{cols:this.BT(),rows:this.UT(),points:this.OT.map(t=>t.map(t=>t.IT()))}}GT(t){const i=this.BT(),e=this.UT();if(t.cols!==i||t.rows!==e)throw new Error("mesh data wrong size");const h=t.points;for(let s=0;s<e;++s){const n=h[s];for(let t=0;t<i;++t){const r=this.KT(t,s);r.GT(n[t])}}}}}{let d=function(t,s){let i,e,h,n;switch(t){case"rgba8":i=s.RGBA8,e=s.RGBA,h=s.RGBA,n=s.UNSIGNED_BYTE;break;case"rgb8":i=s.RGB8,e=s.RGB,h=s.RGB,n=s.UNSIGNED_BYTE;break;case"rgba4":i=s.RGBA4,e=s.RGBA,h=s.RGBA,n=s.UNSIGNED_SHORT_4_4_4_4;break;case"rgb5_a1":i=s.RGB5_A1,e=s.RGBA,h=s.RGBA,n=s.UNSIGNED_SHORT_5_5_5_1;break;case"rgb565":i=s.RGB565,e=s.RGB,h=s.RGB,n=s.UNSIGNED_SHORT_5_6_5;break;default:throw new Error("invalid pixel format")}return{ob:i,ab:e,format:h,type:n}};d;const di=self.js,pi=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),mi=new Set(["nearest","bilinear","trilinear"]),gi=new Set(["default","low","high"]),yi=new Set(["clamp-to-edge","repeat","mirror-repeat"]),Mi={ub:"clamp-to-edge",lb:"clamp-to-edge",cb:"trilinear",fb:0,pb:"rgba8",mb:!0,gb:"default",premultiplyAlpha:!0,yb:!1,width:-1,height:-1},wi={premultiplyAlpha:!0,flipY:!1},Si=new Set;di.hy.Mb=class{constructor(t){this.vS=t,this.wb=null,this.Xm=0,this.Zm=0,this.Sb=!0,this.Tb="clamp-to-edge",this.bb="clamp-to-edge",this.vb="trilinear",this.xb=0,this.Ib="rgba8",this.Gb=!1,this.Cb="default",this.wd=0}_b(s,t){if(!("undefined"!=typeof HTMLImageElement&&s instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&s instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&s instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&s instanceof OffscreenCanvas||s instanceof ImageData||s instanceof ArrayBuffer||null===s))throw new Error("invalid texture source");if(t=Object.assign({},Mi,t),this.wb)throw new Error("already created texture");if(this.Tb=t.ub,this.bb=t.lb,this.vb=t.cb,this.xb=t.fb,this.Ib=t.pb,this.Gb=!!t.mb&&this.vS.fS(),this.Cb=t.gb,!yi.has(this.Tb)||!yi.has(this.bb))throw new Error("invalid wrap mode");if(!mi.has(this.vb))throw new Error("invalid sampling");if(!pi.has(this.Ib))throw new Error("invalid pixel format");if(!gi.has(this.Cb))throw new Error("invalid mipmap quality");if(this.Sb=!0,s instanceof ArrayBuffer||null===s||t.yb){if(this.Xm=t.width,this.Zm=t.height,s instanceof ArrayBuffer&&s.byteLength!==this.Xm*this.Zm*4)throw new Error("ArrayBuffer wrong size")}else this.Xm=s.width,this.Zm=s.height;if(this.Xm<=0||this.Zm<=0)throw new Error("invalid texture data size");if(t.yb){const o=di.Oo(this.Xm,this.Zm),a=o.getContext("2d");a.drawImage(s,0,0,this.Xm,this.Zm),s=o}const i=di.Rn(this.Xm)&&di.Rn(this.Zm),e=this.vS.Eb();if(this.Xm>e||this.Zm>e)throw new Error("texture data exceeds maximum texture size");const h=this.vS.Ab(),n=this.vS.Db(),r=(this.wb=h.createTexture(),h.bindTexture(h.TEXTURE_2D,this.wb),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1),d(this.Ib,h));if(this.vS.Nb()||i||!this.Lb())if(2<=n){let t;t=this.Gb?Math.floor(Math.log2(Math.max(this.Xm,this.Zm))+1):1,h.texStorage2D(h.TEXTURE_2D,t,r.ob,this.Xm,this.Zm),s instanceof ArrayBuffer?h.texSubImage2D(h.TEXTURE_2D,0,0,0,this.Xm,this.Zm,r.format,r.type,new Uint8Array(s)):null!==s&&h.texSubImage2D(h.TEXTURE_2D,0,0,0,r.format,r.type,s)}else s instanceof ArrayBuffer?h.texImage2D(h.TEXTURE_2D,0,r.ab,this.Xm,this.Zm,0,r.format,r.type,new Uint8Array(s)):null===s?h.texImage2D(h.TEXTURE_2D,0,r.ab,this.Xm,this.Zm,0,r.format,r.type,null):h.texImage2D(h.TEXTURE_2D,0,r.ab,r.format,r.type,s);else{if(null===s)throw new Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");if((s=s instanceof ArrayBuffer?new ImageData(new Uint8ClampedArray(s),this.Xm,this.Zm):s)instanceof ImageData){const c=di.Oo(this.Xm,this.Zm),f=c.getContext("2d");f.putImageData(s,0,0),s=c}const u=di.Oo(di.Pn(this.Xm),di.Pn(this.Zm)),l=u.getContext("2d");l.imageSmoothingEnabled="nearest"!==this.vb,l.drawImage(s,0,0,this.Xm,this.Zm,0,0,u.width,u.height),h.texImage2D(h.TEXTURE_2D,0,r.ab,r.format,r.type,u)}null!==s&&this.Ob(h),h.bindTexture(h.TEXTURE_2D,null),this.vS.Rb(),this.wd=1,Si.add(this)}Pb(t,s,i){if(i=Object.assign({},Mi,i),this.wb)throw new Error("already created texture");if(this.Tb=i.ub,this.bb=i.lb,this.vb=i.cb,this.Ib=i.pb,this.Gb=!!i.mb&&this.vS.fS(),this.Cb=i.gb,!yi.has(this.Tb)||!yi.has(this.bb))throw new Error("invalid wrap mode");if(!mi.has(this.vb))throw new Error("invalid sampling");if(!pi.has(this.Ib))throw new Error("invalid pixel format");if(!gi.has(this.Cb))throw new Error("invalid mipmap quality");this.Sb=!1,this.Xm=Math.floor(t),this.Zm=Math.floor(s);const e=di.Rn(this.Xm)&&di.Rn(this.Zm),h=this.vS.Eb();if(this.Xm<=0||this.Zm<=0)throw new Error("invalid texture size");if(this.Xm>h||this.Zm>h)throw new Error("texture exceeds maximum texture size");if(!this.vS.Nb()&&this.Lb()&&!e)throw new Error("non-power-of-two tiled textures not supported");const n=this.vS.Ab(),r=this.vS.Db(),o=(this.wb=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.wb),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),d(this.Ib,n)),a=2<=r?o.ob:o.ab;n.texImage2D(n.TEXTURE_2D,0,a,this.Xm,this.Zm,0,o.format,o.type,null),this.Ob(n),n.bindTexture(n.TEXTURE_2D,null),this.vS.Rb(),this.wd=1,Si.add(this)}kb(t){if("default"===this.Cb)return this.Sb?t.NICEST:t.FASTEST;if("low"===this.Cb)return t.FASTEST;if("high"===this.Cb)return t.NICEST;throw new Error("invalid mipmap quality")}Lb(){return"clamp-to-edge"!==this.Tb||"clamp-to-edge"!==this.bb}Fb(t,s){if("clamp-to-edge"===s)return t.CLAMP_TO_EDGE;if("repeat"===s)return t.REPEAT;if("mirror-repeat"===s)return t.MIRRORED_REPEAT;throw new Error("invalid wrap mode")}Ob(t){const s=di.Rn(this.Xm)&&di.Rn(this.Zm);if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this.Fb(t,this.Tb)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this.Fb(t,this.bb)),"nearest"===this.vb)t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),this.Gb=!1;else if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),(s||this.vS.Nb())&&this.Gb){t.hint(t.GENERATE_MIPMAP_HINT,this.kb(t)),t.generateMipmap(t.TEXTURE_2D);const e="trilinear"===this.vb&&!this.vS.pS();t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.LINEAR_MIPMAP_NEAREST)}else t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this.Gb=!1;const i=this.vS.jb();i&&0<this.xb&&"nearest"!==this.vb&&t.texParameterf(t.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.xb,this.vS.zb()))}Bb(t,s){if(!("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||t instanceof ImageData))throw new Error("invalid texture source");if(!this.wb||this.wd<=0)throw new Error("texture not created");if(this.Sb)throw new Error("cannot update static texture");s=Object.assign({},wi,s);const i=t.width||t.videoWidth,e=t.height||t.videoHeight,h=this.vS.Db(),n=this.vS.Ab(),r=(n.bindTexture(n.TEXTURE_2D,this.wb),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!!s.flipY),d(this.Ib,n)),o=2<=h?r.ob:r.ab;try{if(this.Xm===i&&this.Zm===e){const a=di.Rn(this.Xm)&&di.Rn(this.Zm);n.texSubImage2D(n.TEXTURE_2D,0,0,0,r.format,r.type,t),(a||this.vS.Nb())&&this.Gb&&(n.hint(n.GENERATE_MIPMAP_HINT,this.kb(n)),n.generateMipmap(n.TEXTURE_2D))}else{this.Xm=i,this.Zm=e;const u=di.Rn(this.Xm)&&di.Rn(this.Zm);if(!this.vS.Nb()&&this.Lb()&&!u)throw new Error("non-power-of-two tiled textures not supported");n.texImage2D(n.TEXTURE_2D,0,o,r.format,r.type,t),(u||this.vS.Nb())&&this.Gb&&(n.hint(n.GENERATE_MIPMAP_HINT,this.kb(n)),n.generateMipmap(n.TEXTURE_2D))}}catch(t){console.error("Error updating WebGL texture: ",t)}n.bindTexture(n.TEXTURE_2D,null),this.vS.Rb()}Ub(){if(0<this.wd)throw new Error("texture still has references");if(!this.wb)throw new Error("already deleted texture");Si.delete(this);const t=this.vS.Ab();t.deleteTexture(this.wb),this.wb=null}Wb(){return!!this.wb}Qb(){return this.wb}RS(){return this.vS}Yb(){this.wd++}Jb(){if(this.wd<=0)throw new Error("no more references");this.wd--}Vb(){return this.wd}lm(){return this.Xm}xm(){return this.Zm}Hb(){return this.Sb}qb(){let t=this.Xm*this.Zm;switch(this.Ib){case"rgba8":t*=4;break;case"rgb8":t*=3;break;case"rgba4":case"rgb5_a1":case"rgb565":t*=2}return this.Gb&&(t+=Math.floor(t/3)),t}static eT(){Si.clear()}static Xb(){return Si.values()}}}{const Ti=self.js,bi=self.bs,xh=bi.As,vh=bi.Gs,vi=new Set(["nearest","bilinear","trilinear"]),xi={cb:"trilinear",alpha:!0,depth:!1,Zb:!0,Kb:!0,$b:0},Ii=new Set;Ti.hy.t2=class{constructor(t){this.vS=t,this.s2=null,this.i2=null,this.wb=null,this.e2=null,this.Xm=0,this.Zm=0,this.h2=!0,this.vb="trilinear",this.n2=!0,this.o2=!1,this.a2=!0,this.u2=0,this.l2=vh.create(),this.c2=0,this.f2=0,this.d2=0}m2(t,s,i){i=Object.assign({},xi,i);const e=this.vS.Db();if(this.wb||this.e2)throw new Error("already created render target");if(this.vb=i.cb,this.n2=!!i.alpha,this.o2=!!i.depth,this.a2=!!i.Zb,this.h2=!!i.Kb,this.u2=i.$b,!vi.has(this.vb))throw new Error("invalid sampling");if(0<this.u2&&(e<2||this.a2))throw new Error("invalid use of multisampling");if(e<2&&(this.a2=!0),this.Xm=t,this.Zm=s,this.Xm<=0||this.Zm<=0)throw new Error("invalid render target size");this.g2();const h=this.vS.Ab();if(this.s2=h.createFramebuffer(),this.o2&&(this.i2=h.createFramebuffer()),this.a2){this.wb=this.vS.M2(this.Xm,this.Zm,{cb:this.vb,pb:this.n2?"rgba8":"rgb8",mb:!1});const r=this.wb.Qb();h.bindFramebuffer(h.FRAMEBUFFER,this.s2),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,r,0),this.o2&&(h.bindFramebuffer(h.FRAMEBUFFER,this.i2),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,r,0))}else{this.e2=h.createRenderbuffer(),h.bindRenderbuffer(h.RENDERBUFFER,this.e2);const o=this.n2?h.RGBA8:h.RGB8;if(0<this.u2){const a=h.getInternalformatParameter(h.RENDERBUFFER,o,h.SAMPLES);if(a&&a[0]){const u=a[0];this.u2>u&&(this.u2=u)}else this.u2=0}0===this.u2?h.renderbufferStorage(h.RENDERBUFFER,o,this.Xm,this.Zm):h.renderbufferStorageMultisample(h.RENDERBUFFER,this.u2,o,this.Xm,this.Zm),h.bindFramebuffer(h.FRAMEBUFFER,this.s2),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.RENDERBUFFER,this.e2),this.o2&&(h.bindFramebuffer(h.FRAMEBUFFER,this.i2),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.RENDERBUFFER,this.e2)),h.bindRenderbuffer(h.RENDERBUFFER,null)}const n=this.vS.w2();this.o2&&n&&(h.bindFramebuffer(h.FRAMEBUFFER,this.s2),this.vS.S2()?h.framebufferTexture2D(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.TEXTURE_2D,n,0):h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,n)),h.bindFramebuffer(h.FRAMEBUFFER,null),Ii.add(this)}T2(t,s){if(this.Xm!==t||this.Zm!==s){this.Xm=t,this.Zm=s,this.g2();const i=this.vS.Ab(),e=(i.bindFramebuffer(i.FRAMEBUFFER,this.s2),this.wb?this.wb.Bb(new ImageData(this.Xm,this.Zm)):(i.bindRenderbuffer(i.RENDERBUFFER,this.e2),i.renderbufferStorage(i.RENDERBUFFER,this.n2?i.RGBA8:i.RGB8,this.Xm,this.Zm),i.bindRenderbuffer(i.RENDERBUFFER,null)),this.vS.w2());this.o2&&e&&(this.vS.S2()?i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,e,0):i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,e)),i.bindFramebuffer(i.FRAMEBUFFER,null)}}Ub(){if(!this.wb&&!this.e2)throw new Error("already deleted render target");Ii.delete(this);const t=this.vS.Ab(),s=(this.wb?(t.bindFramebuffer(t.FRAMEBUFFER,this.s2),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0),this.o2&&(t.bindFramebuffer(t.FRAMEBUFFER,this.i2),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)),this.vS.b2(this.wb),this.wb=null):this.e2&&(t.bindFramebuffer(t.FRAMEBUFFER,this.s2),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null),this.o2&&(t.bindFramebuffer(t.FRAMEBUFFER,this.i2),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null)),t.deleteRenderbuffer(this.e2),this.e2=null),t.bindFramebuffer(t.FRAMEBUFFER,null),2<=this.vS.Db()&&(t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null)),t.deleteFramebuffer(this.s2),this.o2&&t.deleteFramebuffer(this.i2),this.vS.v2());s.I2=null,this.s2=s.G2=null}g2(){this.vS._M(this.l2,this.Xm/this.Zm),this.c2=this.vS.xM(),this.f2=this.vS.SM(),this.d2=this.vS.bM()}C2(){return this.s2}_2(){return this.i2}RS(){return this.vS}E2(){return this.wb}A2(){return this.vS.xM()===this.c2&&this.vS.SM()===this.f2&&this.vS.bM()===this.d2||this.g2(),this.l2}D2(){return"nearest"!==this.vb}N2(){return this.n2}L2(){return this.a2}O2(){return this.o2}lm(){return this.Xm}xm(){return this.Zm}R2(){return this.h2}P2(){return this.u2}F2(){const t={cb:this.vb,alpha:this.n2,Zb:this.a2};return this.h2||(t.width=this.Xm,t.height=this.Zm),t}j2(t){return"nearest"!==(t=Object.assign({},xi,t)).cb===this.D2()&&!!t.alpha===this.N2()&&!!t.depth===this.O2()&&!(2<=this.vS.Db()&&!!t.Zb!==this.L2())&&("number"==typeof t.width||"number"==typeof t.height?!this.R2()&&this.lm()===Math.floor(t.width)&&this.xm()===Math.floor(t.height):this.R2())}z2(){return this.wb?this.wb.Qb():null}qb(){return this.wb?this.wb.qb():this.Xm*this.Zm*(this.n2?4:3)}static async B2(t,s){const i=await t.U2(s,!0);return Ti.ko(i)}static eT(){Ii.clear()}static W2(){return Ii.values()}static Q2(t,s){for(const i of Ii)i.R2()&&i.T2(t,s)}}}{const m=self.js,Gi=self.bs,xh=Gi.As,vh=Gi.Gs,Ci=new Set(["aPos","aTex","aPoints","matP","matMV","samplerFront","samplerBack","samplerDepth","destStart","destEnd","srcStart","srcEnd","srcOriginStart","srcOriginEnd","pixelSize","seconds","devicePixelRatio","layerScale","layerAngle","layoutStart","layoutEnd","color","color2_","pointTexStart","pointTexEnd","zElevation","tileSize","tileSpacing","outlineThickness","zNear","zFar"]);m.hy.Y2=class extends m.hy.bS{static async J2(t,s){const i=t.Ab(),e=s.src,h=s.V2,n=s.name,r=i.createShader(i.FRAGMENT_SHADER),o=(i.shaderSource(r,e),i.compileShader(r),i.createShader(i.VERTEX_SHADER)),a=(i.shaderSource(o,h),i.compileShader(o),i.createProgram()),u=(i.attachShader(a,r),i.attachShader(a,o),i.bindAttribLocation(a,0,"aPos"),i.bindAttribLocation(a,1,"aTex"),i.bindAttribLocation(a,2,"aPoints"),i.linkProgram(a),t.H2());if(u?await t.q2(()=>i.getProgramParameter(a,u.COMPLETION_STATUS_KHR)):await m.Rr(5),!i.getShaderParameter(r,i.COMPILE_STATUS)){const c=i.getShaderInfoLog(r);throw i.deleteShader(r),i.deleteShader(o),i.deleteProgram(a),new Error("Error compiling fragment shader: "+c)}if(!i.getShaderParameter(o,i.COMPILE_STATUS)){const f=i.getShaderInfoLog(o);throw i.deleteShader(r),i.deleteShader(o),i.deleteProgram(a),new Error("Error compiling vertex shader: "+f)}if(!i.getProgramParameter(a,i.LINK_STATUS)){const d=i.getProgramInfoLog(a);throw i.deleteShader(r),i.deleteShader(o),i.deleteProgram(a),new Error("Error linking shader program: "+d)}const l=m.Hd(i.getProgramInfoLog(a)||"").trim();return l&&!m.Yd(l)&&console.info(`[WebGL] Shader program '${n}' compilation log: `,l),i.deleteShader(r),i.deleteShader(o),a}static async X2(t,s){const i=await m.hy.Y2.J2(t,s);return new m.hy.Y2(t,i,s)}constructor(t,s,i){super(t,i);const e=t.Ab(),h=t.v2(),n=(t.aS(),e.useProgram(s),this.Z2=e,this.qS=s,this.K2="<default-device-transform>"===i.name,e.getAttribLocation(s,"aPos")),r=e.getAttribLocation(s,"aTex"),o=(this.tv=e.getAttribLocation(s,"aPoints"),-1!==n&&(e.bindBuffer(e.ARRAY_BUFFER,t.sv),e.vertexAttribPointer(n,t.rS(),e.FLOAT,!1,0,0),e.enableVertexAttribArray(n)),-1!==r&&(e.bindBuffer(e.ARRAY_BUFFER,t.hv),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r)),-1!==this.tv&&(e.bindBuffer(e.ARRAY_BUFFER,t.nv),e.vertexAttribPointer(this.tv,4,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.tv)),e.bindBuffer(e.ARRAY_BUFFER,null),this.rv=new m.hy.ov(this,"matP","mat4"),this.av=new m.hy.ov(this,"matMV","mat4"),this.uv=new m.hy.ov(this,"color","vec4"),this.lv=new m.hy.ov(this,"samplerFront","sampler"),this.cv=new m.hy.ov(this,"pointTexStart","vec2"),this.dv=new m.hy.ov(this,"pointTexEnd","vec2"),this.pv=new m.hy.ov(this,"zElevation","float"),this.mv=new m.hy.ov(this,"tileSize","vec2"),this.gv=new m.hy.ov(this,"tileSpacing","vec2"),this.yv=new m.hy.ov(this,"color2_","vec4"),this.Mv=new m.hy.ov(this,"outlineThickness","float"),this.wv=new m.hy.ov(this,"samplerBack","sampler"),this.Sv=new m.hy.ov(this,"samplerDepth","sampler"),this.Tv=new m.hy.ov(this,"destStart","vec2"),this.bv=new m.hy.ov(this,"destEnd","vec2"),this.vv=new m.hy.ov(this,"srcStart","vec2"),this.xv=new m.hy.ov(this,"srcEnd","vec2"),this.Iv=new m.hy.ov(this,"srcOriginStart","vec2"),this.Gv=new m.hy.ov(this,"srcOriginEnd","vec2"),this.Cv=new m.hy.ov(this,"pixelSize","vec2"),this._v=new m.hy.ov(this,"seconds","float"),this.Ev=new m.hy.ov(this,"devicePixelRatio","float"),this.Av=new m.hy.ov(this,"layerScale","float"),this.Dv=new m.hy.ov(this,"layerAngle","float"),this.Nv=new m.hy.ov(this,"layoutStart","vec2"),this.Lv=new m.hy.ov(this,"layoutEnd","vec2"),this.Ov=new m.hy.ov(this,"zNear","float"),this.Rv=new m.hy.ov(this,"zFar","float"),this.Pv=!!(this.Cv.kv()||this._v.kv()||this.wv.kv()||this.Tv.kv()||this.bv.kv()||this.vv.kv()||this.xv.kv()||this.Iv.kv()||this.Gv.kv()||this.Ev.kv()||this.Av.kv()||this.Dv.kv()||this.Nv.kv()||this.Lv.kv()),i.parameters||[]);this.Fv=[],this.LS=this.Cv.kv()||this.vv.kv()||this.xv.kv()||this.Iv.kv()||this.Gv.kv(),this.jv=!1,this.zv=!1,this.uv.Bv(1,1,1,1),this.yv.Bv(1,1,1,1),this.lv.Uv(0),this.wv.Uv(1),this.Sv.Uv(2),this.cv.Wv(0,0),this.dv.Wv(1,1),this.pv.Qv(0),this.mv.Wv(0,0),this.gv.Wv(0,0),this.Tv.Wv(0,0),this.bv.Wv(1,1),this.vv.Wv(0,0),this.xv.Wv(0,0),this.Iv.Wv(0,0),this.Gv.Wv(0,0),this.Cv.Wv(0,0),this.Ev.Qv(1),this.Ov.Qv(t.SM()),this.Rv.Qv(t.bM()),this.Av.Qv(1),this.Dv.Qv(0),this._v.Qv(0),this.Nv.Wv(0,0),this.Lv.Wv(0,0),this.Mv.Qv(1);for(const u of o){const l=u[0],c=u[2],f=new m.hy.ov(this,l,c);"color"===c?f.Yv(0,0,0):f.Qv(0),this.Fv.push(f)}this.K2?this.Jv(h.Vv):(this.Hv(h.Vv,!0),this.qv(h.Xv,!0));const a=h.Zv;e.useProgram(a?a.qS:null)}ln(){this.Z2.deleteProgram(this.qS),this.qS=null,this.vS.OM(this),this.Z2=null,super.ln()}Kv(){return this.Z2}$v(){return this.qS}tx(){return this.Fv.length}ix(t){return t<0||t>=this.Fv.length?null:this.Fv[t].hx()}nx(i){for(let t=0,s=i.length;t<s;++t)if(!this.Fv[t].ox(i[t]))return!1;return!0}ux(i){for(let t=0,s=i.length;t<s;++t)this.Fv[t].mx(i[t])}gx(t,s,i,e,h,n,r,o,a,u){return!this.wv.kv()&&!(this.Cv.kv()&&!this.Cv.yx(h,n)||this.Tv.kv()&&!this.Tv.yx(t.xu(),t.Iu())||this.bv.kv()&&!this.bv.yx(t.Gu(),t.Cu())||this.Ev.kv()&&!this.Ev.Mx(r)||this.Av.kv()&&!this.Av.Mx(o)||this.Dv.kv()&&!this.Dv.Mx(a)||this.vv.kv()&&!this.vv.yx(s.xu(),s.Iu())||this.xv.kv()&&!this.xv.yx(s.Gu(),s.Cu())||this.Iv.kv()&&!this.Iv.yx(i.xu(),i.Iu())||this.Gv.kv()&&!this.Gv.yx(i.Gu(),i.Cu())||this.Nv.kv()&&!this.Nv.yx(e.xu(),e.Iu())||this.Lv.kv()&&!this.Lv.yx(e.Iu(),e.Cu())||this._v.kv()&&!this._v.Mx(u))}wx(t,s,i,e,h,n,r,o,a,u){this.wv.kv()||(this.Cv.kv()&&this.Cv.Sx(h,n),this.Tv.kv()&&this.Tv.Sx(t.xu(),t.Iu()),this.bv.kv()&&this.bv.Sx(t.Gu(),t.Cu()),this.Ev.kv()&&this.Ev.Tx(r),this.Av.kv()&&this.Av.Tx(o),this.Dv.kv()&&this.Dv.Tx(a),this.vv.kv()&&this.vv.Sx(s.xu(),s.Iu()),this.xv.kv()&&this.xv.Sx(s.Gu(),s.Cu()),this.Iv.kv()&&this.Iv.Sx(i.xu(),i.Iu()),this.Gv.kv()&&this.Gv.Sx(i.Gu(),i.Cu()),this.Nv.kv()&&this.Nv.Sx(e.xu(),e.Iu()),this.Lv.kv()&&this.Lv.Sx(e.Iu(),e.Cu()),this._v.kv()&&this._v.Tx(u))}Hv(t,s){this.jv&&!s||this.K2||(this.rv.kv()&&this.rv.bx(t),this.jv=!0)}vx(){this.jv=!1}qv(t,s){this.zv&&!s||this.K2||(this.av.kv()&&this.av.bx(t),this.zv=!0)}xx(){this.zv=!1}Jv(t){if(!this.K2)throw new Error("not device transform shader");this.rv.bx(t);const s=this.vS,i=s.lm()/2,e=s.xm()/2,h=s.NM(i,e,s.mM(s.xm()),i,e,0,s.xm());this.av.bx(h)}Ix(t){this.uv.kv()&&this.uv.Gx(t[0],t[1],t[2],t[3])}static Cx(){return Ci}static _x(t){const s=t?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","attribute highp vec3 aPos;",`attribute ${s} vec2 aTex;`,`varying ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {",`	gl_Position = matP * matMV * vec4(aPos, 1.0);`,`	vTex = aTex;`,"}"].join("\n")}static Ex(t){const s=t?"highp":"mediump";return["#version 300 es","in highp vec3 aPos;",`in ${s} vec2 aTex;`,`out ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {",`	gl_Position = matP * matMV * vec4(aPos, 1.0);`,`	vTex = aTex;`,"}"].join("\n")}static Ax(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","}"].join("\n")}static Dx(){return["#extension GL_EXT_frag_depth : enable","varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static Nx(){return["#version 300 es","in mediump vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\toutColor = texture(samplerFront, vTex) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static Lx(){return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","varying highmedp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highmedp vec2 srcStart;","uniform highmedp vec2 pixelSize;","uniform highmedp vec2 tileSize;","uniform highmedp vec2 tileSpacing;","void main(void) {","\thighmedp vec2 tile = floor(vTex);","\thighmedp vec2 tex = fract(vTex);","\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","}"].join("\n")}static Ox(){return["#extension GL_EXT_frag_depth : enable","#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","varying highmedp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highmedp vec2 srcStart;","uniform highmedp vec2 pixelSize;","uniform highmedp vec2 tileSize;","uniform highmedp vec2 tileSpacing;","void main(void) {","\thighmedp vec2 tile = floor(vTex);","\thighmedp vec2 tex = fract(vTex);","\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static Rx(){return["#version 300 es","in highp vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highp vec2 srcStart;","uniform highp vec2 pixelSize;","uniform highp vec2 tileSize;","uniform highp vec2 tileSpacing;","void main(void) {","\thighp vec2 tile = floor(vTex);","\thighp vec2 tex = fract(vTex);","\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\toutColor = texture(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static Px(t,s,i){let e="";return 2<=t?e="#version 300 es\n":(s&&(e="#extension GL_EXT_frag_depth : enable\n"),i&&(e+="#extension GL_EXT_shader_texture_lod : enable\n#extension GL_OES_standard_derivatives : enable\n")),e+`
#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
${2<=t?"in":"varying"} vec2 vTex;
${2<=t?"out lowp vec4 outColor;":""}
uniform lowp vec4 color;
uniform lowp sampler2D samplerFront;
uniform vec2 pixelSize;

uniform vec2 tileSize;
uniform vec2 tileSpacing;
uniform float outlineThickness;

const float PI = 3.1415926;

lowp vec4 cospVec4(lowp vec4 a, lowp vec4 b, float x)
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

vec3 randVec3(vec2 seed)
{
	return vec3(fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(12.9898,78.233))) * 43758.5453),
				fract(sin(dot(seed.yx + vec2(0.1, 0.1), vec2(12.9898,-78.233))) * 43758.5453),
				fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(-12.9898,-78.233))) * 43758.5453));
}

lowp vec4 sampleTile(vec2 tile, vec2 uv, vec2 ddx, vec2 ddy)
{
	vec2 posRandom = tileSize;
	float angleRandom = outlineThickness;
	
	vec3 rand = (randVec3(floor(tile + 0.5)) - 0.5) * 2.0;
	
	float angle = angleRandom * rand.z * PI;
	float sin_a = sin(angle);
	float cos_a = cos(angle);
	float aspect = pixelSize.x / pixelSize.y;

	vec2 mid = tile + vec2(0.5, 0.5);
	vec2 dp = uv - mid;
	dp.x /= aspect;
	vec2 r = vec2(dp.x * cos_a - dp.y * sin_a,
				  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	vec2 p = mid + r + (posRandom * rand.xy / 2.0);
	
	${2<=t?"return textureGrad(samplerFront, p, ddx, ddy);":""}
	${t<2&&i?"return texture2DGradEXT(samplerFront, p, ddx, ddy);":""}
	${t<2&&!i?"return texture2D(samplerFront, p);":""}
}

void main(void) {
	
	${t<2?"lowp vec4 outColor;":""}
	
	float blendMarginX = tileSpacing.x;
	float blendMarginY = tileSpacing.y;
	
	vec2 tile = floor(vTex);
	vec2 tex = fract(vTex);
	vec2 ddx = ${2<=t||i?"dFdx(vTex)":"vec2(0.0, 0.0)"};
	vec2 ddy = ${2<=t||i?"dFdy(vTex)":"vec2(0.0, 0.0)"};
	
	vec4 curTile = sampleTile(tile, vTex, ddx, ddy);
	
	bool inLeftMargin = (tex.x < blendMarginX);
	bool inRightMargin = (tex.x > 1.0 - blendMarginX);
	bool inTopMargin = (tex.y < blendMarginY);
	bool inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		lowp vec4 leftTile = sampleTile(tile + vec2(-1.0, 0.0), vTex, ddx, ddy);
		float leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		lowp vec4 leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =     sampleTile(tile + vec2(0.0,  -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftTile = sampleTile(tile + vec2(-1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			outColor = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =     sampleTile(tile + vec2(0.0,  1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftTile = sampleTile(tile + vec2(-1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			outColor = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		lowp vec4 rightTile = sampleTile(tile + vec2(1.0, 0.0), vTex, ddx, ddy);
		float rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		lowp vec4 rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =      sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightTile = sampleTile(tile + vec2(1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			outColor = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =      sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightTile = sampleTile(tile + vec2(1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			outColor = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		lowp vec4 topTile = sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
		outColor = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		lowp vec4 bottomTile = sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
		outColor = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		outColor = curTile;
	}
	
	outColor *= color;
	${t<2?"gl_FragColor = outColor;":""}
	${2<=t?"gl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
	${t<2&&s?"gl_FragDepthEXT = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
}
`}static kx(){return["attribute vec4 aPoints;","varying float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static Fx(){return["#version 300 es","in vec4 aPoints;","out float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static jx(){return["uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","}"].join("\n")}static zx(){return["#extension GL_EXT_frag_depth : enable","uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static Bx(){return["#version 300 es","uniform lowp sampler2D samplerFront;","in lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","out lowp vec4 outColor;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\toutColor = texture(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static Ux(){return["uniform lowp vec4 color;","void main(void) {","\tgl_FragColor = color;","}"].join("\n")}static Wx(){return["precision lowp float;","varying mediump vec2 vTex;","uniform vec4 color;","uniform vec4 color2_;","vec3 fromLinear(vec3 linearRGB)","{","\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));","\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);","\tvec3 lower = linearRGB * vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","vec3 toLinear(vec3 sRGB)","{","\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));","\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));","\tvec3 lower = sRGB/vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","void main(void) {","\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);","\tfloat a = mix(color.a, color2_.a, vTex.x);","\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);","}"].join("\n")}static Qx(){return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","precision lowp float;","varying highmedp vec2 vTex;","uniform vec4 color;","void main(void) {",`	highmedp float grad = vTex.x / (1.0 - vTex.y);`,`	gl_FragColor = color * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);`,"}"].join("\n")}static Yx(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;","\tgl_FragColor = color * f;","}"].join("\n")}static Jx(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float f = step(diffSq.x + diffSq.y, 0.25);","\tgl_FragColor = color * f;","}"].join("\n")}static Vx(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","uniform mediump float outlineThickness;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float distSq = diffSq.x + diffSq.y;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump float innerF = step(distSq, 0.25);","\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;","\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;","\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}static Hx(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump vec2 halfNormSq = halfNorm * halfNorm;","\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;","\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;","\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);","\tgl_FragColor = color * f;","}"].join("\n")}static qx(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","uniform mediump float outlineThickness;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float distSq = diffSq.x + diffSq.y;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump vec2 halfNormSq = halfNorm * halfNorm;","\tmediump vec2 pxNorm = pixelSize * norm;","\tmediump vec2 innerEdge1 = halfNorm - pxNorm;","\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;","\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);","\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;","\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;","\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);","\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;","\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}}}{const _i=self.js,Ei=self.bs,vh=Ei.Gs,Ai=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);_i.hy.ov=class{constructor(t,s,i){if(!Ai.has(i))throw new Error("invalid uniform type");this.LT=t,this.Z2=this.LT.Kv(),this.pn=s,this.wf=i,this.Xx="color"===this.wf,this.Zx=this.Z2.getUniformLocation(this.LT.$v(),s),this.Kx=!!this.Zx;const e=Ai.get(i);this.$x=new Float32Array(e),this.tI=new Float32Array(e)}ln(){this.LT=null,this.Z2=null,this.Zx=null}kv(){return this.Kx}hx(){return this.wf}sI(){return this.Xx}Qv(t){this.kv()&&(this.$x[0]=t,this.tI.set(this.$x),this.Z2.uniform1f(this.Zx,t))}Uv(t){this.kv()&&(this.$x[0]=t,this.tI.set(this.$x),this.Z2.uniform1i(this.Zx,t))}Wv(t,s){this.kv()&&(this.$x[0]=t,this.$x[1]=s,this.tI.set(this.$x),this.Z2.uniform2f(this.Zx,t,s))}Yv(t,s,i){this.kv()&&(this.$x[0]=t,this.$x[1]=s,this.$x[2]=i,this.tI.set(this.$x),this.Z2.uniform3f(this.Zx,t,s,i))}Bv(t,s,i,e){this.kv()&&(this.$x[0]=t,this.$x[1]=s,this.$x[2]=i,this.$x[3]=e,this.tI.set(this.$x),this.Z2.uniform4f(this.Zx,t,s,i,e))}iI(t){t=Math.fround(t);const s=this.$x;s[0]!==t&&(s[0]=t,this.Z2.uniform1f(this.Zx,t))}eI(t){const s=this.$x;s[0]!==t&&this.Z2.uniform1i(this.Zx,s[0]=t)}hI(t,s){t=Math.fround(t),s=Math.fround(s);const i=this.$x;i[0]===t&&i[1]===s||(i[0]=t,i[1]=s,this.Z2.uniform2f(this.Zx,t,s))}nI(t,s,i){t=Math.fround(t),s=Math.fround(s),i=Math.fround(i);const e=this.$x;e[0]===t&&e[1]===s&&e[2]===i||(e[0]=t,e[1]=s,e[2]=i,this.Z2.uniform3f(this.Zx,t,s,i))}Gx(t,s,i,e){t=Math.fround(t),s=Math.fround(s),i=Math.fround(i),e=Math.fround(e);const h=this.$x;h[0]===t&&h[1]===s&&h[2]===i&&h[3]===e||(h[0]=t,h[1]=s,h[2]=i,h[3]=e,this.Z2.uniform4f(this.Zx,t,s,i,e))}bx(t){const s=this.$x;vh.U(s,t)||(_i.jr(s,t,0),this.Z2.uniformMatrix4fv(this.Zx,!1,t))}ox(t){const s=this.tI;return this.sI()?s[0]===Math.fround(t.ua())&&s[1]===Math.fround(t.la())&&s[2]===Math.fround(t.ca()):s[0]===Math.fround(t)}mx(t){const s=this.tI;this.sI()?(s[0]=t.ua(),s[1]=t.la(),s[2]=t.ca()):s[0]=t}Mx(t){return this.tI[0]===Math.fround(t)}yx(t,s){const i=this.tI;return i[0]===Math.fround(t)&&i[1]===Math.fround(s)}Tx(t){this.tI[0]=t}Sx(t,s){const i=this.tI;i[0]=t,i[1]=s}}}{const Di=self.js,Ni=self.bs,Uh=Ni.Ds,vh=Ni.Gs;Di.hy.rI=class{constructor(t){this.renderer=t,this.Xv=vh.create(),this.Vv=vh.create(),this.I2=null,this.G2=null,this.oI=!1,this.aI=Uh._(1,1,1,1),this.Zv=null,this.uI=new Di.Rect,this.clearColor=Di.un(Di.Jo,0,0,0,0)}},Di.hy.lI=class{constructor(t){const s=new ArrayBuffer(96);this.wf=0,this.cI=t,this.Z2=t.renderer.Ab(),this.fI=0,this.dI=0,this.pI=null,this.mI=new Float32Array(s,0,16),this.gI=new Float32Array(s,64,4),this.yI=new Float32Array(s,80,4),this.MI=[]}wI(t,s){this.wf=1,this.fI=t,this.dI=s}SI(){const t=this.Z2;t.drawElements(t.TRIANGLES,this.dI,t.UNSIGNED_SHORT,this.fI)}TI(t){this.wf=2,this.pI=t}bI(){const t=this.Z2,s=this.pI;t.bindTexture(t.TEXTURE_2D,s?s.Qb():null)}vI(t){this.wf=3,t.pa(this.gI,0)}xI(){const t=this.gI,s=this.cI;Uh.C(s.aI,t),s.Zv.Ix(t)}II(t){this.wf=21,t.pa(this.gI,0)}GI(){const t=this.gI,s=this.cI.Zv;s.yv.kv()&&s.yv.Gx(t[0],t[1],t[2],t[3])}CI(t,s){this.wf=4,this.fI=t,this.dI=s}_I(){this.Z2.blendFunc(this.fI,this.dI)}EI(t,s,i,e){this.wf=5;const h=this.gI;h[0]=t,h[1]=s,h[2]=i,h[3]=e}AI(){const t=this.gI;this.Z2.viewport(t[0],t[1],t[2],t[3])}DI(t){this.wf=6,vh.C(this.mI,t)}NI(){const t=this.cI,i=t.renderer.Ry,e=t.Zv,h=this.mI;for(let t=0,s=i.length;t<s;++t){const n=i[t];n===e?n.Hv(h,!0):n.vx()}vh.C(t.Vv,h)}LI(t){this.wf=7,vh.C(this.mI,t)}OI(){const t=this.cI,i=t.renderer.Ry,e=t.Zv,h=this.mI;for(let t=0,s=i.length;t<s;++t){const n=i[t];n===e?n.qv(h,!0):n.xx()}vh.C(t.Xv,h)}RI(t){this.wf=8,this.pI=t}kI(){const t=this.Z2,s=this.pI,i=this.cI;s?(i.I2=s.C2(),i.G2=s._2(),i.oI&&i.G2?t.bindFramebuffer(t.FRAMEBUFFER,i.G2):t.bindFramebuffer(t.FRAMEBUFFER,i.I2)):(i.I2=null,i.G2=null,t.bindFramebuffer(t.FRAMEBUFFER,null))}FI(t){this.wf=9,t.pa(this.mI,0)}jI(t,s,i,e){this.wf=9;const h=this.mI;h[0]=t,h[1]=s,h[2]=i,h[3]=e}zI(){const t=this.Z2,s=this.mI,i=this.cI,e=i.clearColor,h=s[0],n=s[1],r=s[2],o=s[3];e.Ma(h,n,r,o)||(t.clearColor(h,n,r,o),e.Zo(h,n,r,o)),t.clear(t.COLOR_BUFFER_BIT)}BI(t){this.wf=15,t.pa(this.mI,0)}UI(){const t=this.mI;this.cI.uI.set(t[0],t[1],t[2],t[3])}WI(t,s){this.wf=10,this.fI=t,this.dI=1,this.mI[0]=s}QI(){const t=this.Z2,s=this.cI,i=s.renderer,e=i.Fy,h=(t.useProgram(e.qS),e.Hv(s.Vv,!1),e.qv(s.Xv,!1),s.uI),n=(e.cv.kv()&&e.cv.hI(h.xu(),h.Iu()),e.dv.kv()&&e.dv.hI(h.Gu(),h.Cu()),this.mI[0]);if(e.pv.kv()&&e.pv.iI(n),e.uv.kv()){const r=s.aI;e.uv.Gx(r[0],r[1],r[2],r[3])}t.drawArrays(t.POINTS,this.fI/4,this.dI),t.useProgram(s.Zv.qS)}YI(t){this.wf=11,this.pI=t}JI(){const t=this.Z2,s=this.cI,i=this.pI;if(s.Zv=i,t.useProgram(i.qS),i.Hv(s.Vv,!1),i.qv(s.Xv,!1),i.uv.kv()){const e=s.aI;i.uv.Gx(e[0],e[1],e[2],e[3])}}VI(){this.wf=12}HI(){const t=this.cI.Zv,s=this.Z2,i=this.mI,e=this.gI,h=this.yI;if(t.wv.kv()){const n=this.cI.renderer,r=this.pI;n.qI!==r&&(s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,r?r.Qb():null),n.qI=r,s.activeTexture(s.TEXTURE0))}t.Cv.kv()&&t.Cv.hI(i[0],i[1]),t.Tv.kv()&&t.Tv.hI(i[2],i[3]),t.bv.kv()&&t.bv.hI(i[4],i[5]),t.Ev.kv()&&t.Ev.iI(this.dI),t.Av.kv()&&t.Av.iI(i[6]),t.Dv.kv()&&t.Dv.iI(i[7]),t.vv.kv()&&t.vv.hI(i[12],i[13]),t.xv.kv()&&t.xv.hI(i[14],i[15]),t.Iv.kv()&&t.Iv.hI(h[0],h[1]),t.Gv.kv()&&t.Gv.hI(h[2],h[3]),t.Nv.kv()&&t.Nv.hI(e[0],e[1]),t.Lv.kv()&&t.Lv.hI(e[2],e[3]),t._v.kv()&&t._v.iI(this.fI)}XI(){this.wf=13}ZI(){const t=this.cI.Zv,i=t.Fv,e=this.MI;for(let t=0,s=i.length;t<s;++t){const h=i[t],n=e[t];h.sI()?h.nI(n.ua(),n.la(),n.ca()):h.iI(n)}}KI(t){this.wf=14,this.pI=t}$I(){const t=this.Z2,s=this.pI,i=this.cI.I2;s!==i&&t.bindFramebuffer(t.FRAMEBUFFER,s),t.invalidateFramebuffer(t.FRAMEBUFFER,[t.COLOR_ATTACHMENT0]),s!==i&&t.bindFramebuffer(t.FRAMEBUFFER,i)}tG(t,s,i){this.wf=17;const e=this.mI,h=this.cI.renderer,n=(e[0]=t.lm(),e[1]=t.xm(),e[2]=(s||h).lm(),e[3]=(s||h).xm(),e[4]=t.D2()?1:0,e[5]="stretch"===i,this.MI);Di.Br(n),n.push(t.C2()),n.push(s?s.C2():null)}sG(){const t=this.mI,s=this.MI,i=this.Z2,e=t[0],h=t[1],n=t[2],r=t[3],o=0!==t[4],a=0!==t[5],u=s[0],l=s[1];if(i.bindFramebuffer(i.READ_FRAMEBUFFER,u),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,l),a)i.blitFramebuffer(0,0,e,h,0,0,n,r,i.COLOR_BUFFER_BIT,o?i.LINEAR:i.NEAREST);else{const c=Math.min(e,n),f=Math.min(h,r),d=Math.max(h-r,0),p=Math.max(r-h,0);i.blitFramebuffer(0,d,c,f+d,0,p,c,f+p,i.COLOR_BUFFER_BIT,i.NEAREST)}}iG(t){this.wf=18,this.pI=t}eG(){this.pI.hG(),this.pI=null}nG(t){this.wf=19,this.pI=t}rG(){this.pI.oG(),this.pI=null}aG(t,s,i){this.wf=20;const e=this.mI;e[0]=t,e[1]=s,e[2]=i}uG(){const t=this.cI.Zv,s=this.mI;t.Cv.kv()&&t.Cv.hI(s[0],s[1]),t.Mv.kv()&&t.Mv.iI(s[2])}lG(t,s,i,e,h,n,r){this.wf=16;const o=this.mI;t.pa(o,0),o[4]=1/s,o[5]=1/i,o[6]=e/s,o[7]=h/i,o[8]=n/s,o[9]=r/i}cG(){const t=this.cI.Zv,s=this.mI;t.vv.kv()&&t.vv.hI(s[0],s[1]),t.Cv.kv()&&t.Cv.hI(s[4],s[5]),t.mv.kv()&&t.mv.hI(s[6],s[7]),t.gv.kv()&&t.gv.hI(s[8],s[9])}fG(t,s,i,e,h,n,r){this.wf=29;const o=this.mI;o[0]=1/t,o[1]=1/s,o[2]=i,o[3]=e,o[4]=h,o[5]=n,o[6]=r}dG(){const t=this.cI.Zv,s=this.mI;t.Cv.kv()&&t.Cv.hI(s[0],s[1]),t.mv.kv()&&t.mv.hI(s[2],s[3]),t.Mv.kv()&&t.Mv.iI(s[4]),t.gv.kv()&&t.gv.hI(s[5],s[6])}pG(t){this.wf=22,this.fI=t?1:0}mG(){const t=this.Z2,s=0!==this.fI;s||t.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT),s||t.depthMask(!1)}gG(t){this.wf=23,this.fI=t?1:0}yG(){const t=this.Z2;0===this.fI?(t.disable(t.DEPTH_TEST),t.depthMask(!1)):(t.enable(t.DEPTH_TEST),t.depthMask(!0))}MG(t){this.wf=24,this.fI=t?1:0}wG(){const t=this.Z2,s=this.cI,i=s.renderer,e=0!==this.fI;s.oI=e,t.activeTexture(t.TEXTURE2),e?(s.G2&&t.bindFramebuffer(t.FRAMEBUFFER,s.G2),t.bindTexture(t.TEXTURE_2D,i.w2())):(t.bindTexture(t.TEXTURE_2D,null),s.G2&&t.bindFramebuffer(t.FRAMEBUFFER,s.I2)),t.activeTexture(t.TEXTURE0)}SG(){this.wf=25}TG(){const t=this.Z2;t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,1),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1)}bG(){this.wf=26}vG(){const t=this.Z2;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,1,1),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}xG(){this.wf=27}IG(){const t=this.Z2;t.disable(t.STENCIL_TEST)}GG(t,s,i,e,h){this.wf=28,this.fI=t?1:0;const n=this.mI;n[0]=s,n[1]=i,n[2]=e,n[3]=h}CG(){const t=this.Z2,s=this.mI;1===this.fI?(t.enable(t.SCISSOR_TEST),t.scissor(s[0],s[1],s[2],s[3])):t.disable(t.SCISSOR_TEST)}_G(){switch(this.wf){case 1:return void this.SI();case 2:return void this.bI();case 3:return void this.xI();case 4:return void this._I();case 5:return void this.AI();case 6:return void this.NI();case 7:return void this.OI();case 8:return void this.kI();case 9:return void this.zI();case 10:return void this.QI();case 11:return void this.JI();case 12:return void this.HI();case 13:return void this.ZI();case 14:return void this.$I();case 15:return void this.UI();case 16:return void this.cG();case 17:return void this.sG();case 18:return void this.eG();case 19:return void this.rG();case 20:return void this.uG();case 21:return void this.GI();case 22:return void this.mG();case 23:return void this.yG();case 24:return void this.wG();case 25:return void this.TG();case 26:return void this.vG();case 27:return void this.IG();case 28:return void this.CG();case 29:return void this.dG()}}}}{let C=function(t,s,i,e,h,n){s?t.strokeRect(i,e,h,n):t.fillRect(i,e,h,n)},t=function(t){return t*(4/3)},o=function(t,s){t=t.trim();const i=parseFloat(t);return isFinite(i)?t.endsWith("%")?s*i/100:i:0};C,t,o;const Li=self.js,Oi=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),Ri={timeout:60},Pi=new Li.Jo(0,0,0,1),ki=new Set(["left","center","right"]),Fi=new Set(["top","center","bottom"]),ji=new Set(["word","cjk","character"]),zi=new Set(["ltr","rtl"]),Bi=new Set;Li.FontManager&&Li.FontManager.addEventListener("fontload",t=>{const s=t.font.tf();for(const i of Bi)(i.EG()||Li.wh(i.AG(),s))&&i.DG()});let s=!1,i=!1;Li.hy.TS=class{constructor(t,s){s=Object.assign({},Ri,s),this.vS=t,this.NG="Arial",this.LG=16,this.OG=1,this.PG=0,this.kG=!1,this.FG=!1,this.jG="black",this.zG=!1,this.hm=null,this.BG=!0,this.UG=null,this.WG=new Set,this.QG="left",this.YG="top",this.ff="",this.JG=null,this.VG=Li.un(Li.tm),this.HG="word",this.qG="ltr",this.XG=!1,this.ZG=!1,this.KG=!1,this.$G=-1,this.tC=0,this.sC=0,this.iC=0,this.Xm=0,this.Zm=0,this.eC=1,this.hC=null,this.nC=null,this.rC=null,this.oC=null,this.aC=-1,this.uC=-1,this.lC="",this.cC="",this.fC="",this.dC=1,this.pC=1,this.mC=t=>this.gC(t),this.wb=null,this.yC=new Li.Rect,this.MC=1,this.wC=new Li.r0(()=>{this.SC(),this.TC(8,8)},s.timeout),this.bC=null,this.vC=!1,Bi.add(this)}ln(){this.UG=null,this.WG.clear(),this.hm=null,this.JG=null,this.hC=null,this.nC=null,this.rC=null,this.oC=null,this.mC=null,this.wC.ln(),this.bC=null,this.SC(),this.VG.ic(),this.VG=null,this.vS=null,this.vC=!0,Bi.delete(this)}xC(){this.KG=!0}IC(){this.xC(),this.ZG=!0}DG(){this.IC(),this.XG=!0}GC(t){if(this.zG!==(t=!!t)){this.zG=t;const s=this.zG?"alphabetic":"top";this.nC&&(this.nC.textBaseline=s),this.rC&&(this.rC.textBaseline=s),this.DG()}}EG(){return this.zG}om(t){this.hm!==t&&(this.hm=t,this.VG.om(t),this.hm&&this.hm.Qg()&&this.hm.Yg().then(()=>this.xC()),this.DG())}CC(t){this.BG!==(t=!!t)&&(this.BG=t,this.xC())}_C(t){this.NG!==(t=t||"serif")&&(this.NG=t,this.DG())}AG(){return this.NG}EC(t){this.LG!==(t=t<.1?.1:t)&&(this.LG=t,this.DG())}AC(){return this.LG}DC(t){this.OG!==t&&(this.OG=t,this.DG())}NC(t){this.PG!==t&&(this.PG=t,this.IC())}LC(){return this.PG}OC(t){this.kG!==(t=!!t)&&(this.kG=t,this.DG())}RC(){return this.kG}PC(t){this.FG!==(t=!!t)&&(this.FG=t,this.DG())}kC(){return this.FG}FC(t){t=Math.floor(t),this.$G!==t&&(this.$G=t,this.xC())}jC(){return this.$G}zC(t,s){let i=[];(this.kG||s.dg("b"))&&i.push("bold"),(this.FG||s.dg("i"))&&i.push("italic");const e=s.fg("size"),h=(e?parseFloat(e.param):this.LG)*this.OG;i.push(t?h+"pt":h*this.BC()+"pt");let n=this.NG,r=s.fg("font");return r&&r.param&&(n=r.param,this.UG)&&!this.WG.has(n)&&(this.UG(n),this.WG.add(n)),n&&(Oi.has(n)?i.push(n):i.push('"'+n+'"')),i.join(" ")}iT(t){t instanceof Li.Jo&&(t=t.Ga()),this.jG!==t&&(this.jG=t,this.xC())}UC(t,s,i){Pi.Ko(t,s,i),this.iT(Pi)}WC(t){if(!ki.has(t))throw new Error("invalid horizontal alignment");this.QG!==t&&(this.QG=t,this.IC())}QC(){return this.QG}YC(t){if(!Fi.has(t))throw new Error("invalid vertical alignment");this.YG!==t&&(this.YG=t,this.IC())}JC(){return this.YG}VC(t){if(!ji.has(t))throw new Error("invalid word wrap mode");this.HG!==t&&(this.HG=t,this.DG())}HC(){return this.HG}qC(t){if(!zi.has(t))throw new Error("invalid text direction");this.qG!==t&&(this.qG=t,this.nC&&(this.nC.direction=this.qG),this.rC&&(this.rC.direction=this.qG),this.DG())}XC(){return this.qG}mf(t){this.ff!==t&&(this.ff=t,this.DG())}ZC(){return this.ff}BC(){return this.MC*this.eC*self.devicePixelRatio}KC(n,r,o){if(void 0===o&&(o=1),!(n<=0||this.sC===n&&this.iC===r&&this.eC===o)){let t=this.sC,s=(this.sC=n,this.iC=r,this.eC=o,self.devicePixelRatio),i=(this.Xm=this.sC*this.eC*s,this.Zm=this.iC*this.eC*s,Math.max(this.Xm,this.Zm)),e=Math.min(this.vS.Eb(),4096),h=1;e<i&&(h=e/i,this.Xm=Math.min(this.Xm*h,e),this.Zm=Math.min(this.Zm*h,e)),this.MC=h,this.sC!==t?this.DG():this.IC()}}lm(){return this.Xm}xm(){return this.Zm}$C(){return this.eC}t_(){return this.s_(),this.VG.Hm()}i_(){return this.s_(),this.VG.qm()+this.VG.rm()*(this.PG+4)-this.PG}e_(){this.s_();let t=0;for(const s of this.VG.nm())for(const i of s.Am())t+=i.Dm();return t}E2(){return this.wC.c0(),this.h_(),this.wb}n_(t,s){this.s_();const i=this.BC(),e=this.VG.nm();for(const h of e){const n=h.Gm()*i;if(s>=h.ag()-h.xm()*i+n&&s<h.ag()+n)for(const r of h.Am())if(t>=r.rg()&&t<r.rg()+r.lm()*i)return r}return null}*r_(t){this.s_();const s=this.VG.nm();for(const i of s)for(const e of i.Am()){const h=e.fg("tag");h&&Li.wh(h.param,t)&&(yield e)}}o_(t,s){for(const i of this.r_(t)){if(0===s)return i;--s}return null}a_(t){let s=0;for(const i of this.r_(t))++s;return s}h_(){this.wb&&!this.KG&&!this.ZG&&!this.XG||this.vC||this.Xm<=0||this.Zm<=0||(this.KG=!1,this.u_())}u_(){this.vC||(this.s_(),this.TC(Math.max(Li.Pn(Math.ceil(this.Xm)),128),Math.max(Li.Pn(Math.ceil(this.Zm)),64)),this.l_(),this.c_(),this.wC.c0())}TC(t,s){this.hC||(this.hC=Li.Oo(16,16));let i=!1;this.aC===t&&this.uC===s||(this.aC=t,this.uC=s,this.hC.width=t,this.hC.height=s,i=!0),this.nC||(this.nC=this.hC.getContext("2d"),i=!0),i?(this.nC.textBaseline=this.zG?"alphabetic":"top",this.nC.direction=this.qG,this.nC.font=this.lC,this.nC.fillStyle=this.fC,this.nC.strokeStyle=this.fC,this.nC.globalAlpha=this.dC,this.nC.lineWidth=this.pC):this.nC.clearRect(0,0,t,s)}f_(){this.rC||(this.rC=Li.Oo(16,16).getContext("2d"),this.oC=Li.Oo(16,16).getContext("2d"),this.rC.textBaseline=this.zG?"alphabetic":"top",this.oC.textBaseline="top",this.rC.direction=this.qG,this.oC.direction=this.qG)}d_(t){this.cC!==t&&(this.cC=t,this.rC.font=t,this.oC.font=t)}p_(){if(!s){s=!0,this.f_();const t=this.rC.measureText("test");i="number"==typeof t.fontBoundingBoxAscent&&"number"==typeof t.fontBoundingBoxDescent}return i}s_(){this.m_(),this.g_()}m_(){this.XG&&(this.f_(),!this.zG||this.JG&&this.JG.toString()===this.ff||(this.JG=new Li.Lh(this.ff,{Rp:!0})),this.VG.tm(this.zG?this.JG.Jp():this.ff,this.mC,this.sC,this.HG,0),this.XG=!1)}g_(){this.ZG&&(this.y_(),this.ZG=!1)}gC(t){let s=t.wm()?t.Fm().join(""):" ",i=(this.d_(this.zC(!0,t)),t.fg("size")),e=(i?parseFloat(i.param):this.LG)*this.OG,h=this.rC.measureText(s),n=0;if(this.zG&&this.p_()){const r=this.oC.measureText(s);n=h.fontBoundingBoxAscent-r.fontBoundingBoxAscent}return{width:h.width,height:4/3*e,fontBoundingBoxAscent:h.fontBoundingBoxAscent||0,fontBoundingBoxDescent:h.fontBoundingBoxDescent||0,Mm:n}}M_(t){this.lC!==t&&(this.lC=t,this.nC.font=t)}w_(t){this.fC!==t&&(this.fC=t,this.nC.fillStyle=t,this.nC.strokeStyle=t)}S_(t){this.dC!==t&&(this.dC=t,this.nC.globalAlpha=t)}T_(t){this.pC!==t&&(this.pC=t,this.nC.lineWidth=t)}y_(){let e=this.BC(),h=(4+this.PG)*e,n=0,r=this.VG.nm();if(0!==r.length){for(const s of r){s.ng(NaN),s.og(NaN);for(const o of s.Am())o.ng(NaN),o.og(NaN)}let t=this.zG&&this.p_(),i=r[0].xm()*e;if("center"===this.YG){const a=r.reduce((t,s)=>t+s.xm()*e+h,0)-h;n=Math.max(this.Zm/2-a/2,0),t&&(i=r[0].Cm()*e)}else if("bottom"===this.YG){const u=r.reduce((t,s)=>t+s.xm()*e+h,0)-this.PG*e,l=t?r.at(-1).Gm()*e:0;n=this.Zm-u-l-2}for(let t=0,s=r.length;t<s;++t){const c=r[t],f=c.xm()*e,d=n;if(this.zG){if(n+=0===t?i:f,0<t&&n>this.Zm-4*e)break}else if(0<t&&n>=this.Zm-f)break;0<=d&&this.b_(c,n,e),this.zG||(n+=f),n+=h}}}b_(t,s,i){let e=0;"center"===this.QG?e=Math.floor((this.Xm-t.lm()*i)/2):"right"===this.QG&&(e=this.Xm-t.lm()*i),t.ng(e),t.og(s);for(const h of"ltr"===this.qG?t.Am():t.eg())this.v_(h,e,s,i),e+=h.lm()*i}v_(t,s,i,e){const h=t.fg("offsetx"),n=(s+=h?o(h.param,t.xm())*e:0,t.fg("offsety"));if(i+=n?o(n.param,t.xm())*e:0,t.Tm()){const r=t.fg("iconoffsety");i+=r?o(r.param,t.xm())*e:.2*t.xm()*e}t.ng(s),t.og(i)}l_(){this.nC.imageSmoothingEnabled=this.BG,this.nC.imageSmoothingQuality="high",this.tC=0;const t=this.BC(),s=this.VG.nm();for(const i of s)this.x_(i,t)}x_(t,s){const i=t.rg(),e=t.ag();if(Number.isFinite(i)&&Number.isFinite(e))for(const h of"ltr"===this.qG?t.Am():t.eg())this.I_(h,s,t.xm())}I_(r,o,a){const u=this.nC,l=r.rg(),c=r.ag();if(Number.isFinite(l)&&Number.isFinite(c)){let t=a/16,s=r.lm()*o,i=r.xm()*o,e=r.xm()/16,h=(4+this.PG)*o,n=r.wm()?r.Fm():null;if(-1!==this.$G){if(this.tC>=this.$G)return;r.wm()&&this.tC+n.length>this.$G&&(n=n.slice(0,this.$G-this.tC),s=this.gC(r).width*o),this.tC+=r.Dm()}const f=r.fg("background"),d=r.dg("u"),p=r.dg("s");if((!r.wm()||!Li.Jd(n)||f||d||p)&&!r.dg("hide")){const m=r.fg("color"),g=r.fg("opacity"),y=(this.S_(g?parseFloat(g.param)/100:1),f&&(this.w_(f.param),u.fillRect(l,c-i,s,i+h)),r.fg("linethickness")),M=y?parseFloat(y.param):1,w=r.dg("stroke");if(w&&this.T_(.5*e*M*this.BC()),r.wm()){const S=n.join("");if(this.M_(this.zC(!1,r)),!w){this.T_(.5*e*M*this.BC());const T=r.fg("outlineback");T&&(this.w_(T.param),this.G_(!0,S,l,c,s))}if(this.w_(m?m.param:this.jG),this.G_(w,S,l,c,s),!w){this.T_(.5*e*M*this.BC());const b=r.fg("outline");b&&(this.w_(b.param),this.G_(!0,S,l,c,s))}}else if(r.Tm()&&0<r.lm()){const v=r.Tg(this.hm);v&&u.drawImage(v,l,c-i,s,i)}if(this.w_(m?m.param:this.jG),d&&C(u,w,l,c+o*t,s,o*t*M),p){const x=c-i/4,I=o*e,G=x+I/2;u.fillRect(l,G-I*M/2,s,I*M)}}}}G_(t,s,i,e,h){"rtl"===this.qG&&(i+=h),t?"Gecko"===Li.ci.Mi?this.nC.strokeText(s,i,e,h):this.nC.strokeText(s,i,e):"Gecko"===Li.ci.Mi?this.nC.fillText(s,i,e,h):this.nC.fillText(s,i,e)}c_(){this.vS.C_()||(this.wb||(this.wb=this.vS.M2(this.hC.width,this.hC.height,{mb:!0,gb:"high"})),this.vS.__(this.hC,this.wb),this.yC.set(0,0,this.Xm/this.wb.lm(),this.Zm/this.wb.xm()),this.bC&&this.bC())}E_(){return this.yC}SC(){this.wb&&(this.vS.C_()||this.vS.b2(this.wb),this.wb=null)}static eT(){for(const t of Bi)t.SC()}static A_(){return Bi.values()}}}{const Ui=self.js;class Wi{constructor(t){this.Z2=t.Ab(),this.D_=t.Db(),this.N_=t.L_(),this.O_=null,this.l0=!1,this.R_=!1,this.P_=0,1===this.D_?this.O_=this.N_.createQueryEXT():this.O_=this.Z2.createQuery()}ln(){this.k_(),this.Z2=null,this.N_=null,this.R_=!1}k_(){this.O_&&(1===this.D_?this.N_.deleteQueryEXT(this.O_):this.Z2.deleteQuery(this.O_),this.O_=null)}hG(){if(this.l0)throw new Error("query already active");1===this.D_?this.N_.beginQueryEXT(this.N_.TIME_ELAPSED_EXT,this.O_):this.Z2.beginQuery(this.N_.TIME_ELAPSED_EXT,this.O_),this.l0=!0}oG(){if(!this.l0)throw new Error("query not active");1===this.D_?this.N_.endQueryEXT(this.N_.TIME_ELAPSED_EXT):this.Z2.endQuery(this.N_.TIME_ELAPSED_EXT),this.l0=!1}F_(){if(this.O_&&!this.R_&&!this.l0){let t;t=1===this.D_?this.N_.getQueryObjectEXT(this.O_,this.N_.QUERY_RESULT_AVAILABLE_EXT):this.Z2.getQueryParameter(this.O_,this.Z2.QUERY_RESULT_AVAILABLE);const s=this.Z2.getParameter(this.N_.GPU_DISJOINT_EXT);t&&!s&&(1===this.D_?this.P_=this.N_.getQueryObjectEXT(this.O_,this.N_.QUERY_RESULT_EXT):this.P_=this.Z2.getQueryParameter(this.O_,this.Z2.QUERY_RESULT),this.P_/=1e9,this.R_=!0),(t||s)&&this.k_()}}j_(){return this.R_}z_(){if(this.R_)return this.P_;throw new Error("no result available")}}Ui.hy.B_=class{constructor(t){this.vS=t,this.oM=t.uS(),this.l0=!1,this.U_=null,this.W_=!1,this.Q_=null,this.Y_=[]}ln(){for(const t of this.Y_)t instanceof Wi&&t.ln();Ui.Br(this.Y_),this.U_=null,this.Q_=null,this.vS=null}hG(){if(this.l0)throw new Error("query already active");const t=this.vS.J_();0<t.length?(this.W_=!0,this.U_=t.at(-1),this.U_.V_(),this.U_.Y_.push(this)):(this.W_=!1,this.U_=null),this.l0=!0,t.push(this),this.H_()}oG(){if(!this.l0)throw new Error("query not active");const t=this.vS.J_().pop();if(t!==this)throw new Error("can only end most nested query");this.l0=!1,this.V_(),this.U_&&(this.U_.H_(),this.U_=null)}H_(){this.Q_=Ui.un(Wi,this.vS),this.Y_.push(this.Q_),this.Q_.hG()}V_(){this.Q_.oG(),this.Q_=null}F_(){for(const t of this.Y_)t.F_()}q_(){return this.W_}j_(){return this.Y_.every(t=>t.j_())}z_(){return this.Y_.reduce((t,s)=>t+s.z_(),0)}uS(){return this.oM}}}{const Qi=self.js;Qi.hy.X_=class{constructor(t,s=1e3){this.vS=t,this.Z_=s,this.K_=[],this.vS.tE(this)}ln(){this.ic(),this.vS.sE(this),this.vS=null}ic(){for(const t of this.K_)t.ln();Qi.Br(this.K_)}iE(){const t=new Qi.hy.B_(this.vS);if(this.K_.push(t),this.K_.length>this.Z_){const s=this.K_.shift();s.ln()}return t}eE(t){for(const s of this.K_){if(s.uS()>=t)return;if(s.q_())return;s.F_()}}hE(t,s){if(s<=t)return NaN;let i=0;for(const e of this.K_){if(e.uS()>=s)break;if(!(e.uS()<t)){if(!e.j_())return NaN;i+=e.z_()}}return i}nE(i){for(let t=0,s=this.K_.length;t<s;++t){const e=this.K_[t];if(!(e.uS()<i))return void(0<t&&this.K_.splice(0,t));e.ln()}}}}{let i=function(){h=-1;for(const t of e)t.rE()&&(t.resolve(),e.delete(t));0<e.size&&(h=self.requestAnimationFrame(i))},S=(i,self.js),t=self.bs,T=(t.As,t.Ds),y=t.Gs,n={powerPreference:"default",oE:!0,alpha:!1,depth:!1,aE:!1,uE:2,failIfMajorPerformanceCaveat:!1},r=new Set(["default","low-power","high-performance"]),c=new S.tl(0,0,1,0,1,1,0,1),M=y.create(),w=y.create(),b=new S.tl,v=new S.Rect,x=null,e=(S.isDebug&&(self.lE=function(){x?x.loseContext():console.warn("WEBGL_lose_context not supported")},self.cE=function(){x?x.restoreContext():console.warn("WEBGL_lose_context not supported")}),new Set),h=-1;S.hy.fE=class extends S.hy.Cy{constructor(t,s){if(super(s),s=Object.assign({},n,s),!r.has(s.powerPreference))throw new Error("invalid power preference");let i={alpha:!!s.alpha,depth:!1,antialias:!1,powerPreference:s.powerPreference,failIfMajorPerformanceCaveat:!!s.failIfMajorPerformanceCaveat},e=null,h=0;if(2<=s.uE&&(e=t.getContext("webgl2",i),h=2),e||(e=t.getContext("webgl",i),h=1),!e)throw new Error("renderer-unavailable (could not get WebGL context)");this.Z2=e,this.dE=e.getContextAttributes(),this.pE=e.getParameter(e.VERSION),this.D_=h,this.mE=T.create(),this.gE=!1,this.yE=y.create(),this.ME=!!s.depth,this.wE=!(!s.depth||!s.aE),this.SE=this.ME,this.TE=!1,this.bE=null,this.vE=!0,this.xE=0,this.IE=0,this.sv=null,this.hv=null,this.GE=null,this.nv=null,this.CE=new Float32Array(8e3*this.rS()),this._E=new Uint16Array(12e3),this.EE=new Float32Array(16e3),this.AE=new Float32Array(32e3),this.DE=0,this.NE=0,this.LE=0,this.OE=0,this.RE=null,this.PE=null,this.kE=[],this.FE=0,this.jE=0,this.zE=null,this.BE=0,this.cI=S.un(S.hy.rI,this),this.UE=S.un(S.Jo,1,1,1,1),this.WE=null,this.qI=null,this.QE=0,this.YE=0,this.JE=new S.Rect,this.VE=S.un(S.Rect,0,0,-1,-1),this.HE=0,this.qE=-1,this.XE=0,this.ZE=0,this.KE=0,this.$E="(unavailable)",this.tA="(unavailable)",this.sA=[],this.iA=!1,this.eA=null,this.hA=null,this.nA=null,this.rA=null,this.oA=null,this.aA=null,this.uA=0,this.lA=!!s.oE,this.N_=null,this.cA=new Set,this.fA=[],this.lM(this._E)}mS(){return!0}async dM(){super.dM();const t=this.Z2,s=this.rS(),i=(this.UE.Zo(1,1,1,1),this.WE=null,this.qI=null,this.DE=0,this.LE=0,this.OE=8e3*s-4*s,S.Br(this.kE),this.FE=0,this.jE=0,this.RE=null,this.zE=null,this.JE.set(0,0,1,1),this.BE=0,this.cI),e=(i.Zv=null,i.I2=null,i.G2=null,T.set(i.aI,1,1,1,1),i.clearColor.Zo(0,0,0,0),i.uI.set(0,0,1,1),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.QE=t.ONE,this.YE=t.ONE_MINUS_SRC_ALPHA,this.dA(t),t.disable(t.CULL_FACE),t.disable(t.STENCIL_TEST),t.disable(t.DITHER),this.ME?(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.LEQUAL)):(t.disable(t.DEPTH_TEST),t.depthMask(!1)),this.SE=this.ME,this.TE=!1,this.nv=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.nv),t.bufferData(t.ARRAY_BUFFER,this.AE.byteLength,t.DYNAMIC_DRAW),this.sv=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.sv),t.bufferData(t.ARRAY_BUFFER,this.CE.byteLength,t.DYNAMIC_DRAW),this.hv=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.hv),t.bufferData(t.ARRAY_BUFFER,this.EE.byteLength,t.DYNAMIC_DRAW),this.GE=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.GE),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this._E,t.STATIC_DRAW),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,null),this.qE=t.getParameter(t.MAX_TEXTURE_SIZE),t.getParameter(t.ALIASED_POINT_SIZE_RANGE)),h=(this.XE=e[0],this.ZE=e[1],t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT)),n=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT),r=(this.KE=h&&n?Math.min(h.precision,n.precision):0,2048<this.ZE&&(this.ZE=2048),this.sA=t.getSupportedExtensions(),t.getExtension("WEBGL_debug_renderer_info"));if(r&&(this.$E=t.getParameter(r.UNMASKED_VENDOR_WEBGL),this.tA=t.getParameter(r.UNMASKED_RENDERER_WEBGL)),this.eA=t.getExtension("KHR_parallel_shader_compile"),S.isDebug&&(x=t.getExtension("WEBGL_lose_context")),this.lA&&(1===this.Db()?this.N_=t.getExtension("EXT_disjoint_timer_query"):this.N_=t.getExtension("EXT_disjoint_timer_query_webgl2")||t.getExtension("EXT_disjoint_timer_query")),this.hA=t.getExtension("EXT_texture_filter_anisotropic"),this.hA?this.uA=t.getParameter(this.hA.MAX_TEXTURE_MAX_ANISOTROPY_EXT):this.uA=0,this.Db()<2&&this.ME&&this.wE&&(this.nA=t.getExtension("WEBGL_depth_texture"),!this.nA))throw new Error("no depth texture support");this.Db()<2&&(this.rA=t.getExtension("EXT_frag_depth"),this.oA=t.getExtension("OES_standard_derivatives"),this.aA=t.getExtension("EXT_shader_texture_lod"));let o=S.hy.Y2,a=o._x(!1),u=o.Ax(),l=a,c=o.jx(),f=o.kx(),d=o.Lx(),p=o._x(!0),m=!1;this.ME&&(this.Db()<2?this.rA&&(u=o.Dx(),c=o.zx(),d=o.Ox(),m=!0):(l=o.Ex(),u=o.Nx(),c=o.Bx(),f=o.Fx(),d=o.Rx(),p=o.Ex(!0)));const g=o.Px(this.Db(),m,this.oA&&this.aA),y=2<=this.Db()?o.Ex():a,M=[[u,l,"<default>"],[u,l,"<default-device-transform>"],[c,f,"<point>"],[o.Ux(),a,"<fill>"],[o.Wx(),a,"<lineargradient>"],[o.Qx(),a,"<penumbra>"],[o.Jx(),a,"<hardellipse>"],[o.Vx(),a,"<hardellipseoutline>"],[o.Hx(),a,"<smoothellipse>"],[o.qx(),a,"<smoothellipseoutline>"],[o.Yx(),a,"<smoothline>"],[d,p,"<tilemap>"],[g,y,"<tilerandomization>"]],w=await Promise.all(M.map(t=>this.pA({src:t[0],V2:t[1],name:t[2]})));this.ky=w[0],this.PE=w[1],this.Fy=w[2],this.By=w[3],this.Uy=w[4],this.Wy=w[5],this.Qy=w[6],this.Yy=w[7],this.Jy=w[8],this.Vy=w[9],this.Hy=w[10],this.jy=w[11],this.zy=w[12],this.kM()}async pA(t){const s=await S.hy.Y2.X2(this,t);return this.LM(s),s}mA(){this.RE=null}KC(t,s,i){if(this.Xm!==t||this.Zm!==s||i){this.aS();const e=this.Z2,h=this.cI;this.Xm=t,this.Zm=s,this.gA(0,0,t,s),this._M(this.yE,t/s),this.yA(this.yE),this.PE&&(e.useProgram(this.PE.$v()),this.PE.Jv(this.Ay),this.RE=this.PE,this.cI.Zv=this.PE),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0),this.WE=null,this.qI=null,this.ME&&this.vE&&this.MA(this.Xm,this.Zm),this.zE&&this.zE.T2(this.Xm,this.Zm),e.bindFramebuffer(e.FRAMEBUFFER,null),this.zE=null,h.I2=null,h.G2=null}}MA(t,s){const i=this.Z2;this.bE&&this.xE===t&&this.IE===s||(this.wE?(this.bE&&i.deleteTexture(this.bE),this.bE=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.bE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),2<=this.Db()?i.texImage2D(i.TEXTURE_2D,0,i.DEPTH24_STENCIL8,t,s,0,i.DEPTH_STENCIL,i.UNSIGNED_INT_24_8,null):this.nA&&i.texImage2D(i.TEXTURE_2D,0,i.DEPTH_STENCIL,t,s,0,i.DEPTH_STENCIL,this.nA.UNSIGNED_INT_24_8_WEBGL,null),i.bindTexture(i.TEXTURE_2D,null)):(this.bE&&i.deleteRenderbuffer(this.bE),this.bE=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,this.bE),i.renderbufferStorage(i.RENDERBUFFER,2<=this.D_?i.DEPTH24_STENCIL8:i.DEPTH_STENCIL,t,s),i.bindRenderbuffer(i.RENDERBUFFER,null)),this.xE=t,this.IE=s)}wA(t,s){this.ME&&(this.vE=!1,this.MA(t,s))}SA(){this.ME&&(this.vE=!0,this.MA(this.Xm,this.Zm))}gA(t,s,i,e){const h=this.mE;if(h[0]!==t||h[1]!==s||h[2]!==i||h[3]!==e){const n=this.TA();n.EI(t,s,i,e),T.set(h,t,s,i,e),this.jE=0}}vM(t){super.vM(t),this._M(this.yE,this.Xm/this.Zm)}wM(t){super.wM(t),this._M(this.yE,this.Xm/this.Zm)}TM(t){super.TM(t),this._M(this.yE,this.Xm/this.Zm)}yA(t){if(!y.U(this.Ay,t)){const s=this.TA();s.DI(t),y.C(this.Ay,t),this.jE=0,this.gE=!0}}bA(){let t,s,i,e=this.zE;i=(null===e?(t=this.yE,s=this.lm(),this):(t=e.A2(),s=e.lm(),e)).xm(),this.yA(t),this.gA(0,0,s,i)}vA(t){if(!y.U(this.Dy,t)){const s=this.TA();s.LI(t),y.C(this.Dy,t),this.jE=0,this.gE=!0}}xA(){this.gE=!1}IA(){return this.gE}v2(){return this.cI}TA(){const t=this.kE;return this.FE===t.length&&t.push(new S.hy.lI(this.cI)),t[this.FE++]}aS(){0===this.FE||this.C_()||(this.GA(),this.CA(),this.FE=0,this.DE=0,this.NE=0,this.LE=0,this.jE=0)}GA(){const t=this.Z2;0<this.LE&&(t.bindBuffer(t.ARRAY_BUFFER,this.nv),t.bufferSubData(t.ARRAY_BUFFER,0,this.AE.subarray(0,this.LE))),0<this.DE&&(t.bindBuffer(t.ARRAY_BUFFER,this.sv),t.bufferSubData(t.ARRAY_BUFFER,0,this.CE.subarray(0,this.DE)),t.bindBuffer(t.ARRAY_BUFFER,this.hv),t.bufferSubData(t.ARRAY_BUFFER,0,this.EE.subarray(0,this.NE)))}CA(){const i=this.kE;for(let t=0,s=this.FE;t<s;++t)i[t]._G()}_A(){return this.UE.fa()}EA(t,s,i,e){const h=this.UE;if(!h.Ma(t,s,i,e)){h.Zo(t,s,i,e);const n=this.TA();n.vI(h),this.jE=0,this.Xy=null}}AA(t){const s=this.UE;if(s.fa()!==t){s.oa(t);const i=this.TA();i.vI(s),this.jE=0,this.Xy=null}}iT(t){const s=this.UE;if(!s.equals(t)){s.set(t);const i=this.TA();i.vI(s),this.jE=0,this.Xy=null}}DA(){this.EA(1,1,1,1)}NA(){return this.UE}LA(t){if(t!==this.WE){const s=this.TA();s.TI(t),this.WE=t,this.jE=0}}Rb(){this.WE=null}sT(t){const s=this.dw(t);this.OA(s[0],s[1])}RA(t){const s=this.gw(t);this.OA(s.cw,s.fw)}OA(t,s){if(t!==this.QE||s!==this.YE){const i=this.TA();i.CI(t,s),this.QE=t,this.YE=s,this.jE=0,this.Xy=null}}PA(){return this.QE===this.Z2.ONE&&this.YE===this.Z2.ONE_MINUS_SRC_ALPHA}kA(){this.OA(this.Z2.ONE,this.Z2.ONE_MINUS_SRC_ALPHA)}FA(){this.OA(this.Z2.SRC_ALPHA,this.Z2.ONE_MINUS_SRC_ALPHA)}jA(){this.OA(this.Z2.ONE,this.Z2.ZERO)}Rect(t){this.zA(t.xu(),t.Iu(),t.Gu(),t.Cu())}zA(t,s,i,e){this.nS(t,s,i,s,i,e,t,e)}BA(){let t=this.DE;if(t>=this.OE&&(this.aS(),t=0),1===this.jE)this.kE[this.FE-1].dI+=6;else{const s=this.TA();s.wI(t,6),this.jE=1}}UA(t){t.Sl(this.CE,this.DE,this.$y+this.tM),this.DE+=12}tl(t){this.BA(),this.UA(t),c.pa(this.EE,this.NE),this.NE+=8}nS(t,s,i,e,h,n,r,o){this.BA();let a=this.CE,u=this.DE,l=this.$y+this.tM;a[u++]=t,a[u++]=s,a[u++]=l,a[u++]=i,a[u++]=e,a[u++]=l,a[u++]=h,a[u++]=n,a[u++]=l,a[u++]=r,a[u++]=o,a[u++]=l,this.DE=u,c.pa(this.EE,this.NE),this.NE+=8}Nw(t,s){this.BA(),this.UA(t),s.Au(this.EE,this.NE),this.NE+=8}WA(t,s){this.BA(),this.UA(t),s.pa(this.EE,this.NE),this.NE+=8}QA(t,s,i,e,h,n,r,o,a,u,l,c,f){this.BA();let d=this.CE,p=this.DE,m=this.$y+this.tM;d[p++]=t,d[p++]=s,d[p++]=m+i,d[p++]=e,d[p++]=h,d[p++]=m+n,d[p++]=r,d[p++]=o,d[p++]=m+a,d[p++]=u,d[p++]=l,d[p++]=m+c,this.DE=p,f.Au(this.EE,this.NE),this.NE+=8}Cw(t,s,i,e,h,n,r,o,a,u,l,c,f){this.BA();let d=this.CE,p=this.DE,m=this.$y+this.tM;d[p++]=t,d[p++]=s,d[p++]=m+i,d[p++]=e,d[p++]=h,d[p++]=m+n,d[p++]=r,d[p++]=o,d[p++]=m+a,d[p++]=u,d[p++]=l,d[p++]=m+c,this.DE=p,f.pa(this.EE,this.NE),this.NE+=8}YA(e,h,n){const r=this.CE,o=this.EE;if(n.length%3!=0)throw new Error("invalid index buffer length");for(let i=0,t=n.length;i<t;){const a=n[i++],u=n[i++],l=n[i++],c=3*a,f=3*u,d=3*l,p=2*a,m=2*u,g=2*l;this.BA();let t=this.DE,s=this.NE;r[t++]=e[0+c],r[t++]=e[1+c],r[t++]=e[2+c],r[t++]=e[0+f],r[t++]=e[1+f],r[t++]=e[2+f],r[t++]=e[0+d],r[t++]=e[1+d],r[t++]=e[2+d],r[t++]=e[0+d],r[t++]=e[1+d],r[t++]=e[2+d],o[s++]=h[0+p],o[s++]=h[1+p],o[s++]=h[0+m],o[s++]=h[1+m],o[s++]=h[0+g],o[s++]=h[1+g],o[s++]=h[0+g],o[s++]=h[1+g],this.DE=t,this.NE=s}}JA(t,s){this.Sw(0),y.C(M,this.Ay),y.C(w,this.Dy),this.bA();const[i,e]=this.VA(this.zE),h=this.NM(0,0,this.mM(e),0,0,0,e);if(this.vA(h),"crop"===t&&this.zE&&s){const n=this.Xm/2,r=this.Zm/2,o=s.lm(),a=s.xm(),u=this.zE.lm(),l=this.zE.xm(),c=Math.min(u,o),f=Math.min(l,a),d=Math.max(a-l,0),p=Math.max(l-a,0);v.set(-n,r-p,-n+c,r-f-p),b.Tl(v),v.set(0,d,c,f+d),v._t(o,a),this.Nw(b,v)}else{const m=i/2,g=e/2;this.zA(-m,g,m,-g)}this.yA(M),this.vA(w)}HA(t){if(!this.JE.equals(t)){this.JE.C(t);const s=this.TA();s.BI(t),this.jE=0}}qA(){}XA(t,s,i,e){7996<=this.LE&&this.aS();let h=this.LE,n=this.$y+this.tM;if(2===this.jE&&this.BE===n)this.kE[this.FE-1].dI++;else{const o=this.TA();o.WI(h,n),this.jE=2,this.BE=n}const r=this.AE;r[h++]=t,r[h++]=s,r[h++]=i,r[h++]=e,this.LE=h}FM(t){if(this.RE!==t){const s=this.TA();s.YI(t),this.RE=t,this.jE=0,this.Xy=null}}ZA(){return this.RE}KA(){this.FM(this.PE)}$A(t){const s=this.TA();s.II(t),this.jE=0}tD(t,s,i=1){const e=this.TA();e.aG(t,s,i),this.jE=0}sD(t,s,i,e,h,n,r){if(this.RE!==this.jy)throw new Error("must set tilemap fill mode first");const o=this.TA();o.lG(t,s,i,e,h,n,r),this.jE=0}iD(t,s,i,e,h,n,r){if(this.RE!==this.zy)throw new Error("must set tile randomization mode first");const o=this.TA();o.fG(t,s,i,e,h,n,r),this.jE=0}eD(t,s,i,e,h,n,r,o,a,u,l){const c=this.RE;if(l%=10800,c.Pv&&!c.gx(s,i,e,h,n,r,o,a,u,l)){const f=this.TA(),d=(f.VI(),c.wx(s,i,e,h,n,r,o,a,u,l),f.mI),p=(d[0]=n,d[1]=r,s.pa(d,2),d[6]=a,d[7]=u,i.pa(d,12),f.gI),m=(h.pa(p,0),p[1]);p[1]=p[3],p[3]=m,e.pa(f.yI,0),f.fI=l,f.dI=o,c.wv.kv()?f.pI=t?t.E2():null:f.pI=null,this.jE=0}}hD(t){const s=this.RE;if(0!==t.length&&!s.nx(t)){const i=this.TA();i.XI(),s.ux(t),S.Yr(i.MI,t),this.jE=0}}nD(t,s,i,e){const h=this.TA();h.jI(t,s,i,e),this.jE=0}ic(t){const s=this.TA();s.FI(t),this.jE=0}rD(){}oS(){super.oS(),this.Z2.flush()}oD(){if(this.ME&&this.zE&&this.zE.O2()){const t=this.TA();t.pG(this.SE),this.jE=0}}aD(t){if(this.SE!==(t=!!t)&&this.ME){this.SE=t;const s=this.TA();s.gG(t),this.jE=0}}uD(){return this.SE}w2(){return this.bE}S2(){return this.wE}lD(t){if(t=!!t,this.wE&&this.TE!==t){if(t&&this.uD())throw new Error("depth still enabled");this.TE=t;const s=this.TA();s.MG(t),this.jE=0}}cD(t,s,i,e,h=0){if(t=Math.floor(t),s=Math.floor(s),i=Math.floor(i),e=Math.floor(e),!this.VE.vu(t,s,i,e)){this.VE.gu(t,s,i,e);const n=h||this.VA(this.fD())[1],r=(s=n-s-e,this.TA());r.GG(!0,t,s,i,e),this.jE=0}}dD(){if(-1!==this.VE.Gu()){this.VE.set(0,0,-1,-1);const t=this.TA();t.GG(!1,0,0,0,0),this.jE=0}}pD(){for(const t of this.cA)t.eE(this.oM)}C_(){return!this.Z2||this.Z2.isContextLost()||this.iA}eT(){super.pM(),S.hy.Mb.eT(),S.hy.t2.eT(),S.hy.TS.eT();for(const t of this.cA)t.ic();this.sA=[],this.N_=null,this.eA=null,this.hA=null,this.nA=null,this.rA=null,this.oA=null,this.aA=null,this.uA=0,this.$E="(unavailable)",this.tA="(unavailable)",this.RE=null,this.PE=null,this.bE=null;for(const s of this.qy.values())s.eT()}async hT(){this.iA=!0,await this.dM(),this.iA=!1;for(const t of this.qy.values())t.hT(this);this.KC(this.Xm,this.Zm,!0)}mD(t,s){if(this.C_())throw new Error("context lost");this.aS();const i=S.un(S.hy.Mb,this);return i._b(t,s),i}async gD(e,h){if(this.C_())throw new Error("context lost");if(h=Object.assign({},h),S.Qi.ImageBitmapOptions){let t=await createImageBitmap(e,{premultiplyAlpha:"premultiply"}),s=h.ub&&"clamp-to-edge"!==h.ub||h.lb&&"clamp-to-edge"!==h.lb,i=S.Rn(t.width)&&S.Rn(t.height);return this.Nb()||i||!s?h.premultiplyAlpha=!1:S.Qi.Hi?(t=await createImageBitmap(e,{premultiplyAlpha:"premultiply",resizeWidth:S.Pn(t.width),resizeHeight:S.Pn(t.height)}),h.premultiplyAlpha=!1):t=await createImageBitmap(e,{premultiplyAlpha:"none"}),S.jf(()=>this.mD(t,h))}if(e instanceof Blob){if("undefined"==typeof Image)throw new Error("texture upload variant not supported in worker");const t=await S.Lo(e);e=t}return S.jf(()=>this.mD(e,h))}M2(t,s,i){this.aS();const e=S.un(S.hy.Mb,this);return e.Pb(t,s,i),e}__(t,s,i){this.aS(),s.Bb(t,i)}b2(t){t&&(t.Jb(),0<t.Vb()||(this.aS(),t===this.WE&&(this.Z2.bindTexture(this.Z2.TEXTURE_2D,null),this.WE=null),t===this.qI&&(this.Z2.activeTexture(this.Z2.TEXTURE1),this.Z2.bindTexture(this.Z2.TEXTURE_2D,null),this.Z2.activeTexture(this.Z2.TEXTURE0),this.qI=null),t.Ub()))}yD(t){let s=this.Xm,i=this.Zm,e=!0;if(t&&("number"==typeof t.width&&(s=Math.floor(t.width),e=!1),"number"==typeof t.height)&&(i=Math.floor(t.height),e=!1),s<=0||i<=0)throw new Error("invalid size");this.aS();const h=S.un(S.hy.t2,this);return h.m2(s,i,Object.assign({Kb:e},t)),this.zE=null,this.cI.I2=null,this.cI.G2=null,h}MD(t,s=!0){if(t!==this.zE){t&&t.R2()&&t.T2(this.Xm,this.Zm);const i=this.TA();i.RI(t),this.zE=t,this.jE=0,s&&this.bA()}}fD(){return this.zE}VA(t){return t?[t.lm(),t.xm()]:[this.Xm,this.Zm]}wD(t,s="stretch"){if(this.D_<2||this.zE&&0<this.zE.P2())this.jA(),this.DA(),this.SD(t,s);else{const i=this.TA();i.tG(t,this.zE,s),this.jE=0}}SD(t,s="stretch"){const i=t.E2();if(!i)throw new Error("not a texture-backed render target");this.LA(i),this.JA(s,i)}TD(t){if(!(this.D_<2)){const s=this.TA();s.KI(t.C2()),this.jE=0}}bD(t){this.MD(null),this.aS();const s=t.E2();s===this.WE&&(this.Z2.bindTexture(this.Z2.TEXTURE_2D,null),this.WE=null),s===this.qI&&(this.Z2.activeTexture(this.Z2.TEXTURE1),this.Z2.bindTexture(this.Z2.TEXTURE_2D,null),this.Z2.activeTexture(this.Z2.TEXTURE0),this.qI=null),t.Ub()}async U2(t,s,i){this.aS();let e=this.zE,h,n,r,o=(r=t?(h=t.lm(),n=t.xm(),t.C2()):(h=this.lm(),n=this.xm(),null),0),a=0,u=h,l=n;if(i){o=S.gn(Math.floor(i.xu()),0,h-1),a=S.gn(Math.floor(i.Iu()),0,n-1);let t=i.width(),s=(t=0===t?h-o:S.gn(Math.floor(t),0,h-o),i.height());s=0===s?n-a:S.gn(Math.floor(s),0,n-a),u=t,l=s,a=n-(a+l)}let c=this.Z2,f=(c.bindFramebuffer(c.FRAMEBUFFER,r),()=>{c.bindFramebuffer(c.FRAMEBUFFER,null),this.zE=null,this.cI.I2=null,this.cI.G2=null,this.MD(e)}),d;if(!s&&2<=this.Db()){c.bindFramebuffer(c.READ_FRAMEBUFFER,r);const p=c.createBuffer(),m=u*l*4,g=c.PIXEL_PACK_BUFFER,y=(c.bindBuffer(g,p),c.bufferData(g,m,c.STREAM_READ),c.readPixels(o,a,u,l,c.RGBA,c.UNSIGNED_BYTE,0),c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindBuffer(g,null),f(),c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0));await this.q2(()=>c.getSyncParameter(y,c.SYNC_STATUS)===c.SIGNALED),c.deleteSync(y),d=new ImageData(u,l),c.bindBuffer(g,p),c.getBufferSubData(g,0,new Uint8Array(d.data.buffer),0,m),c.bindBuffer(g,null),c.deleteBuffer(p)}else d=new ImageData(u,l),c.readPixels(o,a,u,l,c.RGBA,c.UNSIGNED_BYTE,new Uint8Array(d.data.buffer)),f();return d}vD(){this.aD(!0);const t=this.TA();t.SG(),this.jE=0,this.HE=1}xD(){this.aD(!1);const t=this.TA();t.bG(),this.jE=0,this.HE=2}ID(){return 2===this.HE}GD(){this.aD(!0);const t=this.TA();t.xG(),this.jE=0,this.HE=0}CD(t){if(this._D()){const s=this.TA();s.iG(t),this.jE=0}}ED(t){if(this._D()){const s=this.TA();s.nG(t),this.jE=0}}q2(s){const t=new Promise(t=>e.add({resolve:t,rE:s}));return-1===h&&(h=self.requestAnimationFrame(i)),t}gS(){return this.Xm*this.Zm*(this.dE.alpha?4:3)}yS(){let t=0;for(const s of S.hy.t2.W2())s.E2()||(t+=s.qb());return t}MS(){let t=0;for(const s of S.hy.Mb.Xb())t+=s.qb();return t}AD(){return this.pE}Db(){return this.D_}DD(){return"webgl"+this.Db()}Nb(){return 2<=this.Db()}Eb(){return this.qE}ND(){return this.XE}LD(){return this.ZE}OD(){return 0!==this.KE}RD(){return this.KE}PD(){return this.$E}kD(){return this.tA}FD(){if(2<=this.Db())return"webgl2";{const t=[];return this.rA&&t.push("EXT_frag_depth"),this.oA&&t.push("OES_standard_derivatives"),this.aA&&t.push("EXT_shader_texture_lod"),0<t.length?"webgl1:"+t.join(","):"webgl1:none"}}jD(){return this.sA}_D(){return!!this.N_}L_(){return this.N_}H2(){return this.eA}jb(){return this.hA}zb(){return this.uA}tE(t){this.cA.add(t)}sE(t){this.cA.delete(t)}J_(){return this.fA}Ab(){return this.Z2}dA(t){this.lw([["normal",t.ONE,t.ONE_MINUS_SRC_ALPHA],["additive",t.ONE,t.ONE],["xor",t.ONE,t.ONE_MINUS_SRC_ALPHA],["copy",t.ONE,t.ZERO],["destination-over",t.ONE_MINUS_DST_ALPHA,t.ONE],["source-in",t.DST_ALPHA,t.ZERO],["destination-in",t.ZERO,t.SRC_ALPHA],["source-out",t.ONE_MINUS_DST_ALPHA,t.ZERO],["destination-out",t.ZERO,t.ONE_MINUS_SRC_ALPHA],["source-atop",t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],["destination-atop",t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA]])}zD(){return this.SS()}}}{const Yi=self.js,Ji={BD:null,UD:null,WD:null,getTime:null,QD:null};Yi.hy.YD=class{constructor(t){t=Object.assign({},Ji,t),this.JD=t.BD,this.VD=t.UD,this.HD=t.WD,this.qD=t.getTime,this.XD=t.QD,this.ZD=null,this.KD=new Set}$D(t){this.KD.add(t)}tN(t){this.KD.delete(t)}eT(){this.ZD=null;for(const t of this.KD)t.eT()}sN(t){return this.JD?this.JD(t):[t.lm(),t.xm()]}fD(t){return this.VD(t)}iN(t,s){this.HD(t,s)}eN(){return this.qD()}od(t){this.XD(t)}hN(t,s,i){return s=Math.floor(s),i=Math.floor(i),!this.ZD||this.ZD.lm()===s&&this.ZD.xm()===i||(t.b2(this.ZD),this.ZD=null),null===this.ZD&&(this.ZD=t.mD(null,{width:s,height:i,cb:"nearest",mb:!1})),this.ZD}}}{const o=self.js,Vi=self.bs,vh=Vi.Gs,Hi=o.un(o.Rect),qi=o.un(o.Rect),Xi=o.un(o.Rect),Zi=o.un(o.Rect),Ki=vh.create(),$i=vh.create(),te={nN:null,rN:null,oN:null,aN:!1},se={uN:null,lN:!1,cN:!1,fN:!1,dN:!1,pN:!1,mN:!1};o.hy.gN=class{constructor(t,s){s=Object.assign({},te,s),this.yd=t,this.yN=s.nN,this.MN=s.rN,this.wN=s.oN,this.SN=null,this.TN=[],this.bN=[],this.vN=[],this.xN=!1,this.ZS=0,this.IN=!1,this.GN=!1,this.CN=!1,this._N=!1,this.EN=!1,this.AN=!1,this.gE=!1,this.DN=!1,this.NN=!1,this.LN=!1,this.ON=!1,this.RN=!1,this.PN=0,this.kN=[null,null,null],this.FN=!!s.aN,this.jN=0,this.zN=0,this.BN=0,this.UN=0,this.WN=null,this.QN=null,this.YN=o.un(o.Rect),this.JN=o.un(o.Rect),this.VN=o.un(o.Rect),this.HN=o.un(o.Rect),this.qN=o.un(o.Rect),this.XN=1,this.ZN=1,this.KN=0,this.$N=0,this.tL=null,this.sL=null,this.iL=0,this.eL=0,this.hL=!1,this.l2=vh.create(),this.nL=vh.create(),this.yd.$D(this)}ln(){this.yd.tN(this),o.Br(this.vN),o.Br(this.TN),o.Br(this.bN),this.WN=null,this.QN=null,this.yN=null,this.MN=null,this.wN=null}eT(){this.xN=!0,o.Br(this.vN),o.Br(this.TN),o.Br(this.bN)}rL(){return this.xN}oL(h,t){if(t=Object.assign({},se,t),o.Br(this.vN),this.jN=0,this.zN=0,this.IN=!1,this.GN=!1,this.CN=!1,this._N=!1,this.EN=!1,this.AN=!1,this.PN=0,this.RN=!!t.dN,this.ON=!!t.mN,this.xN=!1,o.Yr(this.TN,h),0!==h.length){if(t.uN){if(t.uN.length!==h.length)throw new Error("incorrect indexMap length");o.Yr(this.bN,t.uN)}else{o.Br(this.bN);for(let t=0,s=h.length;t<s;++t)this.bN.push(t)}for(const s of h)this.jN+=s.kS(),this.zN+=s.FS(),s.WS()&&(this.IN=!0),s.YS()&&(this.GN=!0),s.QS()&&(this.CN=!0),s.jS()&&(this._N=!0),s.HS()&&(this.EN=!0);this.AN=this.aL(h[0].RS());const n=this.uL(h[0],t),r=this.lL(h.at(-1),t);if(1!==h.length||n||r){this.LN=!1;let e=0;n&&(this.PN=1,this.vN.push(o.un(o.hy.gN.fL.cL,this,-1,1)),e=1);for(let s=0,i=h.length;s<i;++s)if(0!==s||n){let t=1===e?2:1;s!==i-1||r||(t=0),this.PN=Math.max(this.PN,t),this.vN.push(o.un(o.hy.gN.fL.dL,this,e,t,s)),e=t}else this.PN=1,this.vN.push(o.un(o.hy.gN.fL.pL,this,-1,1,s)),e=1;r&&this.vN.push(o.un(o.hy.gN.fL.mL,this,e,0))}else this.LN=!0}}uL(t,s){return!!(s.lN||t.zS()||s.fN&&!t.US()||t.YS()&&!this.ON||0!==this.jN||0!==this.zN)||(t.RS().mS()?t.QS()&&(s.pN||s.dN)||t.JS()&&s.dN:t.QS()&&!this.AN&&s.pN)}lL(t,s){return!!s.cN||(t.RS().mS()?t.QS()||t.jS():(t.QS()||t.jS())&&this.gL())}aL(t){return t.EM()&&this.CN&&!this._N}yL(t,s,i){t.EM()&&null===s&&(s=t.GetBackbufferRenderTarget()),this.tL=s,this.WN=i.ML||null,this.QN=i.contextObject||null,this.ZS=i.wL||0,this.XN=i.devicePixelRatio||1,this.ZN=i.SL||1,this.KN=i.TL||0,this.$N="number"==typeof i.time?i.time:this.yd.eN(),this.gE=!1,t.xA(),this.IN&&this.bL();let e=!1;if(this.vL()&&(this.xL(t,i),e=!0,this.sL=this.yd.hN(t,this.BN,this.UN),Hi.C(this.JN),Hi.Ju(),t.EM()&&t._MaybeDoPendingClearRenderPass(this.tL),t.CopyTextureToTexture(this.tL.E2(),this.sL,Hi.xu(),Hi.Iu(),Hi.width(),Hi.height())),this.LN)this.IL(t,i);else if(e||this.xL(t,i),0!==this.VN.width()||0!==this.VN.height()){t.kA(),t.DA(),t.Mw(0),t.Sw(0),this.SN=i.GL||null,this.iL=i.CL||0,this.eL=i._L||0,this.hL=!!i.EL,this.AL(t),this.kN[0]=s,this.kN[1]=1<=this.PN?this.DL():null,this.kN[2]=2===this.PN?this.DL():null;for(const h of this.vN){const n=this.NL(h.LL()),r=this.NL(h.OL());t.EM()?h.RL(t,n,r):h.PL(t,n,r)}t.LA(null),this.kN[1]&&this.kL(this.kN[1]),this.kN[2]&&this.kL(this.kN[2]),this.kN.fill(null),this.FL(t),this.tL=null,this.sL=null,this.WN=null,this.QN=null,this.SN=null}}xL(t,s){const[i,e]=this.yd.sN(t);this.jL(t,i,e),this.zL(s)}jL(t,s,i){if(s<=0||i<=0)throw new Error("invalid draw size");this.BN===s&&this.UN===i||this.BL(t,s,i,0,0,this.l2,this.nL),this.BN=s,this.UN=i}BL(t,s,i,e,h,n,r){const o=s/2+e,a=i/2+h,u=(t._M(n,s/i),t.NM(o,a,t.mM(i),o,a,0,i));vh.C(r,u)}zL(t){this.YN.C(t.UL),t.WL?this.JN.C(t.WL):this.JN.set(0,0,this.BN,this.UN),this.VN.C(this.JN),this.VN._t(this.BN,this.UN);const s=this.ZN*this.XN;this.JN.ku(this.jN*s,this.zN*s),this.qN.C(this.JN),this.qN._t(this.BN,this.UN),this.JN.Vu(0,0,this.BN,this.UN),this.HN.C(this.JN),this.HN._t(this.BN,this.UN)}AL(t){if(this.DN=t.uD(),this.NN=t.ID(),this.ON)t.aD(!1),this.GN&&t.lD(!0);else{if(Hi.C(this.JN),t.mS()){const s=this.ZN*this.XN;Hi.ku(Math.max(this.jN,1)*s,Math.max(this.zN,1)*s),Hi.Ju(),Hi.gn(0,0,this.BN,this.UN)}else Hi.Ju();t.cD(Hi.xu(),Hi.Iu(),Hi.width(),Hi.height(),this.UN)}}QL(t){t.DA(),this.ON||(this.NN&&t.GD(),t.aD(!1),this.GN&&t.lD(!0)),t.EM()&&t.SetNormalizedCoordsProgramVariant(!0)}FL(t){t.lD(!1),this.NN&&t.xD(),t.aD(this.DN),this.ON||t.dD(),t.EM()&&t.SetNormalizedCoordsProgramVariant(!1),this.gE=t.IA()}YL(){this.qN.gn(0,0,1,1)}NL(t){return t<0?null:this.kN[t]}DL(){return this.yd.fD(this)}JL(){return this.tL}kL(t){this.yd.iN(t,this)}VL(t){return this.TN[t]}HL(t){this.SN?this.SN(this,t,()=>this.yN(t,this)):this.yN(t,this),this.LN||this.QL(t)}qL(t){if(this.ON)return!0;if(0!==this.iL||0!==this.eL)return!1;const[s,i]=t.VA(t.fD());return s===this.BN&&i===this.UN}XL(t,s){let i=this.l2,e=this.nL;if(s&&!this.qL(t)){i=Ki,e=$i;const[h,n]=t.VA(t.fD());this.BL(t,h,n,this.iL,this.eL,i,e),this.ON||t.dD()}t.yA(i),t.vA(e)}bL(){this.yd.od(this)}ZL(t,s){return this.wN(this.bN[t],s)}KL(t,s){let i=this.qN,e=this.HN,h=this.VN;t.mS()&&(qi.C(i),qi.zu(1),i=qi,Xi.C(e),Xi.zu(1),e=Xi,Zi.C(h),Zi.zu(1),h=Zi),this.$L(t,s,e,h,i,1/this.BN,1/this.UN)}tO(t,s){let e=this.HN,h=this.VN,n=1/this.BN,r=1/this.UN;if(this.MN){let{sO:t,iO:s,eO:i}=this.MN(this.WN);t||(Hi.set(0,0,0,0),t=Hi),s=s||this.BN,i=i||this.UN,e=t,h=t,n=1/s,r=1/i}else t.mS()&&(Xi.C(e),Xi.zu(1),e=Xi,Zi.C(h),Zi.zu(1),h=Zi);let i=this.qN;t.mS()&&((i=qi).C(this.qN),i.zu(1)),this.$L(t,s,e,h,i,n,r),t.EM()&&this.EN&&t.SetProgramParameter_IsSrcTexRotated(this.RN)}hO(t){return this.CN?t.EM()?this.vL()?this.sL:this.tL.E2():this.tL:null}$L(t,s,i,e,h,n,r){t.eD(this.hO(t),h,i,e,this.YN,n,r,this.XN,this.ZN,this.KN,this.$N),t.hD(this.ZL(s,t))}IL(t,s){const i=this.TN[0],e=t.uD(),h=i.YS();h&&(t.aD(!1),t.lD(!0),this.qN.set(0,0,1,1),this.VN.set(0,0,1,1)),t.FM(i),t.sT(this.ZS),t.MD(this.tL);let n=0,r=1;if(this.VN.set(0,0,1,1),i.JS()&&this.MN){const{sO:o,iO:a,eO:u}=this.MN(this.WN);o&&this.VN.C(o),n=Number.isFinite(a)?1/a:0,r=Number.isFinite(u)?1/u:0}else{const[l,c]=this.yd.sN(t);n=1/l,r=1/c}s.UL?this.YN.C(s.UL):this.YN.set(0,0,0,0),t.eD(this.hO(t),this.qN,this.VN,this.VN,this.YN,n,r,this.XN,this.ZN,this.KN,this.$N),t.hD(this.ZL(0,t)),t.EM()&&this.EN&&t.SetProgramParameter_IsSrcTexRotated(this.RN),t.Mw(0),this.HL(t),h&&(t.lD(!1),t.aD(e))}vL(){return this.AN}gL(){return!this.AN}nO(){return this.CN}rO(){return!!this.LN&&!this.vL()}oO(){return this.ON}aO(){return this.WN}uO(){return this.QN}lO(){return this.ZS}cO(){return this.hL}IA(){return this.gE}fO(){return this.JN}dO(){return this.HN}pO(){return this.FN}async mO(t,s,i){}}}{const ie=self.js;ie.hy.gN.fL=class{constructor(t,s,i,e=-1){this.gO=t,this.yO=s,this.MO=i,this.Xg=e}wO(){return this.gO}LL(){return this.yO}OL(){return this.MO}SO(){return this.Xg}$v(){return this.wO().VL(this.SO())}PL(t,s,i){}RL(t,s,i){}}}{const ee=self.js;ee.hy.gN.fL.cL=class extends ee.hy.gN.fL{constructor(t,s,i,e){super(t,s,i,e)}PL(t,s,i){const e=this.wO();t.kA(),t.kM(),t.MD(i,e.cO()),t.nD(0,0,0,0),e.HL(t),e.YL()}RL(t,s,i){const e=this.wO();t.kA(),t.kM(),t.MD(i,!1),t.nD(0,0,0,0),e.HL(t),e.YL()}}}{const he=self.js,ne=he.un(he.Rect),re=he.un(he.tl);he.hy.gN.fL.mL=class extends he.hy.gN.fL{constructor(t,s,i,e){super(t,s,i,e)}PL(t,s,i){const e=this.wO();t.kM(),t.MD(i),e.XL(t,!0),t.sT(e.lO()),t.LA(s.E2()),re.Tl(e.fO()),ne.C(e.dO()),ne.zu(1),t.Nw(re,ne),e.pO()&&t.TD(s)}RL(t,s,i){const e=this.wO();t.kM(),t.MD(i,!1),e.qL(t)?re.Tl(e.dO()):(t.SetNormalizedCoordsProgramVariant(!1),e.XL(t,!0),re.Tl(e.fO())),t.SetBackTexture(null),t.sT(e.lO()),t.LA(s.E2()),e.oO()?t.JA():t.Nw(re,e.dO())}}}{const oe=self.js;oe.hy.gN.fL.pL=class extends oe.hy.gN.fL{constructor(t,s,i,e){super(t,s,i,e)}PL(t,s,i){const e=this.wO();t.MD(i,e.cO()),t.nD(0,0,0,0),t.jA(),t.FM(this.$v()),e.tO(t,this.SO()),e.HL(t),e.YL()}RL(t,s,i){const e=this.wO();t.MD(i,!1),t.nD(0,0,0,0),t.jA(),t.FM(this.$v()),e.tO(t,this.SO()),e.HL(t),e.YL()}}}{const ae=self.js,ue=ae.un(ae.Rect),le=ae.un(ae.tl);ae.hy.gN.fL.dL=class extends ae.hy.gN.fL{constructor(t,s,i,e){super(t,s,i,e)}PL(t,s,i){const e=this.wO(),h=(t.MD(i),0===this.OL());h?t.sT(e.lO()):(t.nD(0,0,0,0),t.jA()),t.FM(this.$v()),e.KL(t,this.SO()),t.LA(s.E2()),e.XL(t,h),le.Tl(e.fO()),ue.C(e.dO()),ue.zu(1),t.Nw(le,ue),e.pO()&&t.TD(s)}RL(t,s,i){const e=this.wO(),h=(t.MD(i,!1),0===this.OL());h?(t.sT(e.lO()),t.SetBackTexture(null),e.qL(t)?le.Tl(e.dO()):(t.SetNormalizedCoordsProgramVariant(!1),e.XL(t,!0),le.Tl(e.fO()))):(t.nD(0,0,0,0),t.jA(),le.Tl(e.dO())),t.FM(this.$v()),e.KL(t,this.SO()),t.LA(s.E2()),e.oO()?t.JA():t.Nw(le,e.dO())}}}{let l=function(t,s){const i=t[0],e=s[0],h=i-e;if(0!=h)return h;const n=t[1],r=s[1];return n-r},c=(l,self.js),f=self.qs,d=null,s=new Set,p=[],m=[],i=!1,t=!1,e=new Set(["vsync","unlimited-tick","unlimited-frame"]);self.TO=class{constructor(t){d=t,Object.defineProperties(this,{bO:{value:d.xO().vO(),writable:!1},IO:{value:d.CO().GO(),writable:!1},_O:{value:{},writable:!1},EO:{value:{},writable:!1},AO:{value:d.DO(),writable:!1},NO:{value:d.LO(),writable:!1},storage:{value:new self.OO(d),writable:!1},isInWorker:{value:d.RO(),writable:!1},PO:{value:d.kO(),writable:!1},FO:{value:d.jO(),writable:!1},cb:{value:d.zO(),writable:!1},BO:{value:d.UO(),writable:!1},WO:{value:new self.QO(t),writable:!1},YO:{value:new self.JO(t),writable:!1}}),d.VO().addEventListener("keydown",t=>{s.has(t.key)?t.stopPropagation():s.add(t.key)}),d.VO().addEventListener("keyup",t=>s.delete(t.key)),d.Qf().addEventListener("window-blur",()=>s.clear()),d.RO()&&(self.alert=t=>(i||(i=!0,console.warn("[Construct] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual.")),this.alert(t)))}HO(t){Object.defineProperties(this._O,t)}qO(t){Object.defineProperties(this.EO,t)}addEventListener(t,s){d.VO().addEventListener(t,s)}removeEventListener(t,s){d.VO().removeEventListener(t,s)}XO(t,...s){f._e(t);const i=d.ZO(),e=i.KO(t);if(!e)throw new Error(`cannot find function name '${t}'`);if(!e.Kl())return e.$O();if(s.length<e.tR())throw new Error(`not enough function parameters passed for '${t}' (${s.length} passed, ${e.tR()} expected)`);let h=e.sR(),n=h.iR(),r=i.eR();if(r){n=n.slice(0);const a=new Set(n);for(const u of r.iR())a.has(u)||(n.push(u),a.add(u));for(const l of i.hR())a.has(l)||(n.push(l),a.add(l))}const o=h.nR(n,e.rR(),e.oR(),e.$O(),...s);return o}aR(t){const s=d.lR().uR();if(!s)throw new Error("not in a function which returns a value");switch(s.cR()){case 1:"number"==typeof t&&s.fR(t);break;case 2:"string"==typeof t&&s.fR(t);break;case 3:"number"!=typeof t&&"string"!=typeof t||s.fR(t)}}signal(t){f._e(t),d.ZO().dR(t)}pR(t){return f._e(t),d.ZO().mR(t)}gR(){return[d.kO(),d.jO()]}get isSuspended(){return d.yR()}get MR(){return d.wR()}get SR(){return d.TR()}get gameTime(){return d.bR()}get vR(){return d.xR()}get timeScale(){return d.IR()}set timeScale(t){f.xe(t),d.GR(t)}get fps(){return t||(console.warn("IRuntime.fps is deprecated. Use IRuntime.framesPerSecond instead."),t=!0),d.CR()}get framesPerSecond(){return d.CR()}get _R(){return d.ER()}get AR(){return d.DR()}get NR(){return d.LR()}get OR(){return d.RR()}set OR(t){if(!e.has(t))throw new Error("invalid framerate mode");d.PR(t)}get kR(){return d.FR()}set kR(t){f.xe(t),d.jR(t)}get zR(){return d.BR()}set zR(t){d.UR(t)}random(){return d.WR()}get layout(){const t=d.QR();if(t)return t.YR();throw new Error("no layout is running - make sure a layout is loaded before accessing")}JR(t){let s=d.VR(),i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(i=s.HR(t))return i.YR();throw new Error("invalid layout")}qR(){return d.VR().ZR().map(t=>t.YR())}KR(t){let s=d.VR(),i;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(!(i=s.HR(t)))throw new Error("invalid layout");s.$R()||s.t3(i)}get keyboard(){const t=d.s3().keyboard;if(t)return t;throw new Error("runtime.keyboard used but Keyboard object missing - add it to your project first")}get i3(){const t=d.s3().i3;if(t)return t;throw new Error("runtime.mouse used but Mouse object missing - add it to your project first")}get e3(){const t=d.s3().e3;if(t)return t;throw new Error("runtime.touch used but Touch object missing - add it to your project first")}get h3(){const t=d.s3().h3;if(t)return t;throw new Error("runtime.timelineController used but Timeline Controller object missing - add it to your project first")}n3(t,s){f._e(t),f._e(s),d.r3(t,s)}o3(t){f.xe(t);const s=d.a3(t);return s?s.u3():null}l3(t,e){f.Ze(e);const h=d.f3();for(const s of t){const i=d.d3(s),n=i.m3();p.push([n.g3().SO(),n.y3()]),m.push(i)}if(0!==p.length){p.sort(l),m.sort((t,s)=>e(t.u3(),s.u3()));let i=!1;for(let t=0,s=p.length;t<s;++t){const r=m[t],o=h.M3(p[t][0]),a=p[t][1],u=o.w3();u[a]!==r&&((u[a]=r).m3().S3(o,!0),o.T3(r),i=!0)}i&&d.b3(),c.Br(p),c.Br(m)}}async v3(t,s){const i=new MessageChannel,e=i.port1,h=i.port2;return await d.x3("runtime","script-create-worker",{url:t,opts:s,port2:h},[h]),e}alert(t){return d.x3("runtime","alert",{message:t+(d.RO()?" [via Web Worker]":"")})}I3(t){return f.xe(t),d.G3(t)}C3(t){d._3(t)}}}{let s=self.js,r=null;self.E3=class{constructor(t){r=t,Object.defineProperties(this,{A3:{value:r.D3("audio/webm; codecs=opus"),writable:!1}})}N3(t){const s=self.O3.L3(t);if(!s)throw new Error("invalid IImageInfo");s.R3(r.P3())}F3(t){return r.Io(t)}j3(t){return r.Go(t)}z3(t){return r.Co(t)}B3(t){return r._o(t)}U3(t){return r.W3(t)}Q3(t){return"flat"===r.Y3()&&s.bo(t)&&(t=t.toLowerCase()),r.J3(t)}get V3(){return r.H3()}async q3(t,s){if(this.A3)throw new Error("decodeWebMOpus(): not supported because WebM Opus is supported by the platform");const i=await r.P3().X3(s),e=new Float32Array(i),h=t.createBuffer(1,e.length,48e3),n=h.getChannelData(0);return n.set(e),h}Z3(...t){return r.K3(...t)}t4(t){return r.s4(t)}i4(t){return r.e4(t)}}}{let r=self.js,i=self.qs,o=null;self.h4=class{constructor(t){o=t,Object.defineProperties(this,{runtime:{value:o.P3(),writable:!1}})}n4(t,s){const i=o.P3(),e=i.d3(t),h=i.d3(s);return o.r4(e,h)}o4(t,s){const i=o.P3(),e=i.d3(t);for(const h of s){const n=i.d3(h);if(o.r4(e,n))return h}return null}a4(t){const s=o.P3().d3(t),i=o.u4(s);return i?i.u3():null}l4(t,s){if(i.xe(t),i.xe(s),t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid cell size");o.c4(t,s)}f4(){return o.d4()}m4(t,s){let i=o.P3(),e;e=Array.isArray(t)?t.map(t=>i.g4(t)):[i.g4(t)];const h=r.Rect.bu(s),n=[];return o.y4(null,e,h,n),n.map(t=>t.u3())}}}{let s=self.js,i=null,e=new Map([["Windows","windows"],["macOS","macos"],["Linux","linux"],["Chrome OS","chrome-os"],["Android","android"],["iOS","ios"]]),h=new Map([["Chrome","chrome"],["Chromium","chromium"],["Edge","edge"],["Opera","opera"],["NW.js","nwjs"],["Firefox","firefox"],["Safari","safari"]]),n=new Map([["Chromium","chromium"],["Gecko","gecko"],["WebKit","webkit"]]);self.QO=class{constructor(t){i=t,Object.defineProperties(this,{M4:{value:s.ci.Ti,writable:!1},w4:{value:e.get(s.ci.fi)||"unknown",writable:!1},S4:{value:s.ci.di,writable:!1},T4:{value:h.get(s.ci.mi)||"unknown",writable:!1},b4:{value:s.ci.gi,writable:!1},v4:{value:n.get(s.ci.Mi)||"unknown",writable:!1}})}get exportType(){let t=i.x4();return i.I4()?t="nwjs":i.G4()?t="windows-webview2":"cordova"===t?t="Android"===s.ci.fi?"cordova-android":"cordova-ios":"playable-ad-single-file"!==t&&"playable-ad-zip"!==t||(t="playable-ad"),t}get renderer(){return i._4().C4()}get E4(){return i._4().A4()}get D4(){return i._4().N4()}get L4(){return i._4().O4()}get R4(){return i._4().P4()}get F4(){return i._4().j4()}get devicePixelRatio(){return i.z4()}}}{const ce=self.qs;self.OO=class{constructor(t){this.B4=t.U4()}getItem(t){return ce._e(t),this.B4.getItem(t)}setItem(t,s){return ce._e(t),this.B4.setItem(t,s)}removeItem(t){return ce._e(t),this.B4.removeItem(t)}clear(){return this.B4.clear()}keys(){return this.B4.keys()}}}{const fe=self.js,de=fe.zs();self.W4=class{#Q4;constructor(){const t=fe.J4.Y4(de);this.#Q4=t,Object.defineProperties(this,{runtime:{value:t.P3().V4(),writable:!1},H4:{value:t.q4(),writable:!1},X4:{value:t.Z4(),writable:!1},K4:{value:t.tP(),writable:!1},sP:{value:t.iP(),writable:!1},eP:{value:t.hP(),writable:!1},nP:{value:t.rP(),writable:!1},oP:{value:t.aP(),writable:!1},uP:{value:t.lP(),writable:!1}})}static cP(t){if(!t)return null;const s=fe.J4.fP(t);return s?s.dP():null}pP(){return this.#Q4.gP().mP()}yP(){return this.#Q4.MP().u3()}}}{const pe=self.js,me=self.qs,ge=pe.zs();self.wP=class{#Q4;constructor(){const t=pe.J4.Y4(ge);this.#Q4=t,Object.defineProperties(this,{name:{value:t.tf(),writable:!1},runtime:{value:t.P3().V4(),writable:!1},SP:{value:t.TP().dP(),writable:!1}}),t.P3().bP(this,t)}addEventListener(t,s){me._e(t),me.Ze(s),this.#Q4.VO().addEventListener(t,s)}removeEventListener(t,s){me._e(t),me.Ze(s),this.#Q4.VO().removeEventListener(t,s)}vP(){return[...this.instances()]}xP(){return pe.first(this.instances())}IP(){return[...this.GP()]}CP(){return pe.first(this.GP())}_P(t){const s=this.#Q4,i=s.P3().EP(t),e=s.AP(i);return e?e.u3():null}*instances(){for(const t of this.#Q4.DP())yield t.u3()}*GP(){for(const t of this.#Q4.LP().NP())yield t.u3()}OP(t){me.Ze(t);const s=this.#Q4;if(0<s.RP())throw new Error("setInstanceClass() called too late, because instances have already been created - call in runOnStartup");s.PP(t)}Fi(t,s,i,e,h){if(me.Me(s),me.Me(i),"number"!=typeof t&&"string"!=typeof t)throw new TypeError("invalid layer parameter");const n=this.#Q4,r=n.P3(),o=r.QR().g3(t);if(!o)throw new Error("invalid layer");const a=r.kP(n,o,s,i,e,h),u=(e&&o.FP(a),r.ZO());return u.jP(!0),a.zP(),u.jP(!1),u.BP()||r.VR().UP()||r.WP(),a.u3()}}}{const ye=self.qs,u=new WeakMap,Me=["above","below","top-sublayer","bottom-sublayer"];self.QP=class{constructor(t){u.set(this,t);const s=[],i=t.YP(),e=i.JP().length;for(let t=0;t<e;++t)s.push(new self.VP(i,t));Object.defineProperties(this,{name:{value:t.tf(),writable:!1},index:{value:t.SO(),writable:!1},effects:{value:s,writable:!1}})}addEventListener(t,s){ye._e(t),ye.Ze(s),u.get(this).VO().addEventListener(t,s)}removeEventListener(t,s){ye._e(t),ye.Ze(s),u.get(this).VO().removeEventListener(t,s)}get width(){return u.get(this).lm()}set width(t){ye.xe(t),u.get(this).Sm(t)}get height(){return u.get(this).xm()}set height(t){ye.xe(t),u.get(this).fm(t)}HP(t,s){ye.xe(t),ye.xe(s);const i=u.get(this);i.Sm(t),i.fm(s)}getSize(){const t=u.get(this);return[t.lm(),t.xm()]}set scale(t){ye.xe(t),u.get(this).qP(t)}get scale(){return u.get(this).XP()}set angle(t){ye.xe(t),u.get(this).ZP(t)}get angle(){return u.get(this).KP()}set scrollX(t){ye.Me(t),u.get(this).$P(t)}get scrollX(){return u.get(this).sk()}set scrollY(t){ye.Me(t),u.get(this).ik(t)}get scrollY(){return u.get(this).ek()}scrollTo(t,s){ye.Me(t),ye.Me(s);const i=u.get(this);i.$P(t),i.ik(s)}hk(){const t=u.get(this);return[t.sk(),t.ek()]}nk(t){let s=u.get(this),i=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");return(i=s.g3(t))?i.rk():null}ak(){return u.get(this).uk().map(t=>t.rk())}*lk(){for(const t of u.get(this).lk())yield t.rk()}ck(t,s,i){const e=u.get(this),h=self.fk,n=(ye._e(t),ye.rh(s,h),s?e.P3().dk(s):null),r=Me.indexOf(i);if(r<0)throw new Error("invalid location");e.pk(t,n,r)}mk(t,s,i){const e=u.get(this),h=e.P3(),n=self.fk,r=(ye.nh(t,n),h.dk(t));if(!r)throw new Error("invalid layer");ye.rh(s,n);const o=s?h.dk(s):null,a=Me.indexOf(i);if(a<0)throw new Error("invalid location");e.gk(r,o,a)}yk(t){const s=u.get(this),i=self.fk,e=(ye.nh(t,i),s.P3().dk(t));if(!e)throw new Error("invalid layer");const h=e.P3();s.Mk(e),h.ZO().BP()||h.WP()}wk(){const t=u.get(this),s=t.P3();t.Sk(),s.ZO().BP()||s.WP()}Tk(t,s){ye.xe(t),ye.xe(s),u.get(this).bk(t,s)}vk(){return u.get(this).xk()}set K(t){ye._e(t);const s=u.get(this);if("perspective"===t)s.Ik();else{if("orthographic"!==t)throw new Error("invalid projection");s.Gk()}}get K(){return u.get(this).Ck()?"orthographic":"perspective"}}}{const we=self.js,f=self.qs,d=new WeakMap,Se=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),Te=new Map([...Se.entries()].map(t=>[t[1],t[0]])),be=we.un(we.Jo);self.fk=class{constructor(t){d.set(this,t);const s=[],i=t.YP(),e=i.JP().length;for(let t=0;t<e;++t)s.push(new self.VP(i,t));Object.defineProperties(this,{name:{value:t.tf(),writable:!1},layout:{value:t.HR().YR(),writable:!1},effects:{value:s,writable:!1}}),t.P3().bP(this,t)}get _k(){const t=d.get(this).Ek();return t?t.rk():null}*Ak(){for(const t of d.get(this).Ak())yield t.rk()}*Dk(){for(const t of d.get(this).Nk())yield t.rk()}*Lk(){for(const t of d.get(this).Nk())for(const s of t.Ok())yield s.rk()}get index(){return d.get(this).SO()}get isVisible(){return d.get(this).Rk()}set isVisible(t){d.get(this).Pk(t)}get kk(){return d.get(this).Fk()}get isInteractive(){return d.get(this).jk()}set isInteractive(t){d.get(this).zk(t)}get Bk(){return d.get(this).Uk()}set Bk(t){d.get(this).Wk(!!t)}get Qk(){return d.get(this).Yk()}get opacity(){return d.get(this)._A()}set opacity(t){t=we.gn(+t,0,1),isNaN(t)||d.get(this).AA(t)}set scale(t){f.xe(t),d.get(this).Jk(t)}get scale(){return d.get(this).Vk()}set scaleRate(t){f.xe(t),d.get(this).Hk(t)}get scaleRate(){return d.get(this).qk()}set angle(t){f.xe(t),d.get(this).ZP(t)}get angle(){return d.get(this).Xk()}set parallaxX(t){f.xe(t),d.get(this).Zk(t)}get parallaxX(){return d.get(this).Kk()}set parallaxY(t){f.xe(t),d.get(this).$k(t)}get parallaxY(){return d.get(this).tF()}set sF(t){f.xe(t),d.get(this).MT(t)}get sF(){return d.get(this).yT()}set iF(t){d.get(this).eF(t)}get iF(){return d.get(this).hF()}set nF(t){d.get(this).rF(t)}get nF(){return d.get(this).oF()}set wL(t){f._e(t);const s=Se.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");d.get(this).sT(s)}get wL(){return Te.get(d.get(this).aF())}set backgroundColor(t){if(f.Qe(t),t.length<3)throw new Error("expected 3 elements");be.Ko(t[0],t[1],t[2]);const s=d.get(this),i=s.uF();i.ga(be)||(i.aa(be),s.P3().b3())}get backgroundColor(){const t=d.get(this).uF();return[t.ua(),t.la(),t.ca()]}set scrollX(t){f.Me(t);const s=d.get(this);s.lF(!0),s.$P(t)}get scrollX(){return d.get(this).sk()}set scrollY(t){f.Me(t);const s=d.get(this);s.lF(!0),s.ik(t)}get scrollY(){return d.get(this).ek()}scrollTo(t,s){f.Me(t),f.Me(s);const i=d.get(this);i.lF(!0),i.$P(t),i.ik(s)}hk(){const t=d.get(this);return[t.sk(),t.ek()]}cF(){d.get(this).lF(!1)}getViewport(){return d.get(this).fF()._u()}dF(t,s,i=0){f.Me(t),f.Me(s),f.Me(i);const e=d.get(this),h=e.P3();return e.pF(t-h.mF(),s-h.gF(),i)}yF(t,s,i=0){f.Me(t),f.Me(s),f.Me(i);const e=d.get(this),h=e.P3(),[n,r]=e.MF(t,s,i);return[n+h.mF(),r+h.gF()]}wF(t,s,i=0){return f.Me(t),f.Me(s),f.Me(i),d.get(this).SF(t,s,i)}TF(t,s,i=0){return f.Me(t),f.Me(s),f.Me(i),d.get(this).bF(t,s,i)}get vF(){return d.get(this).xF()}}}{let e=function(t){let s=Ie.get(t);return s||(s=ve.un(ve.Event.Qf),Ie.set(t,s)),s};e;const ve=self.js,xe=self.qs,Ie=new WeakMap,Ge=ve.zs();self.IF=class{#Q4;constructor(){const t=ve.J4.Y4(Ge),s={runtime:{value:(this.#Q4=t).P3().V4(),writable:!1},GF:{value:t.CF().mP(),writable:!1},SP:{value:t.TP().dP(),writable:!1}};t._F(s),t.EF(s),Object.defineProperties(this,s),t.P3().bP(this,t)}static AF(){return ve.J4.DF()}NF(){const t=Ie.get(this);t&&(t.ln(),Ie.delete(this))}addEventListener(t,s,i){xe._e(t),xe.Ze(s),e(this).addEventListener(t,s,i)}removeEventListener(t,s,i){xe._e(t),xe.Ze(s),e(this).removeEventListener(t,s,i)}dispatchEvent(t){e(this).dispatchEvent(t)}LF(){const t=this.#Q4,s=t.P3();s.OF(t),s.ZO().BP()||s.VR().UP()||s.ZO().RF()||s.WP()}PF(){const t=this.#Q4.kF();return t?t.map(t=>t.u3()):[]}*FF(){const t=this.#Q4;if(t.jF())for(const s of t.zF())yield s.u3()}get uid(){return this.#Q4.BF()}get UF(){return this.#Q4.WF()}set timeScale(t){xe.xe(t),this.#Q4.GR(t)}get timeScale(){return this.#Q4.QF()}YF(){this.#Q4.JF()}get MR(){const t=this.#Q4;return t.P3().wR(t)}VF(...t){xe.Qe(t);const s=new Set(t),i=this.#Q4.HF();return s.pe(i)}qF(t){xe.nh(t,Set),this.#Q4.XF(t)}ZF(){return new Set(this.#Q4.HF())}signal(t){xe._e(t);const s=this.#Q4;s.P3().ZO().KF(s,t)}pR(t){xe._e(t);const s=this.#Q4;return s.P3().ZO().$F(s,t)}}}{const Ce=self.js,_e=self.qs,Ee=Ce.zs();self.tj=class extends self.IF{#Q4;#sj=!1;#ij=null;#ej=!1;#hj=null;#nj;#rj;constructor(t){super(),this.#Q4=Ce.J4.Y4(Ee),this.#sj=!1,this.#ij=null,this.#ej=!1,this.#hj=null,this.#nj=t?.domComponentId,this.#rj=t?.wrapperComponentId}NF(){this.oj(!1),this.aj(!1),super.NF()}uj(){return Ce.J4.lj()}cj(t){const s=this.#Q4;s.P3().fj(t,s)}dj(t){const s=this.#Q4;return s.P3().pj(t,s)}mj(t,s){if(_e._e(t),_e.Ze(s),!this.#nj)throw new Error("no DOM component id set");const i=this.#Q4.P3();i.gj(this.#nj,t,s)}yj(t){_e.Qe(t);for(const[s,i]of t)this.mj(s,i)}Mj(t,s){if(_e._e(t),!this.#nj)throw new Error("no DOM component id set");const i=this.#Q4.P3();i.pf(this.#nj,t,s)}wj(t,s){if(_e._e(t),!this.#nj)throw new Error("no DOM component id set");const i=this.#Q4.P3();return i.x3(this.#nj,t,s)}Sj(t,s){const i=this.#Q4.P3();if(!i.RO())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.#nj,handler:t,data:s,responseId:null});this.Mj(t,s)}oj(t){if(this.#sj!==(t=!!t)){this.#sj=t;const s=this.#Q4.P3();t?(this.#ij||(this.#ij=()=>this.Tj()),s.Qf().addEventListener("tick",this.#ij)):s.Qf().removeEventListener("tick",this.#ij)}}bj(){return this.#sj}Tj(){}aj(t){if(this.#ej!==(t=!!t)){this.#ej=t;const s=this.#Q4.P3();t?(this.#hj||(this.#hj=()=>this.vj()),s.Qf().addEventListener("tick2",this.#hj)):s.Qf().removeEventListener("tick2",this.#hj)}}xj(){return this.#ej}vj(){}Ij(){return[]}Gj(){return null}Cj(t){}_j(){if(!this.#rj)throw new Error("no wrapper component id set");const t=this.#Q4.P3();return t.Ej(this.#rj)}Aj(t,s){if(_e._e(t),_e.Ze(s),!this.#rj)throw new Error("no wrapper component id set");const i=this.#Q4.P3();i.Dj(this.#rj,t,s)}Nj(t){_e.Qe(t);for(const[s,i]of t)this.Aj(s,i)}Lj(t,s){if(!this.#rj)throw new Error("no wrapper component id set");this.runtime.YO.Oj(this.#rj,t,s)}Rj(t,s){if(this.#rj)return this.runtime.YO.Pj(this.#rj,t,s);throw new Error("no wrapper component id set")}}}{let t=function(t){return class h extends t{#kj;#Fj;constructor(t){super(t);const s=Ae.J4.Y4(Oe),i=s.m3(),e=(this.#kj=s,this.#Fj=i,Le.set(this,s),[]),h=i.jj();if(h){const r=i.CF().YP().JP().length;for(let t=0;t<r;++t)e.push(new self.VP(h,t))}const n={effects:{value:e,writable:!1}};Object.defineProperties(this,n)}get layout(){return this.#Fj.HR().YR()}get zj(){return this.#Fj.g3().rk()}get x(){return this.#Fj.fT()}set x(t){t=+t;const s=this.#Fj;isNaN(t)||s.fT()===t||(s.dT(t),s.Bj())}get y(){return this.#Fj.mT()}set y(t){t=+t;const s=this.#Fj;isNaN(t)||s.mT()===t||(s.gT(t),s.Bj())}setPosition(t,s){t=+t,s=+s;const i=this.#Fj;isNaN(t)||isNaN(s)||i.fT()===t&&i.mT()===s||(i.Uj(t,s),i.Bj())}Wj(){const t=this.#Fj;return[t.fT(),t.mT()]}Qj(t,s){if(t=+t,s=+s,!(isNaN(t)||isNaN(s)||0===t&&0===s)){const i=this.#Fj;i.Yj(t,s),i.Bj()}}get sF(){return this.#Fj.yT()}set sF(t){t=+t;const s=this.#kj,i=this.#Fj;isNaN(t)||i.yT()===t||(i.MT(t),s.P3().b3())}get Jj(){return this.#Fj.Vj()}get width(){return this.#Fj.lm()}set width(t){t=+t;const s=this.#Fj;isNaN(t)||s.lm()===t||(s.Sm(t),s.Bj())}get height(){return this.#Fj.xm()}set height(t){t=+t;const s=this.#Fj;isNaN(t)||s.xm()===t||(s.fm(t),s.Bj())}HP(t,s){t=+t,s=+s;const i=this.#Fj;isNaN(t)||isNaN(s)||i.lm()===t&&i.xm()===s||(i.KC(t,s),i.Bj())}getSize(){const t=this.#Fj;return[t.lm(),t.xm()]}get angle(){return this.#Fj.KP()}set angle(t){t=Ae.yn(+t);const s=this.#Fj;isNaN(t)||s.KP()===t||(s.ZP(t),s.Bj())}get Hj(){return Ae.wn(this.angle)}set Hj(t){this.angle=Ae.Mn(t)}xl(){return this.#Fj.qj()._u()}Xj(){return this.#Fj.Zj().Ml()}Kj(){return this.#Fj.$j()}get isVisible(){return this.#Fj.Fk()}set isVisible(t){t=!!t;const s=this.#kj,i=this.#Fj;i.Fk()!==t&&(i.Pk(t),s.P3().b3())}get opacity(){return this.#Fj._A()}set opacity(t){t=Ae.gn(+t,0,1);const s=this.#kj,i=this.#Fj;isNaN(t)||i._A()===t||(i.AA(t),s.P3().b3())}set t5(t){if(De.Qe(t),t.length<3)throw new Error("expected 3 elements");ke.Ko(t[0],t[1],t[2]);const s=this.#kj,i=this.#Fj;i.s5().ga(ke)||(i.i5(ke),s.P3().b3())}get t5(){const t=this.#Fj.s5();return[t.ua(),t.la(),t.ca()]}set wL(t){De._e(t);const s=Re.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");const i=this.#kj,e=this.#Fj;e.sT(s),i.P3().b3()}get wL(){return Pe.get(this.#Fj.aF())}e5(){this.#Fj.h5()}n5(){this.#Fj.r5()}o5(t){De.nh(t,Ne);const s=this.#kj,i=s.P3().dk(t);if(!i)throw new Error("invalid layer");s.m3().a5(i)}u5(t,s){De.nh(t,h),this.#Fj.l5(Le.get(t),s)}get zIndex(){return this.#Fj.y3()}get c5(){return this.#Fj.f5()}set c5(t){this.#Fj.d5(!!t)}Xu(t,s){return De.Me(t),De.Me(s),this.#Fj.p5(+t,+s)}n4(t){De.nh(t,h);const s=this.#kj,i=Le.get(t);return s.P3().CO().r4(s,i)}a4(){const t=this.#kj,s=t.P3().CO().u4(t);return s?s.u3():null}getParent(){const t=this.#kj.m5();return t?t.u3():null}g5(){const t=this.#kj.y5();return t?t.u3():null}*M5(){for(const t of this.#kj.M5())yield t.u3()}w5(){return this.#kj.S5()}T5(t){const s=this.#kj.b5(t);return s?s.u3():null}*children(){for(const t of this.#kj.children())yield t.u3()}*v5(){for(const t of this.#kj.v5())yield t.u3()}x5(t,s){De.nh(t,h),De.Pe(s),s=s||{};const i=this.#kj,e=Le.get(t);i.I5(e,s)}removeChild(t){De.nh(t,h);const s=this.#kj,i=Le.get(t);s.G5(i)}C5(){const t=this.#kj;if(t._5()){const s=t.m5();s.G5(t)}}E5(){const t=this.#Fj;return{A5:t.D5(),N5:t.L5(),O5:t.R5(),P5:t.k5(),F5:t.j5(),z5:t.B5(),U5:t.W5(),Q5:t.Y5(),J5:t.V5()}}H5(t,s){De.xe(t),De.xe(s),this.#Fj.q5(t,s)}X5(){const t=this.#Fj;t.Z5(),t.Bj()}K5(t,s,i){De.xe(t),De.xe(s),De.Re(i);const e=this.#Fj;e.sz(t,s,i)&&e.Bj()}iz(t,s){let i=NaN,e=NaN,h=NaN,n=NaN,r=NaN,o=this.#Fj;if(o.ez()){const a=o.hz(),u=a.KT(t,s);null!==u&&(i=u.fT(),e=u.mT(),h=u.yT(),n=u.wT(),r=u.TT())}return{x:i,y:e,sF:h,u:n,v:r}}nz(){const t=this.#Fj;if(!t.ez())return[0,0];const s=t.hz();return[s.BT(),s.UT()]}}};0;const Ae=self.js,De=self.qs,Ne=self.fk,Le=new WeakMap,Oe=Ae.zs(),Re=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),Pe=new Map([...Re.entries()].map(t=>[t[1],t[0]])),ke=Ae.un(Ae.Jo);self.rz=t(self.IF),self.oz=t(self.tj)}{const Fe=self.qs;self.az=class extends self.rz{#Q4;constructor(){super(),this.#Q4=self.IF.AF()}uz(){return this.#Q4.cz().lz()}focus(){this.#Q4.cz().fz()}blur(){this.#Q4.cz().dz()}pz(t,s){Fe._e(t),this.#Q4.cz().mz(t,s)}}}{let e=function(t){let s=Be.get(t);return s||(s=je.un(je.Event.Qf),Be.set(t,s)),s};e;const je=self.js,ze=self.qs,Be=new WeakMap,Ue=je.zs();self.gz=class{#Q4;constructor(){const t=je.J4.Y4(Ue),s={runtime:{value:(this.#Q4=t).P3().V4(),writable:!1},behavior:{value:t.Mz().yz(),writable:!1},wz:{value:t.Tz().Sz(),writable:!1}};Object.defineProperties(this,s),t.P3().bP(this,t)}static AF(){return je.J4.DF()}get bz(){return this.#Q4.vz().u3()}NF(){const t=Be.get(this);t&&(t.ln(),Be.delete(this))}addEventListener(t,s,i){ze._e(t),ze.Ze(s),e(this).addEventListener(t,s,i)}removeEventListener(t,s,i){ze._e(t),ze.Ze(s),e(this).removeEventListener(t,s,i)}dispatchEvent(t){e(this).dispatchEvent(t)}}}{const We=self.js,Qe=We.zs();self.xz=class{constructor(){const t=We.J4.Y4(Qe),s={runtime:{value:t.P3().V4(),writable:!1},behavior:{value:t.Mz().yz(),writable:!1},name:{value:t.tf(),writable:!1}};Object.defineProperties(this,s)}}}{const Ye=self.js,Je=Ye.zs();self.Iz=class{#Q4;constructor(){const t=Ye.J4.Y4(Je),s={runtime:{value:(this.#Q4=t).P3().V4(),writable:!1}};Object.defineProperties(this,s)}vP(){return this.#Q4.NP().map(t=>t.u3())}static cP(t){if(!t)return null;const s=Ye.J4.Gz(t);return s?s.yz():null}}}{const Ve=self.js,He=self.qs,qe=Ve.un(Ve.Jo);self.VP=class{#Q4;constructor(t,s){this.#Q4=t;const i={index:{value:s,writable:!1}};Object.defineProperties(this,i)}get name(){const t=this.#Q4.JP();return t[this.index].tf()}get isActive(){return this.#Q4.Cz(this.index)}set isActive(t){t=!!t;const s=this.#Q4;s.Cz(this.index)!==t&&(s._z(this.index,t),s.Ez(),s.P3().b3())}setParameter(t,s){He.xe(t),t=Math.floor(+t);const i=this.#Q4,e=i.Az(this.index,t);if(null===e)throw new RangeError("invalid index");if(e instanceof Ve.Jo){if(!Array.isArray(s)||s.length<3)throw new TypeError("expected array with 3 elements");qe.Ko(s[0],s[1],s[2]),s=qe}else if("number"!=typeof s)throw new TypeError("expected number");const h=i.Dz(this.index,t,s);h&&i.Cz(this.index)&&i.P3().b3()}getParameter(t){He.xe(t),t=Math.floor(+t);const s=this.#Q4,i=s.Az(this.index,t);if(null===i)throw new RangeError("invalid index");return i instanceof Ve.Jo?[i.ua(),i.la(),i.ca()]:i}}}self.Nz=class{#Q4;constructor(t){this.#Q4=t,Object.defineProperties(this,{name:{value:t.tf(),writable:!1}})}get speed(){return this.#Q4.Lz()}get isLooping(){return this.#Q4.Oz()}get repeatCount(){return this.#Q4.Rz()}get Pz(){return this.#Q4.kz()}get Fz(){return this.#Q4.jz()}get frameCount(){return this.#Q4.zz()}Bz(){return this.#Q4.Uz().map(t=>t.Wz())}*frames(){for(const t of this.#Q4.Uz())yield t.Wz()}};self.O3=class{#Q4;constructor(t){this.#Q4=t}static L3(t){return t.#Q4}get width(){return this.#Q4.lm()}get height(){return this.#Q4.xm()}getSize(){const t=this.#Q4;return[t.lm(),t.xm()]}Qz(t){return t.Yz(this)}Jz(){return this.#Q4.E_()._u()}};{const Xe=self.qs;self.Vz=class extends self.O3{#Q4;constructor(t){super(t.qz()),this.#Q4=t,Object.defineProperties(this,{duration:{value:t.Xz(),writable:!1},Zz:{value:t.Kz(),writable:!1},$z:{value:t.tB(),writable:!1}})}sB(){const t=this.#Q4;return[t.Kz(),t.tB()]}iB(){return this.#Q4.eB()}hB(t){return this.nB(t)[0]}rB(t){return this.nB(t)[1]}nB(t){let s=this.#Q4,i=null;if("number"==typeof t)i=s.oB(Math.floor(t));else{if("string"!=typeof t)throw new TypeError("expected string or number");i=s.aB(t)}return i?[i.fT(),i.mT()]:this.sB()}uB(){const t=this.#Q4.lB();return t?t.zl():0}cB(t){return this.fB(t)[0]}dB(t){return this.fB(t)[1]}fB(t){Xe.xe(t),t=Math.floor(t);const s=this.#Q4.lB();if(!s||t<0||t>=s.zl())return[0,0];const i=s.jl(),e=i[2*t],h=i[2*t+1];return[e,h]}get tag(){return this.#Q4.pB()}}}{let s=function(t){const s=Ke.get(t);if(s.mB())throw new Error("timeline/tween was released and is no longer valid");return s};s;const Ze=self.qs,Ke=new WeakMap;self.gB=class{constructor(t){Ke.set(this,t),t.P3().bP(this,t)}pause(){s(this).yB()}resume(){s(this).MB()}stop(){s(this).c0()}VF(t){return s(this).wB(t)}set time(t){Ze.xe(t),s(this).SB(t)}get time(){return s(this).eN()}set totalTime(t){Ze.xe(t),s(this).TB(t)}get totalTime(){return s(this).bB()}set isLooping(t){s(this).vB(!!t)}get isLooping(){return s(this).xB()}set Fz(t){s(this).IB(!!t)}get Fz(){return s(this).GB()}set playbackRate(t){Ze.xe(t),s(this).CB(t)}get playbackRate(){return s(this)._B()}get progress(){const t=s(this);return t.eN()/t.bB()}get tags(){return s(this).EB()}get finished(){return s(this).AB()}get isPlaying(){return s(this).IsPlaying()}get DB(){return s(this).NB()}get LB(){return Ke.get(this).mB()}}}{let i=new WeakMap;self.OB=class extends self.gB{constructor(t){super(t),i.set(this,t);const s={name:{value:t.tf(),writable:!1}};Object.defineProperties(this,s)}}}{let i=function(t){const s=h.get(t);if(s.mB())throw new Error("tween was released and is no longer valid");return s},e=(i,self.qs),h=new WeakMap,n=new WeakMap,r=null;self.RB=class extends self.gB{constructor(t,s,i){super(t),r=r||i.easeToIndexFunc,h.set(this,t),s&&n.set(this,s)}stop(){const t=i(this),s=n.get(this);s.ReleaseTween(t)}PB(t){e._e(t);const s=self.Mc.Pc(r(t));i(this).kB(s)}get bz(){const t=i(this).jB();return t?t.u3():null}get zB(){return i(this).BB()}set zB(t){i(this).UB(!!t)}get value(){const t=i(this);if("value"!==t.WB())throw new Error("not a value tween");return t.YB("value").QB()}}}self.JB=class extends self.W4{constructor(){super()}};{const $e=self.js,th=self.qs,sh=$e.zs();self.VB=class extends self.JB{#Q4;#nj;#HB=0;#qB=new Map;constructor(t){if(super(),this.#Q4=$e.J4.Y4(sh),!t?.domComponentId)throw new Error("no DOM component ID specified");this.#nj=t.domComponentId,this.XB("elem-focused",t=>t.ZB()),this.XB("elem-blurred",t=>{t&&t.KB()})}$B(t){const s=this.#HB++;return this.#qB.set(s,t),s}tU(t){this.#qB.delete(t)}XB(t,i){const s=this.#Q4.P3();s.gj(this.#nj,t,t=>{const s=this.#qB.get(t.elementId);i(s,t)})}sU(t){th.Qe(t);for(const[s,i]of t)this.sU(s,i)}}}{const ih=self.js,eh=(new WeakMap,ih.zs());self.iU=class extends self.wP{#Q4;constructor(){super(),this.#Q4=ih.J4.Y4(eh)}eU(){}hU(){return this.#Q4.qz().nU()}rU(t){}oU(t){}aU(){}uU(t){}}}{const hh=self.js,nh=(new WeakMap,hh.zs());self.lU=class extends self.oz{#Q4;#cU=null;#fU=null;constructor(t){super(t),this.#Q4=hh.J4.Y4(nh)}NF(){if(super.NF(),this.#cU){const t=this.#Q4.P3().Qf();t.removeEventListener("renderercontextlost",this.#cU),t.removeEventListener("renderercontextrestored",this.#fU),this.#cU=null,this.#fU=null}}dU(){if(!this.#cU){this.#cU=()=>this.pU(),this.#fU=()=>this.mU();const t=this.#Q4.P3().Qf();t.addEventListener("renderercontextlost",this.#cU),t.addEventListener("renderercontextrestored",this.#fU)}}pU(){}mU(){}gU(t){}}}{const rh=self.js,oh=rh.un(rh.Rect),ah=new WeakMap,uh=rh.zs();self.yU=class extends self.lU{#MU=-1;#wU=!0;#SU=!1;#TU=!1;#bU=-.2;#vU=rh.un(rh.Rect,0,0,-1,-1);#xU=0;#IU=0;#GU=-1;#CU=-1;#_U=!1;constructor(t){if(!t?.domComponentId)throw new Error("no DOM component ID specified");super(t);const s=rh.J4.Y4(uh),i=(ah.set(this,s),this.#MU=this.SP.$B(this),s.P3()._4());this.#xU=i.EU(),this.#IU=i.AU(),this.oj(!0)}NF(){super.NF(),this.SP.tU(this.#MU),this.DU("destroy"),this.#MU=-1,ah.delete(this)}NU(){const t=ah.get(this).P3();if(t.RO())throw new Error("not valid in worker mode");return this.LU("get-element")}DU(t,s){(s=s||{}).elementId=this.#MU,this.Mj(t,s)}LU(t,s){return(s=s||{}).elementId=this.#MU,this.Sj(t,s)}OU(t,s){return(s=s||{}).elementId=this.#MU,this.wj(t,s)}RU(t){t=t||{};const s=ah.get(this).m3();t.elementId=this.#MU,t.isVisible=s.Fk(),t.htmlIndex=s.g3().PU(),t.htmlZIndex=s.kU(),Object.assign(t,this.FU()),this.#wU=!!t.isVisible,this.Sj("create",t),this.jU(!0)}zU(t){this.#wU!==(t=!!t)&&(this.#wU=t,this.DU("set-visible",{isVisible:t}))}Tj(){this.jU(!1)}BU(){const t=ah.get(this).P3(),s=t._4().UU();return"Android"===rh.ci.fi&&("scale-inner"===s||"scale-outer"===s||"crop"===s)}jU(l){const c=ah.get(this);if(!c.WU()){let t=c.m3(),s=t.g3(),i=t.qj(),[e,h]=s.MF(i.xu(),i.Iu()),[n,r]=s.MF(i.Gu(),i.Cu()),o=c.P3()._4(),a=o.N4(),u=o.O4();if(t.Fk()&&s.Fk())if(!this.BU()&&(n<=0||r<=0||a<=e||u<=h))this.zU(!1);else{oh.set(e,h,n,r);const f=o.EU(),d=o.AU(),p=s.PU(),m=t.kU();if(!l&&oh.equals(this.#vU)&&this.#xU===f&&this.#IU===d&&this.#GU===p&&this.#CU===m)this.zU(!0);else{this.#vU.C(oh),this.#xU=f,this.#IU=d,this.#GU=p,this.#CU=m,this.zU(!0);let t=null;this.#TU&&(t=s.QU()+this.#bU),this.DU("update-position",{left:Math.round(this.#vU.xu()),top:Math.round(this.#vU.Iu()),width:Math.round(this.#vU.width()),height:Math.round(this.#vU.height()),htmlIndex:p,htmlZIndex:m,fontSize:t})}}else this.zU(!1)}}YU(){this.LU("focus",{focus:!0})}JU(){this.LU("focus",{focus:!1})}ZB(){this.#SU=!0}KB(){this.#SU=!1}VU(){return this.#SU}HU(t,s){this.postToDOMElement("set-css-style",{prop:rh.Wo(t),val:s})}qU(t,s){this.postToDOMElement("set-attribute",{name:t,val:s})}XU(t){this.postToDOMElement("remove-attribute",{name:t})}ZU(){this.#_U||(this.#_U=!0,Promise.resolve().then(()=>{this.#_U=!1,this.DU("update-state",this.FU())}))}FU(){}KU(){return this.#MU}}}self.$U=class extends self.Iz{constructor(){super()}};self.t6=class extends globalThis.xz{constructor(){super()}eU(){}};{const lh=self.js,ch=new WeakMap,fh=lh.zs();self.s6=class extends self.gz{#sj=!1;#ej=!1;#i6=!1;constructor(){super(),ch.set(this,lh.J4.Y4(fh))}NF(){super.NF(),this.oj(!1),this.aj(!1),this.e6(!1),ch.delete(this)}uj(){return lh.J4.lj()}h6(){}cj(t){const s=ch.get(this);s.P3().fj(t,s.vz(),s.Tz())}dj(t){const s=ch.get(this);return s.P3().pj(t,s.vz(),s.Tz())}oj(t){if(this.#sj!==(t=!!t)){this.#sj=t;const s=ch.get(this).P3();t?s.n6(this):s.r6(this)}}bj(){return this.#sj}Tj(){}aj(t){if(this.#ej!==(t=!!t)){this.#ej=t;const s=ch.get(this).P3();t?s.o6(this):s.a6(this)}}xj(){return this.#ej}vj(){}e6(t){if(this.#i6!==(t=!!t)){this.#i6=t;const s=ch.get(this).P3();t?s.u6(this):s.l6(this)}}c6(){return this.#i6}f6(){}Ij(){return[]}Gj(){return null}Cj(t){}}}{let e=self.qs,h=null;self.JO=class{constructor(t){h=t}C3(t){h._3(t)}Oj(t,s,i){e._e(t),e._e(s),e.Ye(i),h.d6(t,s,i)}Pj(t,s,i){return e._e(t),e._e(s),e.Ye(i),h.p6(t,s,i)}m6(t){return e.Ee(t),new self.g6(h,t)}set y6(t){h.M6(!!t)}get y6(){return h.w6()}S6(t){h.T6(!!t)}b6(t){e.Me(t);const s=h.v6(t);return s?s.mP():null}}}self.g6=class{#x6;#I6;#G6;#C6;#_6;#E6;constructor(t,s){const i=(this.#x6=t).ZO(),e=t.eR(),h=(this.#I6=e,this.#G6=e.A6(),t.lR()),n=(this.#C6=h.D6(),this.#_6=h.N6(e),i.L6()),r=n.N6();this.#E6=r,s&&r.O6(s),t.R6(!1)}P6(){const t=this.#x6.ZO(),s=this.#G6,i=this.#E6;t.k6(s),this.#I6.F6(this.#C6,this.#_6),t.j6(s),i.z6(i.SO()+1)}get B6(){return this.#E6.U6()}release(){const t=this.#x6,s=t.lR(),i=t.ZO().L6();t.R6(!0),i.W6(),s.W6()}};{let d=self.js,h=self.qs,p=null,n=null;self.Q6=class{constructor(t,s){n=t,p=s}Y6(){p.kA()}J6(t){p.RA(t)}V6(){p.WM()}H6(){p.kM()}q6(){p.XM()}setColor(t){p.EA(t[0],t[1],t[2],t[3])}X6(t,s,i,e){p.EA(t,s,i,e)}Z6(){p.DA()}K6(t){p.AA(t)}tW(t){p.Sw(t)}sW(){p.Tw()}rect(t){p.zA(t.left,t.top,t.right,t.bottom)}iW(t,s,i,e){p.zA(t,s,i,e)}eW(t){p.tl(d.tl.wl(t))}hW(t,s,i,e,h,n,r,o){p.nS(t,s,i,e,h,n,r,o)}nW(t,s){p.Nw(d.tl.wl(t),d.Rect.Eu(s))}rW(t,s){p.WA(d.tl.wl(t),d.tl.wl(s))}oW(t,s,i,e,h,n,r,o,a,u,l,c,f){p.QA(t,s,i,e,h,n,r,o,a,u,l,c,d.Rect.Eu(f))}aW(t,s,i,e,h,n,r,o,a,u,l,c,f){p.Cw(t,s,i,e,h,n,r,o,a,u,l,c,d.tl.wl(f))}uW(t,s,i){p.YA(t,s,i)}lW(t){p.hS(t)}line(t,s,i,e){p.Em(t,s,i,e)}cW(t,s,i,e,h,n){p._w(t,s,i,e,h,n)}fW(t,s,i,e){p.Lw(t,s,i,e)}dW(t){p.kw(d.Rect.Eu(t))}pW(t){p.Fw(d.tl.wl(t))}mW(t){p.Qw(t)}gW(){p.Yw()}yW(t){p.qw(t)}MW(){p.$w()}wW(t){h.rh(t,self.SW);const s=t?n.dk(t):null;p.LA(s)}TW(t,s){const i=self.O3.L3(t);if(i)return i.bW(p,{ub:s?.ub??"clamp-to-edge",lb:s?.lb??"clamp-to-edge",cb:s?.cb??"trilinear",mb:s?.mb??!0});throw new Error("invalid IImageInfo")}vW(t){const s=self.O3.L3(t);if(!s)throw new Error("invalid IImageInfo");s.SC()}Yz(t){const s=self.O3.L3(t);if(!s)throw new Error("invalid IImageInfo");const i=s.E2();return self.SW.xW(n,i)}IW(t,s,i){h.xe(t),h.xe(s);const e=p.M2(t,s,{ub:i?.ub??"clamp-to-edge",lb:i?.lb??"clamp-to-edge",cb:i?.cb??"trilinear",mb:i?.mb??!0});return self.SW.xW(n,e)}GW(t,s,i){h.nh(s,self.SW);const e=n.dk(s);p.__(t,e,{premultiplyAlpha:i?.premultiplyAlpha??!0})}deleteTexture(t){h.nh(t,self.SW);const s=n.dk(t);p.b2(s)}_W(){const t=p.SS();return new self.EW(n,t)}AW(){n._4().DW(p)}NW(t){h.nh(t,globalThis.fk);const s=n.dk(t);s.LW(p)}}}{const dh=new WeakMap,ph=new WeakMap;self.SW=class{constructor(t,s){dh.set(this,{runtime:t,OW:s}),ph.set(s,this),t.bP(this,s),Object.defineProperties(this,{width:{value:s.lm(),writable:!1},height:{value:s.xm(),writable:!1}})}static xW(t,s){if(!s)return null;const i=ph.get(s);return i||new self.SW(t,s)}}}{let e=function(t){return gh.get(t).RW};e;const mh=self.qs,gh=new WeakMap;self.EW=class{constructor(t,s){gh.set(this,{runtime:t,RW:s}),t.bP(this,s)}release(){e(this).ln()}set PW(t){mh._e(t),e(this)._C(t)}get PW(){return e(this).AG()}set kW(t){mh.xe(t),e(this).EC(t)}get kW(){return e(this).AC()}set lineHeight(t){mh.xe(t),e(this).NC(t)}get lineHeight(){return e(this).LC()}set FW(t){e(this).OC(t)}get FW(){return e(this).RC()}set jW(t){e(this).PC(t)}get jW(){return e(this).kC()}setColor(t){mh.Qe(t),this.zW(t[0],t[1],t[2])}zW(t,s,i){e(this).UC(t,s,i)}BW(t){mh._e(t),e(this).iT(t)}set UW(t){e(this).WC(t)}get UW(){return e(this).QC()}set verticalAlign(t){e(this).YC(t)}get verticalAlign(){return e(this).JC()}set WW(t){e(this).VC(t)}get WW(){return e(this).HC()}set QW(t){e(this).qC(t)}get QW(){return e(this).XC()}set text(t){mh._e(t),e(this).mf(t)}get text(){return e(this).ZC()}HP(t,s,i){mh.xe(t),mh.xe(s),mh.xe(i),e(this).KC(t,s,i)}Qz(){const{runtime:t,RW:s}=gh.get(this),i=s.E2();return self.SW.xW(t,i)}Jz(){return e(this).E_()._u()}YW(t){mh.Ze(t),e(this).bC=t}JW(){e(this).SC()}get VW(){return e(this).t_()}get HW(){return e(this).i_()}}}{let e=function(t){if(!t)return"";const s=t.split(".");if(s.length<2)return"";const i=s.at(-1).toLowerCase();return Mh.get(i)||""},n=function(e){return new Promise((t,s)=>{const i=document.createElement("script");i.onload=t,i.onerror=s,i.async=!1,i.type="module",i.src=e,document.head.appendChild(i)})};e,n;const g=self.js,yh=new Set(["local","remote"]),Mh=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);g.qW=class extends g.rn{constructor(t,s){super();const i=s.exportType,e=(this.cf=t,this.XW="folders",this.ZW=new Map,this.KW="cordova"===i,this.$W=!!s.isiOSCordova,this.tQ=!!s.isFileProtocol,this.sQ=s.swClientId,this.iQ=s.supportedAudioFormats||{},this.eQ=new Map,this.hQ=!1,this.nQ=s.scriptFolder,this.rQ="",this.oQ="",this.aQ="",this.uQ=s.fileMap||new Map,this.lQ=new Map,"html5"===i||"scirra-arcade"===i||"instant-games"===i);this.cQ=e?"remote":"local",this.fQ=new Map,this.dQ=[],this.pQ=[],this.mQ=!1,this.gQ=0,this.yQ=0,this.MQ=0,this.wQ=!1,this.SQ=g.un(g.C1,()=>this.TQ(),50),this.bQ=g.un(g.g1,Math.max(g.hardwareConcurrency,8)),this.vQ=g.un(g.g1,20),this.xQ=new self.E3(this)}ln(){for(const t of this.fQ.values())t.ln();this.fQ.clear(),g.Br(this.pQ),this.cf=null}P3(){return this.cf}IQ(t){this.XW=t}Y3(){return this.XW}GQ(){return this.nQ}CQ(t){this.rQ=t}H3(){return this.rQ}_Q(t){this.oQ=t}EQ(){return this.oQ}AQ(t){this.aQ=t}DQ(){return this.aQ}NQ(){return this.tQ}Co(t,s){return s=s||this.cQ,g.bo(t)?("flat"===this.XW&&(t=t.toLowerCase()),this.KW&&this.tQ?this.LQ(t):"playable-ad-single-file"===this.cf.x4()?self.c3_runtimeInterface._PlayableAdFetchBlob(t):("local"===s?this.bQ:this.vQ).fc(()=>g.Co(t))):g.Co(t)}_o(t){return g.bo(t)?("flat"===this.XW&&(t=t.toLowerCase()),this.KW&&this.tQ?this.OQ(t):"playable-ad-single-file"===this.cf.x4()?g.Ao(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("local"===this.cQ?this.bQ:this.vQ).fc(()=>g._o(t))):g._o(t)}Io(t){return g.bo(t)?("flat"===this.XW&&(t=t.toLowerCase()),this.KW&&this.tQ?this.RQ(t):"playable-ad-single-file"===this.cf.x4()?g.Do(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("local"===this.cQ?this.bQ:this.vQ).fc(()=>g.Io(t))):g.Io(t)}async Go(t){const s=await this.Io(t);return JSON.parse(s)}PQ(t,s){return"flat"===this.XW&&(t=t.toLowerCase()),this.cf.x3("runtime","cordova-fetch-local-file",{filename:t,as:s})}RQ(t){return this.PQ(t,"text")}async LQ(t){const s=await this.PQ(t,"buffer"),i=e(t);return new Blob([s],{type:i})}async kQ(t){"flat"===this.XW&&(t=t.toLowerCase());let s=this.ZW.get(t);if(!s){const i=await this.LQ(t);s=URL.createObjectURL(i),this.ZW.set(t,s)}return s}OQ(t){return this.PQ(t,"buffer")}J3(t){"flat"===this.XW&&(t=t.toLowerCase());let s=this.rQ+t;return"Gecko"===g.ci.Mi&&"preview"===this.cf.x4()?this.FQ(s):s}W3(t){return g.To(t)?Promise.resolve(t):this.KW&&this.tQ?this.kQ(t):"playable-ad-single-file"===this.cf.x4()?URL.createObjectURL(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("flat"===this.XW&&(t=t.toLowerCase()),Promise.resolve(t))}jQ(s){if(g.To(s)||"preview"!==this.cf.x4()||!this.sQ||!s)return s;try{const t=new URL(s,location.href);return t.searchParams.set("__c3_client_id",this.sQ),t.toString()}catch(t){return console.warn("Invalid iframe URL: "+s),s}}zQ(t){return this.W3(t)}BQ(t){if(t.UQ&&!yh.has(t.UQ))throw new Error("invalid load policy");let s=this.fQ.get(t.url);return s||(s=g.un(g.WQ,this,{url:t.url,size:t.size||0,UQ:t.UQ||this.cQ}),this.fQ.set(s.QQ(),s),this.mQ)||(this.gQ+=s.rc(),this.pQ.push(s.YQ().then(()=>this.JQ(s.rc())))),s}VQ(t){this.fQ.delete(t.QQ())}async HQ(){try{await Promise.all(this.pQ),this.MQ=1}catch(t){console.error("Error loading: ",t),this.wQ=!0,this.TQ()}}qQ(){this.mQ=!0}XQ(){return this.wQ}JQ(t){this.yQ+=t,this.SQ.z1()}TQ(){const t=g.un(g.Event,"loadingprogress");this.MQ=g.gn(this.yQ/this.gQ,0,1),t.progress=this.MQ,this.cf.Qf().dispatchEvent(t)}ZQ(){return this.MQ}KQ(t){g.Yr(this.dQ,t),this.dQ.length&&this.pQ.push(this.$Q())}async $Q(){const t=[],s=[];for(const[i,e,h]of this.dQ)this.gQ+=h,t.push(this.tY(i,e,s).then(()=>this.JQ(h)));await Promise.all(t),this.cf.RO()&&0<s.length&&await this.cf.x3("runtime","load-webfonts",{webfonts:s})}async tY(s,i,e){try{let t=await this.W3(i);"Gecko"===g.ci.Mi&&(s=`'${s}'`),("Gecko"===g.ci.Mi&&"preview"===this.cf.x4()||"playable-ad-single-file"===this.cf.x4())&&(t=this.FQ(t));const h=new FontFace(s,`url('${t}')`);(this.cf.RO()?self:document).fonts.add(h),await h.load(),this.cf.RO()&&e.push({name:s,url:t})}catch(t){console.warn(`[C3 runtime] Failed to load web font '${s}': `,t)}}D3(t){return!!this.iQ[t]}sY(t,s){this.hQ=!!s;for(const[i,e,h]of t)this.eQ.set(i,{fileName:i,iY:e.map(t=>({type:t[0],eY:t[1],hY:i+t[1],fileSize:t[2]})),isMusic:h})}nY(t){"flat"===this.XW&&(t=t.toLowerCase());const s=this.eQ.get(t);if(!s)return null;let i=null;for(const e of s.iY)if(i||"audio/webm; codecs=opus"!==e.type||(i=e),this.D3(e.type))return e;return i}rY(t){const s=this.nY(t);return s?{url:this.J3(s.hY),type:s.type}:null}aY(){if(this.hQ){const t=[];for(const s of this.eQ.values())if(!s.isMusic){const i=this.nY(s.fileName);i&&t.push({originalUrl:s.fileName,url:this.J3(i.hY),type:i.type,fileSize:i.fileSize})}return t}return[]}uY(t){return"preview"===this.cf.x4()&&(t=new URL(t,location.href).toString()),this.uQ.get(t)||null}FQ(t){let s=this.lQ.get(t);if(!s){const i=this.uY(t);if(!i)return t;s=URL.createObjectURL(i),this.lQ.set(t,s)}return s}vO(){return this.xQ}async K3(...t){const s=await Promise.all(t.map(t=>this.W3(t)));if(this.cf.RO())if(1===t.length){const i=t[0];await import((g.bo(i)?"./":"")+i)}else{const e=t.map(t=>`import "${g.bo(t)?"./":""}${t}";`).join("\n"),h=URL.createObjectURL(new Blob([e],{type:"application/javascript"}));await import(h)}else await Promise.all(s.map(t=>n(t)))}async s4(t){if(WebAssembly.compileStreaming){const s=await this.W3(t);return WebAssembly.compileStreaming(fetch(s))}{const i=await g._o(t);return WebAssembly.compile(i)}}async e4(t){const s=await this.W3(t);return this.cf.x3("runtime","add-stylesheet",{url:s})}}}{const wh=self.js;wh.lY=class extends wh.rn{constructor(t,s){super(),this.cY=t,this.cf=t.P3(),this.fY=s.url||"",this.dY=s.size,this.pY=s.UQ,this.mY=s.blob||null,this.gY=!!this.mY,this.zg=null}ln(){this.zg=null,this.cY=null,this.cf=null,this.mY=null}QQ(){return this.fY}rc(){return this.dY}YQ(){return"local"===this.pY||this.mY?(this.gY=!0,Promise.resolve()):(this.zg||(this.zg=this.cY.Co(this.fY,this.pY).then(t=>(this.gY=!0,this.zg=null,this.mY=t)).catch(t=>{console.error("Error loading resource: ",t),this.zg=null})),this.zg)}yY(){return this.gY}MY(){return this.mY?Promise.resolve(this.mY):this.zg||this.cY.Co(this.fY,this.pY)}}}{const Sh=self.js,un=new Sh.g1,ln=new Set;Sh.WQ=class extends Sh.lY{constructor(t,s){super(t,s),this.wY=null,this.SY=null,this.wd=0,this.TY=-1,this.bY=-1,ln.add(this)}ln(){if(0!==this.wd)throw new Error("released image asset which still has texture references");this.cY.VQ(this),this.wY=null,ln.delete(this),super.ln()}static vY(){for(const t of ln)t.wY=null,t.SY=null,t.wd=0}bW(t,s){return s=s||{},this.wd++,this.SY?Promise.resolve(this.SY):(this.wY||(s.fb=this.cf._4().xY(),this.wY=this.IY(t,s)),this.wY)}async IY(s,i){try{const e=await this.MY();return 0===this.wd?this.wY=null:await un.fc(async()=>{const t=await s.gD(e,i);return this.wY=null,0===this.wd?(s.b2(t),null):(this.SY=t,this.TY=t.lm(),this.bY=t.xm(),this.SY)})}catch(t){throw console.error("Failed to load texture: ",t),t}}SC(){if(this.wd<=0)throw new Error("texture released too many times");if(this.wd--,0===this.wd&&this.SY){const t=this.SY.RS();t.b2(this.SY),this.SY=null}}GY(){return this.wd}E2(){return this.SY}lm(){return this.TY}xm(){return this.bY}async CY(){const t=await this.MY();return Sh.Qi.ImageBitmap?createImageBitmap(t):Sh.Lo(t)}}}{let t=function(t,s){return t.m3()._Y()-s.m3()._Y()};t;const cn=self.js;cn.EY=class extends cn.rn{constructor(t,s,i){super(),this.AY=t,this.su=s,this.iu=i,this.DY=[],this.NY=!0,this.LY=new Set,this.OY=!1}ln(){cn.Br(this.DY),this.LY.clear(),this.AY=null}c0(){cn.Br(this.DY),this.NY=!0,this.LY.clear(),this.OY=!1}RY(){this.NY=!1}ec(){if(this.DY.length){if(this.DY.length>this.LY.size)return!1;this.PY()}return!0}kY(t){this.LY.has(t)?(this.LY.delete(t),0===this.LY.size&&(this.OY=!1)):(this.DY.push(t),this.NY=1===this.DY.length)}v0(t){this.LY.add(t),this.OY=!0,50<=this.LY.size&&this.PY()}PY(){this.OY&&(this.DY.length===this.LY.size?this.c0():(cn.Xr(this.DY,this.LY),this.LY.clear(),this.OY=!1))}FY(){this.NY||(this.DY.sort(t),this.NY=!0)}jY(t){this.PY(),this.FY(),this.DY.length&&t.push(this.DY)}}}{const fn=self.js;fn.zY=class extends fn.rn{constructor(t,s){super(),this.BY=t,this.UY=s,this.WY=fn.un(fn.$l)}ln(){this.WY.ln(),this.WY=null}QY(t,s,i){let e=this.WY.hi(t,s);return e||(i?(e=fn.un(fn.EY,this,t,s),this.WY.Set(t,s,e),e):null)}YY(t){return Math.floor(t/this.BY)}JY(t){return Math.floor(t/this.UY)}VY(e,h,n){if(h)for(let i=h.xu(),t=h.Gu();i<=t;++i)for(let t=h.Iu(),s=h.Cu();t<=s;++t)if(!n||!n.Xu(i,t)){const r=this.QY(i,t,!1);r&&(r.v0(e),r.ec())&&this.WY.hc(i,t)}if(n)for(let i=n.xu(),t=n.Gu();i<=t;++i)for(let t=n.Iu(),s=n.Cu();t<=s;++t)h&&h.Xu(i,t)||this.QY(i,t,!0).kY(e)}HY(t,s){let i=this.YY(t.xu()),e=this.JY(t.Iu()),h=this.YY(t.Gu()),n=this.JY(t.Cu());for(;i<=h;++i)for(let t=e;t<=n;++t){const r=this.QY(i,t,!1);r&&r.jY(s)}}qY(t){let s=t.xu(),i=t.Iu(),e=t.Gu(),h=t.Cu();for(;s<=e;++s)for(let t=i;t<=h;++t){const n=this.QY(s,t,!1);n&&n.RY()}}}}{let r=function(t,s){return t.m3()._Y()-s.m3()._Y()},t=function(t,s){return t.m3().yT()-s.m3().yT()};r,t;const w=self.js,dn=new w.Rect,pn=new w.tl,mn=[],gn=(new w.Rect,new w.Rect,self.bs),xh=gn.As,Uh=gn.Ds,vh=gn.Gs,yn=vh.create(),Mn=xh.create(),wn=Uh.create(),Sn=xh.create(),Tn=xh.create(),bn=xh.create(),vn=w.un(w.tu),xn=(w.un(w.Rect),[]),In=[],Gn=[],Cn={name:"",sid:-1,XY:!1,isVisible:!0,isInteractive:!0,Bk:!1,backgroundColor:[1,1,1,1],iF:!0,ZY:[1,1],opacity:1,nF:!1,KY:!1,$Y:!1,tJ:!1,scaleRate:1,wL:0,sF:0,sJ:[],iJ:[],eJ:[]};w.hJ=class extends w.rn{constructor(t,s,i){super(),i=Object.assign({},Cn,i),this.nJ=t,this.cf=t.P3(),this.rJ=s,this.pn=i.name,this.Xg=-1,this.oJ=!!i.Bk,this.aJ=-1,this.uJ=i.sid,this.lJ=!!i.XY,this.cJ=!!i.isVisible,this.fJ=!!i.isInteractive,this.dJ=w.un(w.Jo),this.dJ.Qa(i.backgroundColor),this.pJ=!!i.iF,this.mJ=i.ZY[0],this.gJ=i.ZY[1],this.KS=w.un(w.Jo,1,1,1,i.opacity),this.yJ=w.un(w.Jo),this.MJ=!!i.nF,this.wJ=!!i.KY,this.SJ=!!i.$Y,this.TJ=!!i.tJ,this.bJ=i.scaleRate,this.ZS=i.wL,this.vJ=null,this.xJ=1,this.$S=i.sF,this.IJ=0,this.GJ=0,this.CJ=0,this._J=!1,this.mE=w.un(w.Rect),this.EJ=w.un(w.Rect),this.AJ=w.un(w.Rect),this.DJ=!0,this.l2=vh.create(),this.NJ=!0,this.nL=vh.create(),this.LJ=!0,this.OJ=w.un(w.hy.my),this.RJ=!0,this.PJ=[],this.kJ=i.sJ,this.FJ=[],this.jJ=[],this.zJ=new Map,this.DY=[],this.BJ=!1,this.UJ=!1,this.WJ=!1;const h=this.cf._4();this.QJ=w.un(w.YJ,this,i.iJ),this.gO=w.un(w.hy.gN,h.JJ(),{nN:(t,s)=>{const i=s.aO(),e=i.fD();t.iT(i.VJ()),t.SD(e),t.TD(e),h.HJ(e)},oN:t=>this.YP().qJ(t)}),this.XJ=!0,this.ZJ=!0,this.KJ=null,this.$J=[],this.tV=!1,this.sV=w.un(w.Rect,0,0,-1,-1),this.iV=w.un(w.Rect,0,0,-1,-1),this.eV=new self.fk(this),this.hV(),this.nV()&&(this.KJ=w.un(w.zY,this.cf.kO(),this.cf.jO())),this.rV=i.eJ.map(t=>w.hJ.oV(this.nJ,this,t))}aV(){for(const t of this.kJ){const s=this.cf.uV(t[1]);this.nJ.lV(s),s.cV()||(s.fV(t),s.dV(this.Xg)),this.FJ.push(t),this.zJ.set(t[2],t)}w.Yr(this.PJ,this.FJ),this.kJ=null}static oV(t,s,i){return w.un(w.hJ,t,s,{name:i[0],sid:i[2],isVisible:i[3],isInteractive:i[13],Bk:i[19],backgroundColor:i[4].map(t=>t/255),iF:i[5],ZY:[i[6],i[7]],opacity:i[8],nF:i[9],KY:i[17],$Y:i[18],tJ:i[10],scaleRate:i[11],wL:i[12],sF:i[16],sJ:i[14],iJ:i[15],eJ:i[20]})}ln(){for(const t of this.rV)t.ln();w.Br(this.rV);for(const s of this.DY)this.cf.OF(s);w.Br(this.DY),this.QJ.ln(),this.QJ=null,this.gO.ln(),this.gO=null,this.eV=null,this.rJ=null,this.nJ=null,this.cf=null}pV(t){return this.zJ.get(t)}mV(h){let n=this.nJ.gV(),r=0,o=this.FJ;for(let e=0,t=o.length;e<t;++e){let t=o[e],s=this.cf.uV(t[1]),i=!0;if(!s.yV()||n){const a=this.cf.MV(t,this,!0);h.push(a),s.wV()&&(i=!1,this.jJ.push(a.BF()))}i&&(o[r]=o[e],++r)}w.zr(o,r),this.cf.WP(),this.T3()}SV(t,s){if(!t.TP().Z4())throw new Error("instance is not of world type");const i=t.m3();if(i.g3()!==this)throw new Error("instance added to wrong layer");this.DY.push(t),0!==i.yT()&&(this.WJ=!0),s&&this.nV()&&t.m3().Bj(),this.T3(t)}TV(t){this.DY.includes(t)||(this.DY.push(t),0!==t.m3().yT()&&(this.WJ=!0),this.T3(t))}bV(t,s){const i=t.m3();if(i.g3()!==this)throw new Error("instance added to wrong layer");this.DY.unshift(t),0!==i.yT()&&(this.WJ=!0),this.T3(t),s&&this.nV()&&t.m3().Bj()}vV(t,s){const i=this.DY.indexOf(t);i<0||(s&&this.nV()&&t.m3().xV(),this.DY.splice(i,1),this.T3(t),this.IV())}GV(){this.WJ=!0}IV(){0===this.DY.length&&(this.WJ=!1)}CV(t){if(t){const s=new Set;for(const i of this.DY){const e=i.m3()._Y();0<=e&&s.add(e)}let t=-1;for(const h of this.DY){const n=h.m3();if(!(0<=n._Y())){for(++t;s.has(t);)++t;n._V(t)}}}this.DY.sort(r)}EV(){}AV(){for(const t of this.DY)t.CF().wV()||this.cf.OF(t);this.cf.WP(),w.Br(this.DY),this.WJ=!1,this.T3()}DV(s,t,i,e,h,n){const r=this.cf.ZO(),o=this.cf.NV(),a=s.LV(),u=[];for(const l of this.FJ){const c=l[0],f=c[0],d=c[1];if(t.Xu(f,d)){const p=o[l[1]];if(p!==s){if(!a)continue;if(!s.OV(p))continue}let t=h;if(!t){const y=this.cf.f3();t=this.HR()===y?this:(t=y.RV(this.tf()))||y.M3(this.SO())}const m=this.cf.MV(l,t,!1,void 0,void 0,!1,n),g=(t.FP(m),m.m3());g.Yj(i,e),g.Bj(),r.jP(!0),m.zP(),r.jP(!1),u.push(m)}}return u}RP(){return this.DY.length}HR(){return this.nJ}tf(){return this.pn}PV(t){this.Xg=t}SO(){return this.Xg}kV(t){this.aJ=t}PU(){return this.aJ}Uk(){return this.oJ}Wk(t){this.oJ!==(t=!!t)&&(this.oJ=t,this.nJ.FV(),this.cf.b3())}jV(){let t=this.Ek();return(t?t.Nk():this.HR().zV()).indexOf(this)}BV(){return this.uJ}P3(){return this.cf}UV(){return this.lJ}WV(){for(const t of this.Ak())if(t.UV())return!0;return!1}z4(){return this.cf.z4()}YP(){return this.QJ}wO(){return this.QV(),this.gO}QV(){const t=this.YV();if(this.XJ||t!==this.ZJ||this.gO.rL()){const s=this.YP().JV();this.gO.oL(s.map(t=>t.$v()),{uN:s.map(t=>t.SO()),lN:!t,mN:!0}),this.XJ=!1,this.ZJ=t}}Ez(){this.YP().Ez(),this.XJ=!0}nV(){return this.TJ&&!this.SJ}VV(){return this.KJ}HV(){this.tV=!1}Fk(){for(const t of this.qV())if(!t.Rk())return!1;return!0}Rk(){return this.cJ}Pk(t){this.cJ!==(t=!!t)&&(this.cJ=t,this.cf.b3())}zk(t){this.fJ=!!t}jk(){return this.fJ}Yk(){for(const t of this.qV())if(!t.jk())return!1;return!0}lF(t){if(this._J!==(t=!!t)){if(this._J=t){const s=this.HR();this.GJ=s.sk(),this.CJ=s.ek()}this.XV(),this.cf.b3()}}ZV(){return this._J}$P(t){const s=this.HR(),i=s.KV(),e=s.$V();this.GJ!==(t=(t=e<t?e:t)<i?i:t)&&(this.GJ=t,this.ZV())&&(this.XV(),this.cf.b3())}ik(t){const s=this.HR(),i=s.t8(),e=s.s8();this.CJ!==(t=(t=e<t?e:t)<i?i:t)&&(this.CJ=t,this.ZV())&&(this.XV(),this.cf.b3())}sk(){return this.ZV()?this.GJ:this.HR().sk()}ek(){return this.ZV()?this.CJ:this.HR().ek()}fF(){return this.i8(),this.mE}e8(){return this.i8(),this.EJ}h8(){return this.i8(),this.AJ}xk(){const t=this.HR();return[t.n8(),t.r8()]}mM(t){return this.cf.mM(t)}o8(c,e){const h=this.e8();if(0===c)e.C(h);else{let o=h.Nu(),a=h.Lu(),t=this.a8(c),s=h.width()/t,i=h.height()/t,[u,l]=this.xk();if(.5!==u||.5!==l){let t=this.u8(),s=this.cf,i=this.mM()/t,e=(u-.5)*s.l8()/i,h=(l-.5)*s.c8()/i,n=this.KP(),r=(0!==n&&(vn.set(e,h),vn.rotate(n),e=vn.nu(),h=vn.ou()),w.An(t,0,c));o+=w.Pt(e,0,r),a+=w.Pt(h,0,r)}e.set(o-s/2,a-i/2,o+s/2,a+i/2)}}_A(){return this.KS.fa()}AA(t){t=w.gn(t,0,1),this.KS.fa()!==t&&(this.KS.oa(t),this.hV(),this.cf.b3())}hV(){this.yJ.C(this.KS),this.yJ.ba()}VJ(){return this.yJ}YV(){return this.KS.Ma(1,1,1,1)}qk(){return this.bJ}Hk(t){this.bJ!==t&&(this.bJ=t,this.XV(),this.cf.b3())}Kk(){return this.mJ}tF(){return this.gJ}f8(t,s){this.mJ===t&&this.gJ===s||(this.mJ=t,this.gJ=s,this.XV(),this.cf.b3())}Zk(t){this.f8(t,this.tF())}$k(t){this.f8(this.Kk(),t)}MT(t){this.$S!==t&&(this.$S=t,this.cf.b3())}yT(){return this.$S}ZP(t){t=w.yn(t),this.IJ!==t&&(this.IJ=t,this.XV(),this.cf.b3())}KP(){return w.yn(this.nJ.KP()+this.IJ)}Xk(){return this.IJ}d8(){return 0<this.DY.length}w3(){return this.DY}p8(){return this.m8()&&this.SJ?(w.Yr(Gn,this.w3()),Gn.sort((t,s)=>this.g8(t,s)),Gn):this.w3()}y8(t){w.qh(t,this.p8());for(const s of this.rV)s.Fk()&&0<s._A()&&s.y8(t)}g8(t,s){const i=this.HR().M8(),e=i[0],h=i[1],n=i[2],r=t.m3(),o=s.m3(),a=r.fT()-e,u=r.mT()-h,l=r.yT()-n,c=o.fT()-e,f=o.mT()-h,d=o.yT()-n;return c*c+f*f+d*d-(a*a+u*u+l*l)}uF(){return this.dJ}hF(){return this.pJ}eF(t){this.pJ!==(t=!!t)&&(this.pJ=t,this.cf.b3())}oF(){return this.MJ}rF(t){this.MJ!==(t=!!t)&&(this.MJ=t,this.cf.b3())}w8(){return!this.P3().S8()||!this.wJ}m8(){return!this.w8()}T8(){return this.m8()&&this.HR().b8()}v8(){if(!this.T8())return!1;for(const t of this.rV)if(!t.v8())return!1;return!0}sT(t){this.ZS!==t&&(this.ZS=t,this.cf.b3())}aF(){return this.ZS}x8(){return!this.rJ}Ek(){return this.rJ}I8(t){this.rJ=t}Nk(){return this.rV}G8(){return 0<this.rV.length}C8(t,s=!0){s?this.rV.push(t):this.rV.unshift(t)}_8(t,s,i){let e=this.rV.indexOf(s);if(-1===e)throw new Error("cannot find layer to insert by");i&&++e,this.rV.splice(e,0,t)}E8(t){const s=this.rV.indexOf(t);if(-1===s)throw new Error("cannot find layer to remove");this.rV.splice(s,1)}A8(){for(const t of this.rV)if(t.D8())return!0;return!1}*Ok(){for(const t of this.rV)yield*t.Ok();yield this}*Ak(){let t=this.Ek();for(;t;)yield t,t=t.Ek()}*qV(){yield this,yield*this.Ak()}N8(t){for(const s of this.Ak())if(s===t)return!0;return!1}L8(t){return this===t||this.mJ===t.mJ&&this.gJ===t.gJ&&this.xJ===t.xJ&&this.bJ===t.bJ&&this.IJ===t.IJ&&this.sk()===t.sk()&&this.ek()===t.ek()}O8(){return{parallaxX:this.Kk(),parallaxY:this.tF(),scale:this.Vk(),scaleRate:this.qk(),angle:this.Xk(),hasOwnScroll:this.ZV(),scrollX:this.sk(),scrollY:this.ek()}}P8(t){this.f8(t.parallaxX,t.parallaxY),this.Jk(t.scale),this.Hk(t.scaleRate),this.ZP(t.angle),this.lF(t.hasOwnScroll),this.$P(t.scrollX),this.ik(t.scrollY),this.i8()}k8(t){if(0!==t.size){const s=w.Xr(this.DY,t);0<s&&(this.IV(),this.T3())}}T3(t){this.BJ=!1,this.tV=!1,t&&!t.CF().TP().tP()||(this.UJ=!1)}F8(){if(!this.BJ){if(this.DY.sort(t),this.nV())for(let t=0,s=this.DY.length;t<s;++t){const i=this.DY[t].m3();i._V(t),this.KJ.qY(i.j8())}else for(let t=0,s=this.DY.length;t<s;++t)this.DY[t].m3()._V(t);this.BJ=!0}}z8(){if(!this.UJ){let t=this.nJ.B8(this.PU()),s=t.map(t=>[...t.Ok()]).flat(),i=0;for(const e of s){for(const h of e.w3())h.CF().TP().tP()&&h.m3().U8(i++);e.W8()}}}W8(){this.UJ=!0}Q8(){return{isVisible:this.Fk(),opacity:this._A(),isInteractive:this.jk()}}Y8(t,s,i){const e=t.m3(),h=s.m3();if(e.g3()!==this||h.g3()!==this)throw new Error("can't arrange Z order unless both objects on this layer");let n=e.y3(),r=h.y3();return n!==r+(i?1:-1)&&(w.Jr(this.DY,n),n<r&&r--,i&&r++,r===this.DY.length?this.DY.push(t):this.DY.splice(r,0,t),this.T3(t),!0)}J8(t,s){let i=[],e=0,h=0,n=t.length,r=s.length;for(;e<n&&h<r;){const o=t[e],a=s[h];o.m3()._Y()<a.m3()._Y()?(i.push(o),++e):(i.push(a),++h)}for(;e<n;++e)i.push(t[e]);for(;h<r;++h)i.push(s[h]);return i}V8(s){const i=[],e=s.length;for(let t=0;t<e-1;t+=2){const h=s[t],n=s[t+1];i.push(this.J8(h,n))}return e%2==1&&i.push(s[e-1]),i}H8(t){for(;1<t.length;)t=this.V8(t);return t[0]}q8(){return this.F8(),w.Br(mn),this.KJ.HY(this.fF(),mn),mn.length?1===mn.length?mn[0]:this.H8(mn):[]}D8(){return this.Fk()&&0<this._A()&&this.X8()}X8(){if(this.d8()||!this.hF())return!0;for(const t of this.rV)if(t.X8())return!0;return!1}Z8(){return this.oF()||!this.YV()||0!==this.aF()||this.QJ.K8()}tH(){if(this.Z8())return!0;for(const t of this.rV)if(t.tH())return!0;return!1}fD(){return this.vJ}a8(t){if(this.nJ.Ck())return 1;{const s=this.sH();return s/(s-t)}}iH(t){const s=this.cf.xF();if(this.nJ.Ck())return s;{const i=this.sH(),e=this.mM();return e/Math.abs(i-t)*s}}XV(){this.LJ=!0,this.RJ=!0,this.DJ=!0}eH(t){return this.LJ&&(this.hH(t,this.nL,0,0,null),this.LJ=!1),this.nL}u8(t){return this.mM(t)/this.nH()}sH(){return this.T8()?this.HR().M8()[2]:this.u8()}rH(){if(this.T8()){const t=this.HR().M8();return[t[0],t[1],t[2]]}return this.oH()}oH(t=0,s=0,h=0){let n=this.cf,i=this.HR(),e=n.aH(),r=n.uH(),o=(this.sk()-e)*this.mJ+e,a=(this.ek()-r)*this.gJ+r,u=(n.UO()&&(o=Math.round(o),a=Math.round(a)),o+t),l=a+s,c=i.Ck()?this.mM(h):this.u8(h),[f,d]=this.xk();if(.5!==f||.5!==d){let t=this.mM(h)/c,s=(f-.5)*n.l8()/t,i=(d-.5)*n.c8()/t,e=this.KP();0!==e&&(vn.set(s,i),vn.rotate(e),s=vn.nu(),i=vn.ou()),u+=s,l+=i}return[u,l,c]}hH(t,s,i,e,h){const n=this.cf,r=this.HR();if(this.T8()){xh.C(Sn,r.M8()),xh.C(Tn,r.lH()),xh.C(bn,r.cH());const o=n.aH(),a=n.uH(),u=Tn[0]-Sn[0],l=Tn[1]-Sn[1],c=Tn[2]-Sn[2];Sn[0]=(Sn[0]-o)*this.mJ+o,Sn[1]=(Sn[1]-a)*this.gJ+a,Sn[2]*=Math.max(this.mJ,this.gJ),Tn[0]=Sn[0]+u,Tn[1]=Sn[1]+l,Tn[2]=Sn[2]+c}else{const[f,d,p]=this.oH(i,e,h),m=(xh.set(Sn,f,d,p),xh.set(Tn,f,d,p-100),this.KP());0===m?xh.set(bn,0,1,0):xh.set(bn,Math.sin(m),Math.cos(m),0)}t.DM(s,Sn,Tn,bn,h||n.c8())}fH(){this.NJ=!0,this.RJ=!0,this.DJ=!0}dH(t){return this.NJ&&(this.pH(t),this.NJ=!1),this.l2}pH(t){const s=this.cf._4(),[i,e]=this.xk();if(this.nJ.Ck())t.AM(this.l2,s.mH(),s.gH());else if(.5===i&&.5===e)vh.C(this.l2,s.yH());else{const h=s.mH(),n=s.gH();t._M(this.l2,h/n,i,e)}}LW(t,s=!0,i=0,e=0,h=0){s&&t.yA(this.dH(t));let n;n=0===i&&0===e&&0===h?this.eH(t):(this.hH(t,yn,i,e,h),yn),t.vA(n)}MH(t){this.LW(t),t.Mw(this.yT())}wH(t){let s=null;if(t.mS()&&this.cf.SH()){const i=this.cf._4().TH(this);i&&(s=i.iE(),t.CD(s))}return s}bH(t){if(t.EM()&&this.cf.SH()){const s=2*(this.SO()+1);t.StartMeasuringRenderPassTime(s,1+s)}}tb(t,s,i){let e=this.cf._4(),h=this.Z8(),n=null,r=this.wH(t);if(this.bH(t),h){const o={cb:this.cf.zO(),Zb:!0,vH:!!t.EM()&&this.cf.xH()};"low"===e.IH()&&(o.width=e.mH(),o.height=e.gH()),n=this.cf.GH(o),this.vJ=n,t.MD(n),this.hF()&&t.nD(0,0,0,0)}else this.vJ=s,t.MD(s);if(this.hF()||t.ic(this.dJ),this.nJ.CH(t,this.vJ,this.rV,h&&this.hF()),this.bH(t),this.LW(t),t.Mw(this.yT()),t.aD(this.m8()),this.nH()>Number.EPSILON){this.F8();const a=this.nV()&&0===this.yT()&&!this.WJ;this.T8()?this._H(t):a?this.EH(t):this.AH(t,this.p8())}t.Mw(0),t.Sw(0),h&&(t.aD(!1),this.DH(t,n,s,i)),r&&t.ED(r),this.vJ=null}AH(i,e){let h=this.fF(),n=this.vJ,r=this.HR().Ck(),o=this.HR().NH(),a=null;for(let t=0,s=e.length;t<s;++t){const u=e[t];if(u!==a){const l=(a=u).m3();l.Fk()&&l.LH(h,o,r)&&this.OH(u,l,i,n)}}}_H(e){const h=this.vJ,n=this.RH(),r=xn,o=In,a=this.p8();for(let s=0,i=a.length;s<i;){const u=a[s],l=u.m3();if(l.Fk()&&l.PH(n)){(!u.kH()||0<l.FH())&&o.push(u);const c=u.m3().Vj();r.push(u);let t=s+1;for(;t<i;++t){const f=a[t],d=f.m3();if(d.Fk()&&d.PH(n)){if(d.Vj()!==c)break;(f.kH()?(0<d.FH()&&o.push(f),r):o).push(f)}}if(1!==r.length||r[0].jH()){this.zH(e,r);for(let t=0,s=o.length;t<s;++t){const p=o[t],m=p.m3();m.BH(!0),this.OH(p,m,e,h),m.BH(!1)}}else{this.OH(u,l,e,h);for(let t=0,s=o.length;t<s;++t){const g=o[t];if(g!==u){const y=g.m3(),M=y.g3();M.OH(g,y,e,h)}}}s=t,w.Br(r),w.Br(o)}else++s}}zH(i,e){const h=this.vJ;i.vD();for(let t=0,s=e.length;t<s;++t){const n=e[t],r=n.m3();r.UH(!0),this.WH(n,r,i)}i.xD();for(let t=0,s=e.length;t<s;++t){const o=e[t],a=o.m3();this.OH(o,a,i,h),a.UH(!1)}i.GD()}EH(t){let s=this.KJ,i=this.iV,e=this.sV,h=this.fF(),n;i.set(s.YY(h.xu()),s.JY(h.Iu()),s.YY(h.Gu()),s.JY(h.Cu())),this.tV&&i.equals(e)?n=this.$J:(n=this.q8(),this.tV=!0,e.C(i)),this.AH(t,n),n!==this.$J&&w.Yr(this.$J,n)}OH(t,s,i,e){s.K8()?this.QH(t,s,i,e):this.WH(t,s,i)}WH(t,s,i){const e=s.YH();i.KM()!==e&&e.tT(),t.tb(i)}QH(t,s,i,e){this.JH(t,s,i,e,null)&&this.LW(i)}JH(t,s,i,e,h){const n=s.jj().wO();return n.yL(i,e,{ML:t,wL:s.aF(),devicePixelRatio:this.cf.VH(),time:t.HH(),SL:this.cf.qH()*this.nH(),TL:this.KP(),UL:s.qj(),WL:n.rO()?null:this.XH(s),GL:h&&h.GL,CL:h&&h.CL,_L:h&&h._L,EL:h&&h.EL}),i.Mw(this.yT()),n.IA()}DH(t,s,i,e){const h=this.QJ.JV(),n=this.cf;0===h.length?(t.MD(i),t.kM(),e&&0===this.ZS&&this.YV()?t.wD(s):(t.sT(this.ZS),t.iT(this.yJ),t.SD(s)),t.TD(s),n.HJ(s)):this.wO().yL(t,i,{ML:this,wL:this.aF(),devicePixelRatio:n.VH(),SL:n.qH()*this.nH(),TL:this.KP(),UL:this.fF(),WL:null,aN:!0})}Vk(){return this.xJ}Jk(t){this.xJ!==t&&(this.xJ=t,this.nJ.ZH(),this.XV(),this.cf.b3())}xF(){return this.nH()*this.cf.xF()}QU(){return this.nH()*this.cf.QU()}nH(){return(this.xJ*this.nJ.XP()-1)*this.bJ+1}i8(){if(this.DJ){this.DJ=!1;let t=this.cf.aH(),s=this.cf.uH(),i=(this.sk()-t)*this.mJ+t,e=(this.ek()-s)*this.gJ+s,h=this.nH(),n=this.cf.l8()/h,r=this.cf.c8()/h,o=i-n/2,a=e-r/2;this.cf.UO()&&(o=Math.round(o),a=Math.round(a));const u=this.EJ,l=(u.set(o,a,o+n,a+r),this.KP()),c=(0!==l&&(dn.C(u),dn.offset(-u.Nu(),-u.Lu()),pn.bl(dn,l),pn.xl(dn),dn.offset(u.Nu(),u.Lu()),u.C(dn)),this.$S);this.o8(c,this.mE),this.T8()?this.KH(c,this.AJ):this.AJ.C(this.mE)}}KH(t,s){let i=this.cf._4(),e=i.N4(),h=i.O4(),[n,r]=this.pF(0,0,t),[o,a]=this.pF(e,0,t),[u,l]=this.pF(e,h,t),[c,f]=this.pF(0,h,t),d=Math.min(n,o,u,c),p=Math.min(r,a,l,f),m=Math.max(n,o,u,c),g=Math.max(r,a,l,f);isFinite(d)||(d=-1/0),isFinite(p)||(p=-1/0),isFinite(m)||(m=1/0),isFinite(g)||(g=1/0),s.set(d,p,m,g)}pF(t,s,i=0){return this.$H(t,s,i,this.QU())}SF(t,s,i=0){return this.$H(t,s,i,this.xF()*this.z4())}$H(t,s,i,e){const h=this.cf,n=h.RS(),r=this.nH(),o=h.l8()/r,a=h.c8()/r,u=wn,l=(Uh.set(u,0,0,o,a),t/=e,s=u[3]-s/e,this.dH(n)),c=this.eH(n),f=Mn,d=w.hy.uy(t,s,i,c,l,u,f);return d?[f[0],f[1]]:[NaN,NaN]}t7(t,s){const i=this.xJ,e=this.bJ,h=this.mJ,n=this.gJ,r=this.IJ,o=(this.xJ=1,this.bJ=1,this.mJ=1,this.gJ=1,this.IJ=0,this.XV(),this.pF(t,s));return this.xJ=i,this.bJ=e,this.mJ=h,this.gJ=n,this.IJ=r,this.XV(),o}MF(t,s,i=0){return this.s7(t,s,i,this.QU())}bF(t,s,i=0){return this.s7(t,s,i,this.xF()*this.z4())}s7(t,s,i,e){const h=this.cf,n=h.RS(),r=this.nH(),o=h.l8()/r,a=h.c8()/r,u=wn,l=(Uh.set(u,0,0,o,a),this.dH(n)),c=this.eH(n),f=Mn,d=w.hy.ny(t,s,i,c,l,u,f);return d?[f[0]*e,(u[3]-f[1])*e]:[NaN,NaN]}i7(t,s){return t*=this.xF()*this.z4(),0!==s&&(t*=this.a8(s)),t}XH(t){const s=t.qj(),i=t.Vj(),e=t.FH(),u=i+e,l=s.xu(),c=s.Iu(),f=s.Gu(),d=s.Cu();if(this.T8()){if(this.e7(l,c,i)||this.e7(f,c,i)||this.e7(f,d,i)||this.e7(l,d,i))return null;if(0<e&&(this.e7(l,c,u)||this.e7(f,c,u)||this.e7(f,d,u)||this.e7(l,d,u)))return null}else if(u>=this.u8())return null;let[p,m]=this.bF(l,c,i),[g,y]=this.bF(f,d,i);if(0!==this.KP()||0<e||this.T8()){const[M,w]=this.bF(f,c,i),[S,T]=this.bF(l,d,i);if(0<e){let[t,s]=this.bF(l,c,u),[i,e]=this.bF(f,c,u),[h,n]=this.bF(f,d,u),[r,o]=this.bF(l,d,u),a=Math.min(p,g,M,S,t,i,h,r);g=Math.max(p,g,M,S,t,i,h,r),p=a,a=Math.min(m,y,w,T,s,e,n,o),y=Math.max(m,y,w,T,s,e,n,o),m=a}else{let t=Math.min(p,g,M,S);g=Math.max(p,g,M,S),p=t,t=Math.min(m,y,w,T),y=Math.max(m,y,w,T),m=t}}return dn.set(p,m,g,y),dn}RH(){return this.RJ&&(this.h7(),this.RJ=!1),this.OJ}h7(){const t=this.cf.RS(),s=this.dH(t),i=this.eH(t);this.OJ.by(i,s)}e7(t,s,i){return this.RH().xy(t,s,i)}n7(){const t={d:this.UV(),s:this.Vk(),a:this.Xk(),v:this.Rk(),i:this.jk(),html:this.Uk(),bc:this.dJ.toJSON(),t:this.hF(),sx:this.GJ,sy:this.CJ,hosp:this._J,px:this.Kk(),py:this.tF(),c:this.KS.toJSON(),sr:this.qk(),fx:this.QJ.IT(),cg:this.jJ};return t}r7(t){this.lJ=!!t.d,this.xJ=t.s,this.IJ=t.a,this.cJ=!!t.v,this.fJ=!t.hasOwnProperty("i")||t.i,this.oJ=!!t.html,this.dJ.Qa(t.bc),this.pJ=!!t.t,t.hasOwnProperty("sx")&&(this.GJ=t.sx),t.hasOwnProperty("sy")&&(this.CJ=t.sy),t.hasOwnProperty("hosp")&&(this._J=!!t.hosp),this.mJ=t.px,this.gJ=t.py,this.KS.Qa(t.c),this.hV(),this.bJ=t.sr,w.Yr(this.jJ,t.cg),w.Yr(this.FJ,this.PJ);let i=new Set(this.jJ),e=0;for(let t=0,s=this.FJ.length;t<s;++t)i.has(this.FJ[t][2])||(this.FJ[e]=this.FJ[t],++e);w.zr(this.FJ,e),this.QJ.GT(t.fx),this.XJ=!0}o7(){this.CV(!1),this.T3(),this.XV(),this.fH()}rk(){return this.eV}FP(t,s=!1){if(this.DY.includes(t))s&&this.DY.sort((t,s)=>{const i=t.m3().a7(),e=s.m3().a7();return i-e});else if(t.u7()){const i=[...t.v5()];i.push(t),i.sort((t,s)=>{const i=t.m3().a7(),e=s.m3().a7();return i-e});for(const e of i)if(e.jF())for(const h of e.zF())if(!i.includes(h)){const n=[...h.v5()];n.push(h),n.sort((t,s)=>{const i=t.m3().a7(),e=s.m3().a7();return i-e}),n&&n.length&&i.splice(i.length,0,...n)}for(const r of i)r.TP().Z4()&&this.SV(r,!0)}else if(t.TP().Z4()&&this.SV(t,!0),t.jF())for(const o of t.zF()){const a=[...o.v5()];if(a.push(o),a.sort((t,s)=>{const i=t.m3().a7(),e=s.m3().a7();return i-e}),a&&a.length)for(const u of a)u.TP().Z4()&&this.SV(u,!0)}}}}{let u=function(t,s,i,e){return t[0]===Math.fround(s)&&t[1]===Math.fround(i)&&t[2]===Math.fround(e)},T=function(t,s){C!==t&&(t.MH(s),C=t)},b=(u,T,self.js),e=self.C3Debugger,h=(b.un(b.Rect),b.un(b.Rect),b.un(b.Rect)),v=b.un(b.Jo),t=self.bs,l=t.As,a=[],x=[],I=[],G=[],C=null;b.l7=class extends b.rn{constructor(t,s,i){super(),this.c7=t,this.cf=t.P3(),this.pn=i[0],this.f7=i[1],this.d7=i[2],this.Xm=i[1],this.Zm=i[2],this.p7=!!i[3],this.m7=!!i[4],this.g7=i[5],this.y7=i[6],this.M7=i[7],this.w7=null,this.uJ=i[8],this.Xg=s,this.GJ=0,this.CJ=0,this.xJ=1,this.IJ=0,this.S7=new Set,this.T7=new Set,this.b7=new Set,this.v7=[],this.x7=[],this.I7=new Map,this.G7=new Map,this.C7=[],this._7=!1,this.E7=l.create(),this.A7=l.create(),this.D7=l.create(),this.N7=[],this.L7=[],this.O7=new Map,this.R7=new Map,this.P7=-1;const h=this.cf._4();this.QJ=b.un(b.YJ,this,i[11]),this.gO=b.un(b.hy.gN,h.JJ(),{nN:(t,s)=>{const i=s.aO(),e=i.fD();t.DA(),t.SD(e),t.TD(e),h.HJ(e)},oN:t=>this.YP().qJ(t)}),this.XJ=!0,this.k7=!1,this.vJ=null,this.F7={},this.j7=new Map,this.z7=!0,this.B7=new self.QP(this),this.U7=b.un(b.Event.Qf);for(const e of i[9])this.N7.push(b.hJ.oV(this,null,e));this.W7();for(const n of this.lk())n.aV();for(const r of i[10]){const o=this.cf.uV(r[1]);if(!o)throw new Error("missing nonworld object class");o.cV()||o.fV(r),this.C7.push(r),this.lV(o)}}ln(){for(const t of this.L7)t.ln();b.Br(this.L7),this.b7.clear(),this.w7=null,this.c7=null,this.cf=null}P3(){return this.cf}tf(){return this.pn}BV(){return this.uJ}SO(){return this.Xg}YP(){return this.QJ}wO(){return this.QV(),this.gO}QV(){const t="low"===this.cf._4().IH();if(this.XJ||this.k7!==t||this.gO.rL()){const s=this.YP().JV();this.gO.oL(s.map(t=>t.$v()),{uN:s.map(t=>t.SO()),cN:t,mN:!0}),this.XJ=!1,this.k7=t}}Ez(){this.YP().Ez(),this.XJ=!0}Q7(){let i=this.L7[0].nH();for(let t=1,s=this.L7.length;t<s;++t){const e=this.L7[t];0===e.Kk()&&0===e.tF()||(i=Math.min(i,e.nH()))}return i}Y7(){return.5*this.cf.l8()/this.Q7()}J7(){return.5*this.cf.c8()/this.Q7()}KV(){return this.V7()?-1/0:this.Y7()}$V(){return this.V7()?1/0:this.lm()-this.Y7()}t8(){return this.V7()?-1/0:this.J7()}s8(){return this.V7()?1/0:this.xm()-this.J7()}$P(t){const s=this.KV(),i=this.$V();this.GJ!==(t=(t=i<t?i:t)<s?s:t)&&(this.GJ=t,this.H7(),this.cf.b3())}sk(){return this.GJ}ik(t){const s=this.t8(),i=this.s8();this.CJ!==(t=(t=i<t?i:t)<s?s:t)&&(this.CJ=t,this.H7(),this.cf.b3())}ek(){return this.CJ}V7(){return this.p7}ZH(){this.$P(this.sk()),this.ik(this.ek());for(const t of this.L7)t.ZV()&&(t.$P(t.sk()),t.ik(t.ek()))}bk(t,s){this.g7===t&&this.y7===s||(this.g7=t,this.y7=s,this.q7()&&(this.X7(),this.H7(),this.cf.b3()))}n8(){return this.Ck()?.5:this.g7}r8(){return this.Ck()?.5:this.y7}NH(){const t=this.n8(),s=this.r8();return t<0||1<t||s<0||1<s}Ik(){this.m7&&(this.m7=!1,this.X7(),this.H7(),this.cf.b3())}Gk(){this.m7||(this.m7=!0,this.X7(),this.H7(),this.cf.b3())}Ck(){return this.m7}q7(){return!this.Ck()}Z7(t){this._7!==(t=!!t)&&(this._7=t,this.H7(),this.cf.b3())}b8(){return this._7}K7(t,s,i,e,h,n,r,o,a){u(this.E7,t,s,i)&&u(this.A7,e,h,n)&&u(this.D7,r,o,a)||(l.set(this.E7,t,s,i),l.set(this.A7,e,h,n),l.set(this.D7,r,o,a),this.t9())}t9(){this.H7(),this.cf.b3()}M8(){return this.E7}lH(){return this.A7}cH(){return this.D7}XP(){return this.xJ}qP(t){this.xJ!==t&&(this.xJ=t,this.H7(),this.ZH(),this.cf.b3())}ZP(t){t=b.yn(t),this.IJ!==t&&(this.IJ=t,this.H7(),this.cf.b3())}KP(){return this.IJ}lm(){return this.Xm}Sm(t){!isFinite(t)||t<1||(this.Xm=t)}xm(){return this.Zm}fm(t){!isFinite(t)||t<1||(this.Zm=t)}s9(){return this.w7}zV(){return this.N7}*lk(){for(const t of this.N7)yield*t.Ok()}uk(){return this.L7}i9(){return this.L7.length}g3(t){return"number"==typeof t?this.M3(t):this.RV(t.toString())}M3(t){return t=b.gn(Math.floor(t),0,this.L7.length-1),this.L7[t]}RV(t){return this.O7.get(t.toLowerCase())||null}e9(t){return!!this.RV(t)}h9(t){return this.R7.get(t)||null}X7(){for(const t of this.L7)t.fH()}H7(){for(const t of this.L7)t.XV()}pk(t,s,i){if(this.e9(t))throw new Error(`layer name '${t}' already in use`);if(!s&&i<2)throw new Error("invalid insert position");const e=2<=i?s:s.Ek(),h=b.un(b.hJ,this,e,{name:t,sid:Math.floor(1e15*Math.random()),XY:!0});this.n9(h,s,i),this.P3().b3(),this.FV()}gk(t,s,i){if(!s&&i<2)throw new Error("invalid insert position");t===s&&i<2||(this.r9(t),this.n9(t,s,i),this.P3().b3(),this.FV())}Mk(t){if(this.r9(t)){const s=this.cf.ZO();s.jP(!0),t.ln(),s.jP(!1),this.P3().b3(),this.FV()}}Sk(){const t=new Set;for(const s of this.lk())s.UV()&&!s.WV()&&t.add(s);if(0!==t.size){const i=this.cf.ZO();i.jP(!0);for(const e of t)this.r9(e),e.ln();i.jP(!1),this.P3().b3(),this.FV()}}n9(s,i,e){if(2<=e)if(i){if(i===s||i.N8(s))throw new Error(`cannot move layer '${s.tf()}' to sub-layer of itself`);i.C8(s,2===e),s.I8(i)}else 2===e?this.N7.push(s):this.N7.unshift(s),s.I8(null);else{const t=i.Ek();if(t){if(i.N8(s))throw new Error(`cannot move layer '${s.tf()}' to sub-layer of itself`);t._8(s,i,0===e),s.I8(t)}else{let t=this.N7.indexOf(i);if(-1===t)throw new Error("cannot find layer to insert by");0===e&&++t,this.N7.splice(t,0,s),s.I8(null)}}}r9(t){const s=t.Ek();if(s)return s.E8(t),!0;if(1<this.N7.length){const i=this.N7.indexOf(t);if(-1===i)throw new Error("cannot find layer to remove");return this.N7.splice(i,1),!0}return!1}W7(){this.L7=[...this.lk()],this.O7.clear(),this.R7.clear();for(let t=0,s=this.L7.length;t<s;++t){const i=this.L7[t];i.PV(t),this.O7.set(i.tf().toLowerCase(),i),this.R7.set(i.BV(),i)}}o9(){let t=0;for(const s of this.N7){for(const i of s.Ok())i.kV(t);s.Uk()&&t++}}a9(){return this.N7.at(-1).PU()+1}async FV(){this.W7(),this.o9(),this.P7=this.a9()}u9(){return this.P7}l9(){this.P7=-1}B8(t){const s=[];for(const i of this.N7){const e=i.PU();if(e===t)s.push(i);else if(t<e)break}return s}O8(){return{scrollX:this.sk(),scrollY:this.ek(),scale:this.XP(),angle:this.KP(),vpX:this.n8(),vpY:this.r8()}}P8(t){this.$P(t.scrollX),this.ik(t.scrollY),this.qP(t.scale),this.ZP(t.angle),this.bk(t.vpX,t.vpY)}c9(){let t=this.N7.filter(t=>t.D8())[0];for(;t;){if(!t.hF())return v.aa(t.uF()),v.oa(1),v;if(t.Z8())return v.Zo(0,0,0,0),v;t=t.Nk().filter(t=>t.D8())[0]}return v.Zo(0,0,0,0),v}gV(){return this.z7}f9(){return[...this.S7]}lV(t){if(t.jF())for(const s of t.p9().d9())this.S7.add(s);else this.S7.add(t)}m9(){return[...this.T7]}g9(t,s){if(t===this||!s)return Promise.resolve();t&&(b.Fo(this.T7,t.T7),t.T7.clear());const i=[];for(const e of this.S7)this.T7.has(e)||(i.push(e.y9(s)),this.T7.add(e));return Promise.all(i)}async M9(t){if(t.LV())throw new Error("cannot load textures for family");const s=this.cf.RS();if(s&&!s.C_()&&!this.T7.has(t)){this.T7.add(t);const i=t.y9(s);this.w9(i),await i,t.S9(),this.cf.b3()}}w9(t){this.b7.add(t),t.then(()=>this.b7.delete(t)).catch(()=>this.b7.delete(t))}T9(){return Promise.all([...this.b7])}b9(t){if(t.LV()||0<t.RP())throw new Error("cannot unload textures");const s=this.cf.RS();s&&this.T7.has(t)&&(this.T7.delete(t),t.v9(s))}x9(t,s){if(t!==this&&s)for(const i of this.T7)i.wV()||t.S7.has(i)||(i.v9(),this.T7.delete(i))}I9(){this.T7.clear()}async G9(t){const s=this.cf,i=this.c7,e=s.ZO(),h=(this.M7&&(this.w7=e.C9(this.M7),this.w7._9()),i.E9(this),this.Xm=this.f7,this.Zm=this.d7,this.GJ=s.kO()/2,this.CJ=s.jO()/2,this.ZH(),this.X7(),this.H7(),this.o9(),await this.cf._4().A9(this.a9(),!0),this.D9(t),this.cf.N9(!0),this.L9(),this.z7||this.O9(),this.R9(this.v7),this.R9(this.x7),this.P9(),i.k9(),s.WP(),this.cf.N9(!1),this.cf.F9());if(await Promise.all(h),b.Br(h),!s.j9()){for(const n of this.v7)n.z9();for(const r of this.x7)r.B9(this.I7,this.G7);for(const[o,a]of Object.entries(this.F7)){const u=this.cf.v6(parseInt(o,10));u&&!u.LV()&&u.yV()&&b.Br(a)}for(const l of this.v7)l.U9();for(const c of this.x7)c.U9()}b.Br(this.v7),b.Br(this.x7),this.I7.clear(),this.G7.clear(),await Promise.all([...this.S7].map(t=>t.W9(this.cf.RS()))),t&&(s.Qf().dispatchEvent(new b.Event("beforefirstlayoutstart")),await s.Q9(new b.Event("beforeprojectstart"))),await this.Y9(new b.Event("beforeanylayoutstart")),s.Qf().dispatchEvent(new b.Event("beforelayoutstart")),await this.Q9(new b.Event("beforelayoutstart")),s.j9()||await s.pj(b.q9.H9.V9.J9,null,null),s.Qf().dispatchEvent(new b.Event("afterlayoutstart")),await this.Q9(new b.Event("afterlayoutstart")),await this.Y9(new b.Event("afteranylayoutstart")),t&&(s.Qf().dispatchEvent(new b.Event("afterfirstlayoutstart")),await s.Q9(new b.Event("afterprojectstart"))),e.X9(i),await this.T9(),this.z7=!1}D9(t){for(const s of this.cf.NV())if(!s.LV()&&s.Z4())for(const i of s.NP()){const e=i.m3(),h=e.g3(),n=b.gn(h.SO(),0,this.L7.length-1),r=this.L7[n];e.S3(r,!0),r.TV(i)}if(!t)for(const o of this.L7)o.CV(!1)}L9(){for(const t of this.L7)t.mV(this.v7),t.EV()}O9(){let s=!1;for(const[t,i]of Object.entries(this.F7)){const e=this.cf.v6(parseInt(t,10));if(e&&!e.LV()&&e.yV())for(const h of i){let t=null;if(!e.Z4()||(t=h.hasOwnProperty("instJson")?this.h9(h.instJson.w.l):this.h9(h.w.l))){const n=this.cf.MV(e,t,!1,0,0,!0);h.hasOwnProperty("instJson")?n.GT(h.instJson):n.GT(h),s=!0,this.x7.push(n),h.hasOwnProperty("instJson")&&(this.I7.set(n,h),this.G7.set(h.index,n))}}}for(const r of this.L7)r.CV(!0),r.T3();s&&(this.cf.WP(),this.cf.Z9())}R9(s){for(const i of s)if(i.jF()){const e=i.m3(),t=i.K9();for(const h of i.CF().p9().tq())if(h!==i.CF()){const n=h.NP();if(n.length>t)i.sq(n[t]);else{let t;t=e?this.cf.MV(h,e.g3(),!0,e.fT(),e.mT(),!0):this.cf.MV(h,null,!0,0,0,!0),this.cf.WP(),h.iq(),i.sq(t),s.push(t)}}}}P9(){for(const t of this.C7){const s=this.cf.uV(t[1]);s.jF()||this.cf.MV(t,null,!0)}}eq(){let i=[],e=this.C7,h=0;for(let t=0,s=e.length;t<s;++t){const n=e[t],r=this.cf.uV(n[1]);r.wV()?r.jF()&&r.p9().hq()||i.push(this.cf.MV(n,null,!0)):(e[h]=n,++h)}b.zr(e,h),this.cf.WP(),this.R9(i)}DV(t,s,i,e,h,n,r){if(i)return i.DV(t,s,h,n,e,r);{const o=[];for(const a of this.L7)o.push(a.DV(t,s,h,n,e,r));return o.flat()}}async nq(){const t=this.c7;this.cf.j9()||(await this.Y9(new b.Event("beforeanylayoutend")),await this.Q9(new b.Event("beforelayoutend")),await this.cf.pj(b.q9.H9.V9.rq,null,null),await this.Q9(new b.Event("afterlayoutend")),await this.Y9(new b.Event("afteranylayoutend"))),t.oq(!0),this.cf.ZO().aq(),this.z7||this.uq();for(const s of this.L7)s.AV();for(const i of this.cf.NV())if(!(i.wV()||i.Z4()||i.TP().q4()||i.LV())){for(const e of i.NP())this.cf.OF(e);this.cf.WP()}t.oq(!1),t.QR()===this&&t.E9(null)}lq(t,s){const i=t.CF().BV().toString(),e=(this.F7.hasOwnProperty(i)||(this.F7[i]=[]),this.F7[i]),h={index:s,instJson:t.IT(),sceneGraphJson:{children:[]}};e.push(h),this.j7.set(t,h)}cq(t){const s=this.j7.get(t);for(const i of t.fq()){const e=this.j7.get(i);e&&s.sceneGraphJson.children.push({index:e.index,flags:b.mq.pq(i.m3())})}}uq(){this.j7.clear();let t=0;for(const s of this.L7){s.F8();for(const i of s.w3()){const e=i.CF();!e.wV()&&e.yV()&&(this.lq(i,t),t++)}}for(const h of this.L7)for(const n of h.w3()){const r=n.CF();!r.wV()&&r.yV()&&this.cq(n)}this.j7.clear()}gq(){this.F7={},this.z7=!0}fD(){return this.vJ}Z8(){const t=this.cf,s=t.RS().mS();return"low"===t._4().IH()||s&&t.xH()||this.QJ.K8()||s&&t.S8()}yq(t){const s=this.cf._4();if(this.Z8()){t.MD(null),t.nD(0,0,0,0);const i={cb:this.cf.zO(),Zb:t.EM()||this.cf.xH()||this.QJ.K8(),vH:!!t.EM()&&this.cf.xH()};"low"===s.IH()&&(i.width=s.mH(),i.height=s.gH()),this.vJ=this.cf.GH(i)}else this.vJ=null}Mq(t){this.cf.wq(t)&&(t.aD(!1),t.MD(null),t.kM(),t.wD(this.vJ))}Sq(t){this.Z8()&&(t.aD(!1),this.Tq(t,this.vJ))}bq(t){t.MD(this.vJ),t.ic(this.c9()),this.cf.S8()&&t.oD();const s=this.B8(0);this.CH(t,this.vJ,s,!0),t.EM()&&t.StartMeasuringRenderPassTime(0,1),this.Sq(t),this.vJ=null}vq(t,s){let i=null;this.cf.wq(t)&&(i=this.vJ),t.MD(i),t.nD(0,0,0,0),this.cf.S8()&&t.oD();const e=this.B8(s);this.CH(t,i,e,!0),this.Mq(t),t.aS(),this.cf._4().xq(s)}CH(t,e,s,h){const n=s.filter(t=>t.D8());for(let s=0,i=n.length;s<i;){const r=n[s];if(r.v8()&&!r.tH()){a.push(r);for(let t=s+1;t<i;++t){const o=n[t];if(!o.v8()||o.tH())break;a.push(n[t])}if(2<=a.length||1===a.length&&a[0].A8()){this.Iq(t,e,a),s+=a.length,b.Br(a);continue}b.Br(a)}r.tb(t,e,h&&0===s),++s}}Tq(t,s){const i=this.QJ.JV(),e=this.cf;0===i.length?(t.MD(null),t.kM(),t.wD(s),t.TD(s),e.HJ(s)):(h.set(0,0,e.l8(),e.c8()),this.wO().yL(t,null,{ML:this,wL:3,devicePixelRatio:this.cf.VH(),SL:this.cf.qH()*this.XP(),TL:this.KP(),UL:h,WL:null,aN:!0}))}Iq(e,h,t){t[0].hF()||(v.aa(t[0].uF()),v.oa(1),e.ic(v)),this.cf._4(),e.aD(!0);const n=x,r=I,o=G;for(const a of t)a.F8(),a.y8(n);const s=t[0],i=s.wH(e);s.bH(e);for(let s=0,i=n.length;s<i;){const u=n[s],l=u.m3(),c=l.g3();if(l.Fk()&&l.PH(c.RH())){(!u.kH()||0<l.FH())&&o.push(u);const f=u.m3().Vj();r.push(u);let t=s+1;for(;t<i;++t){const d=n[t],p=d.m3();if(p.Fk()&&p.PH(p.g3().RH())){if(p.Vj()!==f)break;(d.kH()?(0<p.FH()&&o.push(d),r):o).push(d)}}if(1!==r.length||r[0].jH()){this.Gq(e,h,r);for(let t=0,s=o.length;t<s;++t){const m=o[t],g=m.m3(),y=g.g3();g.BH(!0),T(y,e),y.OH(m,g,e,h),g.BH(!1)}}else{T(c,e),c.OH(u,l,e,h);for(let t=0,s=o.length;t<s;++t){const M=o[t];if(M!==u){const w=M.m3(),S=w.g3();T(S,e),S.OH(M,w,e,h)}}}s=t,b.Br(r),b.Br(o)}else++s}i&&e.ED(i),b.Br(n),C=null}Gq(i,e,h){i.vD();for(let t=0,s=h.length;t<s;++t){const n=h[t],r=n.m3(),o=r.g3();r.UH(!0),T(o,i),o.WH(n,r,i)}i.xD();for(let t=0,s=h.length;t<s;++t){const a=h[t],u=a.m3(),l=u.g3();T(l,i),l.OH(a,u,i,e),u.UH(!1)}i.GD()}n7(){const t={sx:this.sk(),sy:this.ek(),s:this.XP(),a:this.KP(),w:this.lm(),h:this.xm(),ortho:this.Ck(),vpX:this.n8(),vpY:this.r8(),fv:this.z7,persist:this.F7,fx:this.QJ.IT(),layers:{},dynamicLayers:[]};for(const s of this.L7)if(s.UV()){const i=s.Ek();t.dynamicLayers.push({sid:s.BV(),name:s.tf(),parentSid:i?i.BV():null,siblingIndex:s.jV(),data:s.n7()})}else t.layers[s.BV().toString()]=s.n7();return t}r7(t){this.GJ=t.sx,this.CJ=t.sy,this.xJ=t.s,this.IJ=t.a,this.Xm=t.w,this.Zm=t.h,this.m7=!!t.ortho,t.hasOwnProperty("vpX")&&(this.g7=t.vpX),t.hasOwnProperty("vpY")&&(this.y7=t.vpY),this.z7=!!t.fv,this.F7=t.persist,this.QJ.GT(t.fx),this.XJ=!0;for(const[s,i]of Object.entries(t.layers)){const e=parseInt(s,10),h=this.h9(e);h&&h.r7(i)}if(t.hasOwnProperty("dynamicLayers")){this.Sk(),this.cf.WP();const n=new Map,r=t.dynamicLayers;for(let t=r.length-1;0<=t;--t){const o=r[t],a=o.sid,u=o.name,l=o.parentSid,c=o.siblingIndex,f=o.data;if(this.W7(),!this.e9(u)&&!this.h9(a)){let t,s;if(null===l)t=null,s=this.N7;else{if(!(t=this.h9(l)))continue;s=t.Nk()}const d=b.un(b.hJ,this,t,{name:u,sid:a,XY:!0});s.push(d);let i=n.get(s);i||(i=[],n.set(s,i)),i.push({zj:d,siblingIndex:c}),d.r7(f)}}for(const[p,m]of n){m.sort((t,s)=>t.siblingIndex-s.siblingIndex);for(const g of m){let t=g.zj,s=g.siblingIndex,i=p.indexOf(t);p.splice(i,1),p.splice(s,0,t)}}}this.FV(),this.X7(),this.H7()}YR(){return this.B7}VO(){return this.U7}Cq(t){t.layout=this.YR();const s=this.cf,i=s._q()&&!s.ZO().BP();i&&e.StartMeasuringScriptTime(),this.U7.dispatchEvent(t),i&&e.AddScriptTime()}Q9(t){return t.layout=this.YR(),this.U7.Kf(t)}Y9(t){return t.layout=this.YR(),this.cf.Q9(t)}Eq(){this.Aq(this.N7)}Aq(t,s=0){const i=t.slice(0);i.reverse();for(const e of i)console.log("\t".repeat(s)+"- "+e.tf()),this.Aq(e.Nk(),s+1)}}}{const _n=self.js;_n.Dq=class extends _n.rn{#x6;#Nq=[];#Lq=new Map;#Oq=new Map;#Rq=null;#Pq=[];#kq=null;#Fq=0;#jq=null;constructor(t){super(),this.#x6=t}ln(){this.#x6=null,this.#Rq=null,this.#kq=null,this.#jq=null,_n.Br(this.#Nq),this.#Lq.clear(),this.#Oq.clear(),_n.Br(this.#Pq)}X2(t){const s=_n.un(_n.l7,this,this.#Nq.length,t);this.#Nq.push(s),this.#Lq.set(s.tf().toLowerCase(),s),this.#Oq.set(s.BV(),s)}P3(){return this.#x6}zq(t){this.#kq=t}Bq(){if(this.#kq)return this.#kq;if(this.#Nq.length)return this.#Nq[0];throw new Error("no first layout")}Uq(t){return this.#Lq.get(t.toLowerCase())||null}Wq(t){return this.#Oq.get(t)||null}Qq(t){return t=_n.gn(Math.floor(t),0,this.#Nq.length-1),this.#Nq[t]}HR(t){return"number"==typeof t?this.Qq(t):this.Uq(t.toString())}ZR(){return this.#Nq}E9(t){this.#Rq=t}QR(){return this.#Rq}Yq(t){if(this.#Pq.includes(t))throw new Error("layout already running");this.#Pq.push(t)}Jq(t){const s=this.#Pq.indexOf(t);if(-1===s)throw new Error("layout not running");this.#Pq.splice(s,1)}*Vq(){this.#Rq&&(yield this.#Rq),this.#Pq.length&&(yield*this.#Pq)}Hq(t){return this.#Rq===t||this.#Pq.includes(t)}oq(t){if(t)this.#Fq++;else{if(this.#Fq<=0)throw new Error("already unset");this.#Fq--}}UP(){return 0<this.#Fq}t3(t){this.#jq=t}k9(){this.#jq=null}$R(){return!!this.#jq}qq(){return this.#jq}Xq(){const t=this.QR();t&&t.X7()}Zq(){const t=this.QR();t&&t.H7()}}}{const En=self.js,An=new RegExp("<(.+?)>","g");En.Kq=class extends En.rn{constructor(t){super(),this.cf=t,this.$q=En.un(En.tX),this.sX=null,this.iX=[],this.eX=new Map,this.hX=new Map,this.nX=new Map,this.rX=[],this.aX=[],this.uX=[],this.lX=!1,this.cX=!1,this.fX=!1,this.dX=()=>this.pX(),this.mX=()=>this.gX(),this.yX=()=>this.MX(),this.wX=()=>this.SX(),this.TX=t=>this.bX(t.bz),this.vX=t=>this.xX(),this.IX=t=>this.GX(),this.CX=t=>this._X(),this.EX=[],this.AX=0}ln(){this.DX(),this.dX=null,this.mX=null,this.yX=null,this.wX=null,this.TX=null,this.IX=null;for(const t of this.iX)t.yB(),t.ln();En.Br(this.iX),this.iX=null,this.$q.ln(),this.$q=null,En.Br(this.rX),this.rX=null,En.Br(this.aX),this.aX=null,En.Br(this.uX),this.uX=null,this.eX.clear(),this.eX=null,this.hX.clear(),this.hX=null,this.nX.clear(),this.nX=null,En.Br(this.EX),this.EX=null,this.cf=null}NX(){const t=this.cf.Qf();t.addEventListener("pretick",this.dX),t.addEventListener("tick2",this.mX),t.addEventListener("beforelayoutchange",this.yX),t.addEventListener("layoutchange",this.wX),t.addEventListener("instancedestroy",this.TX),t.addEventListener("beforeload",this.vX),t.addEventListener("afterload",this.IX),t.addEventListener("afterlayoutstart",this.CX)}DX(){const t=this.cf.Qf();t.removeEventListener("pretick",this.dX),t.removeEventListener("tick2",this.mX),t.removeEventListener("beforelayoutchange",this.yX),t.removeEventListener("layoutchange",this.wX),t.removeEventListener("instancedestroy",this.TX),t.removeEventListener("beforeload",this.vX),t.removeEventListener("afterload",this.IX),t.removeEventListener("afterlayoutstart",this.CX)}X2(t){this.$q.fc(t);const s=En.OX.LX(t,this);this.fc(s),this.RX(s),this.nX.set(s.tf(),0)}PX(t){const s=this.kX(),i=t.WF(),e=s.hi(i),h=En.OX.PX(i+":"+this.nX.get(i),e,this);return this.FX(i),this.fc(h),h}FX(t){this.nX.set(t,this.nX.get(t)+1)}jX(){for(const t of this.iX)if(!t.zX()){const s=t.WF();this.FX(s)}}BX(){for(const t of this.nX.keys())this.nX.set(t,0)}fc(t){this.iX.push(t),this.eX.set(t.tf().toLowerCase(),t)}v0(t){t.UX(),t.zX()||(En.Vr(this.iX,t),En.Vr(this.rX,t),En.Vr(this.aX,t),En.Vr(this.uX,t),this.eX.delete(t.tf().toLowerCase()),this.WX(t),t.mB())||t.ln()}fj(t){this.cf.fj(t,this.sX,null)}P3(){return this.cf}kX(){return this.$q}QX(t){this.sX=t}YX(){return this.sX}*JX(){for(const t of this.iX)yield t}*VX(){for(const t of this.aX)yield t}HX(t,s){this.hX.has(t)||this.hX.set(t,new Set),this.hX.get(t).add(s)}RX(t){for(const s of t.qX())this.HX(s,t)}WX(t){for(const[s,i]of this.hX.entries())i.has(t)&&(i.delete(t),0===i.size)&&this.hX.delete(s)}XX(t){if(this.hX.has(t))return this.hX.get(t)}ZX(t,s){if(s)for(const i of this.iX){const e=s.every(t=>i.KX(t.bz,t.trackId));if(e&&i.tf().includes(t.tf()))return i}}$X(t){return this.eX.get(t.toLowerCase())||null}tZ(t){for(const s of this.rX)if(s.tf()===t)return s;for(const i of this.aX)if(i.tf()===t)return i;return null}*sZ(i){if(An.test(i)){An.lastIndex=0;let t,s=new Set;do{if(t=An.exec(i)){const e=t[1].split(",");for(const h of e)s.add(h)}}while(t);for(const n of s.values()){const r=this.$X(n);r&&(yield r)}s.clear()}else{const t=this.$X(i);t&&(yield t)}}*iZ(t){for(const s of this.iX)s.wB(t)&&(yield s)}eZ(t){this.rX.includes(t)||this.rX.push(t),this.hZ()}nZ(t){En.Vr(this.aX,t),this.rZ()}oZ(t){this.aX.includes(t)?(t.aZ(!0),t.uZ(!1),t.lZ(!1)):(t.aZ(!1),t.uZ(!0),t.lZ(!1),this.rX.includes(t)||this.rX.push(t)),this.hZ()}cZ(t){t.aZ(!1),t.uZ(!1),t.fZ(),En.Vr(this.rX,t),this.rZ()}dZ(t){t.aZ(!1),t.uZ(!1),this.aX.includes(t)&&(t.lZ(!0),this.uX.push(t),En.Vr(this.aX,t)),this.rX.includes(t)&&t.lZ(!0)}pZ(t){t.aZ(!1),t.uZ(!1),t.lZ(!1),t.CB(1),En.Vr(this.aX,t)}mZ(t){this.dZ(t),t.fZ()}pX(){if(!this.P3().j9()&&this.lX&&!this.cX){for(this.fX=!0;this.rX.length;){const t=this.rX.pop();(t.gZ()?(t.yZ(),this.uX):(t.MZ(),this.aX)).push(t),0!==t.wZ()&&(this.AX=1)}const s=this.cf.SZ(),i=this.cf.TZ(),e=this.cf.IR();for(let t=this.aX.length-1;0<=t;t--){const h=this.aX[t];h&&h.bZ(s,e,i)}this.fX=!1,0!==this.AX&&this.P3().b3()}}gX(){if(!this.P3().j9()&&this.lX&&!this.cX){let i;for(let t=0,s=this.uX.length;t<s;t++){const e=this.uX[t];i=i||new Set,e.UX(),this.vZ(e),i.add(e)}if(i){En.Xr(this.uX,i);for(let t=this.AX=0,s=this.aX.length;t<s;t++)if(0!==this.aX[t].wZ()){this.AX=1;break}}this.rZ()}}vZ(t){t.mB()||t.xZ()&&t.IZ()&&t.GZ()&&t.CZ()}hZ(){this.lX||(this.lX=!0)}rZ(){this.uX.length||this.aX.length||this.rX.length||this.fX||(this.lX=!1)}MX(){for(this.cX=!0;this.rX.length;)this.cZ(this.rX.pop());const t=new Set;for(const s of this.aX){const i=s.MX();i&&(s.UX(),t.add(s))}En.Xr(this.aX,t),t.clear();for(const e of this.uX){const h=e.MX();h&&(e.UX(),t.add(e))}En.Xr(this.uX,t),this.rZ();for(const n of this.iX)n._Z()}SX(){this.cX=!1}bX(t){const s=t.CF(),i=this.XX(s);if(i)if(this.cf.j9())this.EX.push(t);else for(const e of i)e.zX()||(e.mB()?this.v0(e):e.xZ()||(this.vZ(e),this.v0(e)))}xX(){for(const t of this.rX.map(t=>t))this.vZ(t),this.v0(t);for(const s of this.aX.map(t=>t))this.vZ(s),this.v0(s)}GX(){for(const t of this.EX)this.bX(t);En.Br(this.EX);for(const s of this.iX)s.GX()}_X(){const t=this.cf.VR(),s=t.QR();if(s)for(const i of this.iX){const e=i.EZ();e&&s.tf()===e&&this.oZ(i)}}n7(){return{timelinesJson:this.AZ(),scheduledTimelinesJson:this.DZ(),playingTimelinesJson:this.NZ(),markedForRemovalTimelinesJson:this.LZ(),hasRuntimeListeners:this.lX,changingLayout:this.cX,isTickingTimelines:this.fX}}r7(t){t&&(this.BX(),this.OZ(t.timelinesJson),this.RZ(t.scheduledTimelinesJson),this.PZ(t.playingTimelinesJson),this.kZ(t.markedForRemovalTimelinesJson),this.lX=!t.hasRuntimeListeners,this.cX=!!t.changingLayout,this.fX=!!t.isTickingTimelines,this.jX(),this.hZ(),this.rZ())}AZ(){return this.iX.map(t=>t.n7())}OZ(t){for(const s of t){let t=this.$X(s.name);if(t)t.r7(s);else{const i=this.FZ(s);if(!i)continue;const e=this.$X(i);(t=this.PX(e)).r7(s)}t.jZ()||this.v0(t)}}FZ(t){const s=t.name,i=s.split(":");return i&&2===i.length?i[0]:null}DZ(){return this.zZ(this.rX)}RZ(t){this.BZ(t,this.rX)}NZ(){return this.zZ(this.aX)}PZ(t){this.BZ(t,this.aX)}LZ(){return this.zZ(this.uX)}kZ(t){this.BZ(t,this.uX)}UZ(t,s){if(s)for(const i of s)if(i===t.tf())return!0;return!1}zZ(t){return t.map(t=>t.tf())}BZ(t,s){const i=new Set;for(const e of s)this.UZ(e,t)||i.add(e);if(En.Xr(s,i),t)for(const h of t){const n=this.$X(h);if(n){const r=s.find((s=>t=>t.tf()===s)(h));r||s.push(n)}}}}}{const Dn=self.js,Nn=[0,0],Ln=[0,0],On=[0,0],Rn=[0,0,0,0,0],Pn=new Array(4),kn=[{x:0,y:0,t:0,At:0},{x:0,y:0,t:0,At:0},{x:0,y:0,t:0,At:0}],Fn={x:0,y:0,t:0,At:0};Dn.WZ=class{constructor(t,s){this.QZ=!1,this.YZ=t,this.JZ=[];let i=null;if(i=s?this.YZ.VZ(s):Dn.first(this.YZ.HZ())){const e=i.YB("offsetX"),h=i.YB("offsetY");if(e&&h){this.qZ=e,this.XZ=h;const n=e.ZZ(),r=h.ZZ();for(let t=1,s=Math.min(n.length,r.length);t<s;++t){const o=n[t],a=(o.KZ(),o.$Z()),u=r[t],l=(u.KZ(),u.$Z());a&&"cubic-bezier"===a.tK()&&l&&"cubic-bezier"===l.tK()?this.JZ.push(Dn.un(Dn.sK,a,l,o,u,this.JZ.length)):(a&&"line"===a.tK()&&l&&l.tK(),this.JZ.push(Dn.un(Dn.iK,o,u,this.JZ.length)))}this.QZ=!0}}}ln(){for(const t of this.JZ)t.ln();Dn.Br(this.JZ),this.JZ=null,this.YZ=null,this.qZ=null,this.XZ=null}eK(){return this.QZ}hK(){return this.JZ}nK(t){const s="relative"===this.qZ.rK()?t.fT():0,i="relative"===this.XZ.rK()?t.mT():0;for(const e of this.JZ)e.nK(s,i)}ny(s,i,t){let e=NaN,h=this.JZ.length;for(let t=0;t<h;t++){const n=this.JZ[t];if("cubic-bezier"===n.hx()){const r=n.ny(s,i);(isNaN(e)||r[3]<e)&&(e=r[3],On[0]=r[2],On[1]=n.SO())}}return On}oK(s,i,t){const e=t.tRange;Dn.ye(e[0])||(e[0]=0),Dn.ye(e[1])||(e[1]=1);let h=NaN,n=this.JZ.length;for(let t=0;t<n;t++){const r=this.JZ[t];if("cubic-bezier"===r.hx()){const o=r.aK(s,i,e);(isNaN(h)||o[3]<h)&&(h=o[3],On[0]=o[2],On[1]=r.SO())}}return On}uK(t,s){return this.JZ[s].uK(t)}lK(t,s){return this.JZ[s].lK(t)}},Dn.sK=class{constructor(t,s,i,e,h){this.Xg=h;const n=t.cK("cubic-bezier"),r=i.cK("cubic-bezier"),o=s.cK("cubic-bezier"),a=e.cK("cubic-bezier");this.fK=t.dK(),this.pK=s.dK(),this.mK=t.dK()+n.gK(),this.yK=s.dK()+o.gK(),this.MK=i.dK()+r.wK(),this.SK=e.dK()+a.wK(),this.TK=i.dK(),this.bK=e.dK(),this.vK=0,this.xK=0,this.IK=0,this.GK=0,this.CK=0,this._K=0,this.EK=0,this.AK=0,this.DK=0,this.NK=0,this.LK=0,this.RK=0,this.PK=0,this.kK=0,this.FK=0,this.jK=0,this.zK=0,this.BK=0,this.UK=0,this.WK=0,this.QK=NaN,this.QZ=!1,this.YK=100,this.JK=new Array(this.YK+1),this.JK[0]=0,this.VK=0,this.HK=[],this.qK=[];for(let t=0;t<100;t++)this.qK.push({x:0,y:0,t:0,At:0});this.XK()}ln(){Dn.Br(this.JK),this.JK=null,Dn.Br(this.HK),this.HK=null,Dn.Br(this.qK),this.qK=null}hx(){return"cubic-bezier"}SO(){return this.Xg}ZK(){return Math.floor(this.VK/25)}KK(){return 1/this.ZK()}nK(t,s){this.$K=t,this.t$=s,this.JK=new Array(this.YK+1),this.JK[0]=0,this.XK(),this.vK=this.fK+this.$K,this.xK=this.pK+this.t$,this.IK=this.mK+this.$K,this.GK=this.yK+this.t$,this.CK=this.MK+this.$K,this._K=this.SK+this.t$,this.EK=this.TK+this.$K,this.AK=this.bK+this.t$,this.DK=3*(this.IK-this.vK),this.NK=3*(this.GK-this.xK),this.LK=3*(this.CK-this.IK),this.RK=3*(this._K-this.GK),this.PK=3*(this.EK-this.CK),this.kK=3*(this.AK-this._K),this.FK=3*(this.IK-this.vK),this.jK=3*(this.vK+this.CK-2*this.IK),this.zK=this.EK-this.vK+3*(this.IK-this.CK),this.BK=3*(this.GK-this.xK),this.UK=3*(this.xK+this._K-2*this.GK),this.WK=this.AK-this.xK+3*(this.GK-this._K)}Map(t){if(!this.QZ)return NaN;const s=this.s$(t);return Ln[0]=this.i$(s),Ln[1]=this.e$(s),Ln}ny(t,s){const i=this.h$(100),e=this.n$(t,s,i),h=this.r$(t,s,i,e);return Rn[0]=h.x,Rn[1]=h.y,Rn[2]=h.t,Rn[3]=h.At,Rn}aK(t,s,i){const e=this.h$(100),h=this.o$(t,s,e,i),n=this.r$(t,s,e,h);return Rn[0]=n.x,Rn[1]=n.y,Rn[2]=n.t,Rn[3]=n.At,Rn}uK(t){const s=1-t,i=s*s,e=2*s*t,h=t*t,n=i*this.DK+e*this.LK+h*this.PK,r=i*this.NK+e*this.RK+h*this.kK,o=Math.hypot(n,r);return Nn[0]=n/o,Nn[1]=r/o,Nn}lK(t){const s=1-t,i=s*s,e=2*s*t,h=t*t,n=i*this.DK+e*this.LK+h*this.PK,r=i*this.NK+e*this.RK+h*this.kK;return Math.atan2(r,n)}s$(h){if(this.QZ){let t=h*this.JK[this.YK],s=0,i=this.YK,e=0;for(;s<i;)e=s+((i-s)/2|0),this.JK[e]<t?s=e+1:i=e;this.JK[e]>t&&e--;const n=this.JK[e];return n===t?e/this.YK:(e+(t-n)/(this.JK[e+1]-n))/this.YK}}i$(t){return this.QZ?self.Mc.Oc("cubicbezier")(t,this.fK+this.$K,this.mK+this.$K,this.MK+this.$K,this.TK+this.$K):NaN}e$(t){return this.QZ?self.Mc.Oc("cubicbezier")(t,this.pK+this.t$,this.yK+this.t$,this.SK+this.t$,this.bK+this.t$):NaN}h$(s){if(!(this.HK.length>=(s=s||100))){this.HK=new Array(s),s++;for(let t=0;t<s-1;t++){const i=t/(s-1),e=i**2,h=i**3,n=this.FK*i,r=this.jK*e,o=this.zK*h,a=this.BK*i,u=this.UK*e,l=this.WK*h,c=this.vK+n+r+o,f=this.xK+a+u+l;this.qK[t].x=c,this.qK[t].y=f,this.qK[t].t=i,this.qK[t].At=0,this.HK[t]=this.qK[t]}}return this.HK}n$(s,i,e,t=0,h=Number.MAX_SAFE_INTEGER){let n=0;if(isNaN(this.QK))for(let t=0;t<100;t++){const r=e[t],o=r.x-s,a=r.y-i;r.At=o*o+a*a,r.At<h&&(h=r.At,n=t)}else{for(let t=this.QK;t<this.QK+5&&!(t>=e.length);t++){const u=e[t],l=u.x-s,c=u.y-i;u.At=l*l+c*c,u.At<h&&(h=u.At,n=t)}for(let t=this.QK;t>this.QK-5&&!(t<0);t--){const f=e[t],d=f.x-s,p=f.y-i;f.At=d*d+p*p,f.At<h&&(h=f.At,n=t)}}return this.QK=n}o$(s,i,e,h,n=Number.MAX_SAFE_INTEGER){let r=0;if(isNaN(this.QK))for(let t=0;t<100;t++){const o=e[t],a=o.x-s,u=o.y-i;o.At=a*a+u*u,o.t>=h[0]&&o.t<=h[1]&&o.At<n&&(n=o.At,r=t)}else{for(let t=this.QK;t<this.QK+5&&!(t>=e.length);t++){const l=e[t],c=l.x-s,f=l.y-i;l.At=c*c+f*f,l.t>=h[0]&&l.t<=h[1]&&l.At<n&&(n=l.At,r=t)}for(let t=this.QK;t>this.QK-5&&!(t<0);t--){const d=e[t],p=d.x-s,m=d.y-i;d.At=p*p+m*m,d.t>=h[0]&&d.t<=h[1]&&d.At<n&&(n=d.At,r=t)}}return this.QK=r}r$(r,o,a,u){let l=a[u],t=1,c=Number.MAX_SAFE_INTEGER;t:do{let t=a.length,s=0===u?0:u-1,i=u===t-1?t-1:u+1,e=a[s].t,h=a[i].t,n=(h-e)/4;if(n<.001)break;Pn[0]=a[s];for(let t=1;t<=2;t++){const f=e+t*n,d=f**2,p=f**3,m=this.FK*f,g=this.jK*d,y=this.zK*p,M=this.BK*f,w=this.UK*d,S=this.WK*p,T=this.vK+m+g+y,b=this.xK+M+w+S,v=T-r,x=b-o,I=v*v+x*x;if(I<c){c=I,u=t,Fn.x=T,Fn.y=b,Fn.t=f,Fn.At=I,l=Fn;break t}const G=kn[t-1];G.x=T,G.y=b,G.t=f,G.At=I,Pn[t]=G}Pn[3]=a[i],a=Pn}while(t++<20);return l}XK(){this.QZ=!0;let s=this.i$(0),i=this.e$(0),e=0;for(let t=1;t<=this.YK;t++){const h=this.i$(.01*t),n=this.e$(.01*t),r=s-h,o=i-n;e+=Math.hypot(r,o),this.JK[t]=e,s=h,i=n}this.VK=e}},Dn.iK=class{constructor(t,s,i){this.Xg=i,this.a$=t.dK(),this.u$=s.dK(),this.$K=0,this.t$=0}ln(){}hx(){return"line"}SO(){return this.Xg}nK(t,s){this.$K=t,this.t$=s}fT(){return this.a$+this.$K}mT(){return this.u$+this.t$}}}{const S=self.js;S.OX=class extends S.rn{constructor(t,s,i){super(),this.cf=i.P3(),this.l$=i,this.c$=s,this.pn=t,this.f$=[],this.d$=0,this.p$=null,this.m$=0,this.g$(),this.y$=null,this.M$=null,this.w$=0,this.S$=0,this.T$=1,this.b$=0,this.v$=1,this.x$=!1,this.I$=!1,this.G$=!1,this.C$=!0,this._$=!1,this.E$=!1,this.A$=-1,this.D$=!1,this.N$=!1,this.L$=!1,this.O$=!1,this.R$=NaN,this.P$=[""],this.k$="",this.F$=!1,this.AX=0,this.j$=0,this.z$=null}static LX(t,s){const i=s.kX(),e=i.B$(),h=i.hi(t[e]),n=S.un(S.OX,t[e],h,s);return n.U$(!0),n}static PX(t,s,i){return S.un(S.OX,t,s,i)}ln(){if(!this.mB()){const t=this.cf.Qf();this.l$.cZ(this),this.l$.mZ(this);for(const s of this.f$)s.ln();S.Br(this.f$),this.f$=null,this.cf=null,this.l$=null,this.c$=null,this._$=!0,this.y$=null,this.M$=null,this.W$(t)}}W$(t){const s=S.un(S.Event,"timelinestatereleased");s.Q$=this,t.dispatchEvent(s)}hx(){return 0}g$(){for(const t of this.c$.J$().Y$())this.d$=this.f$.push(S.V$.X2(this,t))}H$(){return this.l$}P3(){return this.cf}HZ(){return this.f$}q$(e,h,n,r){if(this.j$){let i;for(let s=0;s<this.f$.length;s++){let t=this.f$[s];if(e===t.jB()){const o=t.YB(n);o&&h.constructor===o.X$().constructor&&o.rK()===r.rK()&&(i=i||[]).push(o)}}return i}}jZ(){return!!this.f$.length}VZ(t){for(const s of this.f$)if(S.wh(s.WB(),t))return s;return null}Z$(t){for(const s of this.f$)if(!s.K$()&&S.wh(s.tf(),t))return s;return null}O6(t){this.pn=t}tf(){return this.pn}$$(){return this.c$}WF(){return this.c$.tf()}bB(){return this.c$.bB()}TB(t){this.c$.TB(t)}ttt(){return this.c$.ttt()}stt(t){this.c$.stt(t)}itt(){return this.c$.itt()}ett(t){this.c$.ett(t)}rK(){return this.c$.rK()}htt(t){this.c$.rK(t)}kB(t){for(const s of this.HZ())s.kB(t)}xB(){return this.c$.xB()}vB(t){return this.c$.vB(t)}GB(){return this.c$.GB()}IB(t){return this.c$.IB(t)}Rz(){return this.c$.Rz()}ntt(t){return this.c$.ntt(t)}CB(t){return this.T$=t}_B(){return this.T$}EZ(){return this.c$.EZ()}ott(){return this.c$.ott()}att(){return this.c$.att()}utt(){return this.b$}ltt(){return!this.IsPlaying()||0<this.T$}AB(){return this.y$||(this.y$=new Promise(t=>{this.M$=t})),this.y$}fZ(){this.y$&&(this.M$(),this.y$=null,this.M$=null)}ctt(t){this.P$=S.OX.ftt(t),this.F$=!0}EB(){return this.P$}dtt(){return this.F$&&(this.k$=this.P$.join(" ")),this.F$=!1,this.k$}wB(t){if(!this.P$)return!1;if(!this.P$.length)return!1;const s=S.OX.ftt(t);return!!s&&!!s.length&&s.every(S.OX.ptt,this)}mtt(){S.q9.Timeline&&this.constructor===S.OX&&(S.q9.Timeline.V9.PushTriggerTimeline(this),this.l$.fj(S.q9.Timeline.V9.OnTimelineStarted),this.l$.fj(S.q9.Timeline.V9.OnTimelineStartedByName),this.l$.fj(S.q9.Timeline.V9.OnTimelineStartedByTags),this.l$.fj(S.q9.Timeline.V9.OnAnyTimelineStarted),S.q9.Timeline.V9.PopTriggerTimeline())}gtt(){this.A$=this.cf.ytt()}CZ(){this.L$||(this.L$=!0,S.q9.Timeline&&this.constructor===S.OX&&(S.q9.Timeline.V9.PushTriggerTimeline(this),this.l$.fj(S.q9.Timeline.V9.OnTimelineFinished),this.l$.fj(S.q9.Timeline.V9.OnTimelineFinishedByName),this.l$.fj(S.q9.Timeline.V9.OnTimelineFinishedByTags),this.l$.fj(S.q9.Timeline.V9.OnAnyTimelineFinished),S.q9.Timeline.V9.PopTriggerTimeline()))}aZ(t){this.x$=t}Mtt(){return this.A$===this.cf.ytt()}IsPlaying(t=!1){return!!this.Mtt()||!(!this.wtt()||t)||this.x$}Stt(){return this.IsPlaying(!0)}NB(){return this.Ttt()}Ttt(){return!(this.mB()||this.wtt()||this.Stt()||this.IZ())}uZ(t){this.I$=t}wtt(){return this.I$}btt(t){this.C$=t;const s=this.eN();(s<=0||s>=this.bB())&&(this.C$=!0)}IZ(){return this.C$}mB(){return this._$}lZ(t){this.E$=t}gZ(){return this.E$}vtt(t){this.D$=t}xtt(){return this.D$}U$(t){this.N$=!!t}zX(){return this.N$}GZ(){return this.G$}eN(){return this.w$}SB(t){const s=this.eN();this.Itt(t),this.btt(!1),this.IZ()||this.vtt(!0),!this.Stt()&&!this.wtt()&&this.G$||(this.Stt()||this.wtt()||this.G$?this.Stt()?this.yB():this.wtt()&&(this.l$.cZ(this),this.Gtt()):this.Gtt()),this.Ctt(),this._tt(this.eN(),!1,!0,!0,s),this.Ett(),this.AX&&this.P3().b3(),this.Att()}Itt(t){(t=S.ye(t)?t:this.bB())<0?this.w$=0:t>=this.bB()?this.w$=this.bB():this.w$=t}Dtt(t){(t=S.ye(t)?t:this.bB())<0?this.w$=0:t>=this.bB()?this.w$=this.bB():this.w$=t;for(const s of this.f$)s.Ntt()}Att(){S.q9.Timeline&&this.constructor===S.OX&&(S.q9.Timeline.V9.PushTriggerTimeline(this),this.l$.fj(S.q9.Timeline.V9.OnTimeSet),this.l$.fj(S.q9.Timeline.V9.OnTimeSetByName),this.l$.fj(S.q9.Timeline.V9.OnTimeSetByTags),S.q9.Timeline.V9.PopTriggerTimeline())}Ltt(){if(!this.xB())if(this.GB()&&1===this.b$){if(this.ltt()){if(this.eN()>=this.bB())return!1}else if(this.eN()<=0)return!1}else if(!this.xB()&&!this.GB())if(this.ltt()){if(this.eN()>=this.bB())return!1}else if(this.eN()<=0)return!1;return!0}MB(){this.mB()||this.Ltt()&&this.Play(!0)}Play(t=!1){return!this.mB()&&!this.wtt()&&(this.Stt()&&this.Mtt()?this.Ott():!this.Stt()&&!!(this.IZ()||t||this.xtt())&&this.Rtt())}Ott(){return this.vtt(!1),this.l$.nZ(this),this.l$.oZ(this),this.AB(),!0}Rtt(){return this.vtt(!1),this.l$.oZ(this),this.AB(),!0}yB(t=!1){this.mB()||(this.btt(t),this.l$.dZ(this),this.IZ()&&this.fZ())}c0(t=!0,s=!1){if(!this.mB()){if(!this.Stt()&&this.wtt())return this.l$.cZ(this);if(!this.IZ()){this.yB(!0),this.ltt()?this.Itt(0):this.Itt(this.bB());const i=this.eN();this.Ctt(),s?this.Ptt(i):this._tt(i,!1,!1,!0),t&&this.Att(),this.Ett(),this.AX&&t&&this.P3().b3()}}}ktt(){this.c0(!1,!0)}Ptt(t){this._tt(t,!1,!1,!0,NaN,!1,!0)}MX(){if(!this.mB()){if(!this.P3().j9()&&this.Ftt())return!1;this.l$.pZ(this),this.P3().j9()||this.ktt()}return!0}Gtt(){this.MZ(!0)}yZ(){this.MZ(!1,!0),this.aZ(!1),this.uZ(!1)}MZ(t=!1,s=!1){if(!this.gZ()||s){if(t){this.L$=!1,this.G$=!0,this.O$=!0,this.Ctt();for(const i of this.f$)i.MZ()}else if(this.aZ(!0),this.uZ(!1),this.mtt(),this.IZ()){this.A$=-1,0!==this.b$&&(this.T$=Math.abs(this.T$)),this.b$=0,this.v$=1,this.C$=!1,this.L$=!1,this.G$=!0,this.O$=!0,this.ltt()?this.Itt(0):this.Itt(this.bB()),this.Ctt();for(const e of this.f$)e.MZ()}else{this.O$=!0,this.L$=!1,this.Ctt();for(const h of this.f$)h.jtt()}this.Ett()}}wZ(){return this.AX}Ctt(){this.j$=0;for(const t of this.f$)t.q_()&&(this.j$=1)}Ett(){this.AX=0;for(const t of this.f$)t.ztt(),0===this.AX&&1===t.wZ()&&(this.AX=1),this.p$||1!==t.Btt()||(this.p$||(this.p$=[]),this.m$=this.p$.push(t))}bZ(t,s,i){if(this.att()){if(0===t&&0===this.R$)return;this.R$=t,t=i}else{if(0===i&&0===this.R$)return;t=this.R$=i,s=1}const e=this.w$+this.S$,h=t*s*this.T$,n=e+h,r=this.c$.Utt;n<0?(this.w$=0,this.S$=-n):r<=n?(this.w$=r,this.S$=this.w$-n):(this.w$=n,this.S$=0);let o=!1,a=!1,u=this.xB(),l=this.GB();u||l?u&&!l?0<this.T$?this.w$>=r&&(this.Dtt(0),a=!0):this.w$<=0&&(this.Dtt(r),a=!0):!u&&l?0<this.T$?this.w$>=r&&(this.Itt(r),this.CB(-1*this._B()),a=!0,1===this.b$?this.v$<this.Rz()?(this.v$++,this.b$=0):o=!0:0===this.b$&&(this.b$=1)):this.w$<=0&&(this.Itt(0),this.CB(-1*this._B()),a=!0,1===this.b$?this.v$<this.Rz()?(this.v$++,this.b$=0):o=!0:0===this.b$&&(this.b$=1)):u&&l&&(0<this.T$?this.w$>=r&&(this.Itt(r),this.CB(-1*this._B()),a=!0,this.b$++,S.wrap(this.b$,0,2)):this.w$<=0&&(this.Itt(0),this.CB(-1*this._B()),a=!0,this.b$++,S.wrap(this.b$,0,2))):0<this.T$?this.w$>=r&&(this.v$<this.Rz()?(this.v$++,this.Dtt(0),a=!0):(this.Itt(r),o=!0)):this.w$<=0&&(this.v$<this.Rz()?(this.v$++,this.Dtt(r),a=!0):(this.Itt(0),o=!0));let c,f=this.d$;if(o){for(c=0;c<f;c++)this.f$[c].Wtt();this.yB(!0),this.gtt()}else{const d=this.m$;for(c=0;c<d;c++)this.p$[c].Qtt();if(1===this.j$)for(c=0;c<f;c++){const p=this.f$[c],m=p.Ytt(),g=this.w$-m,y=e-m;g<0&&0<y?(this.w$=m<0?0:r<=m?r:m,p.Qc(m,!0,!1,a,this.O$,!1)):p.Qc(this.w$,!0,!1,a,this.O$,!1)}else for(c=0;c<f;c++)this.f$[c].Qc(this.w$,!0,!1,a,this.O$,!1);for(c=0;c<d;c++)this.p$[c].Jtt();this.O$&&(this.O$=!1)}}_tt(s,i=!1,e=!1,h=!1,n=NaN,t=!1,r=!1){for(const o of this.f$)o.Qtt();for(const a of this.f$){let t=s;if("number"==typeof n&&!isNaN(n)){const u=this.eN(),l=u-a.Ytt(),c=n-a.Ytt();l<0&&0<c&&(t=a.Ytt(),this.Itt(t))}a.Qc(t,i,e,h,this.O$,r)}for(const f of this.f$)f.Jtt();this.O$&&t&&(this.O$=!1)}Vtt(){const t=this.c$.J$().Htt(),s=S.V$.X2(this,t);return this.d$=this.f$.push(s),s}UX(){if(!this.mB())for(const t of this.f$)t.qtt()}_Z(){for(const t of this.f$)t._Z()}Xtt(){for(const t of this.f$)t.Ztt()}Ktt(t,s,i){if(s){if("number"==typeof i&&0<=i){const e=this.f$[i];return e?(e.$tt(s),void this.l$.HX(s.CF(),this)):void 0}for(const h of this.f$)if(h.K$())if(t){if(h.WB()===t){h.$tt(s),this.l$.HX(s.CF(),this);break}}else if(!h.tst()){h.$tt(s),this.l$.HX(s.CF(),this);break}}}KX(t,s){for(const i of this.f$)if(i.K$())if(s){if(s===i.WB()&&t===i.jB())return!0}else if(t===i.jB())return!0;return!1}xZ(){return this.f$.some(t=>!t.K$()||t.sst())}Ftt(){return this.f$.some(t=>{if(t.K$()){if(!t.sst())return!1;const s=t.CF();return!!s&&s.wV()}return!1})}YB(t){for(const s of this.HZ())for(const i of s.ist())if(i.est()===t)return i}hst(t){for(const s of this.f$)if(t===s.jB())return s;return null}nst(t){let s=t?t.split(" "):[],i=new Set(s.map(t=>t.toLowerCase().trim()));s=[...i.values()];for(const e of this.HZ())for(const h of e.rst()){const n=s.every(t=>h.ost(t));if(n)return h}}qX(){const t=[];for(const s of this.HZ())t.push(s.CF());return t.filter(t=>t)}GX(){for(const t of this.HZ())t.GX()}n7(){return{tracksJson:this.ast(),name:this.pn,playheadTime:this.eN(),playbackRate:this.T$,pingPongState:this.b$,currentRepeatCount:this.v$,isPlaying:this.x$,isScheduled:this.I$,initialStateSet:this.G$,finishedTriggers:this.L$,complete:this.C$,released:this._$,markedForRemoval:this.E$,completedTick:this.A$,implicitPause:this.D$,isTemplate:this.N$,tags:this.P$.join(" "),stringTags:this.k$,tagsChanged:this.F$,firstTick:this.O$}}r7(t){t&&(this.ust(t.tracksJson),this.pn=t.name,this.w$=t.playheadTime,this.T$=t.playbackRate,this.b$=t.pingPongState,this.v$=t.currentRepeatCount,this.x$=!!t.isPlaying,this.I$=!!t.isScheduled,this.G$=!!t.initialStateSet,this.L$=!!t.hasOwnProperty("finishedTriggers")&&!!t.finishedTriggers,this.C$=!!t.complete,this._$=!!t.released,this.E$=!!t.markedForRemoval,this.A$=t.completedTick,this.D$=!!t.implicitPause,this.N$=!!t.isTemplate,this.P$=t.tags.split(" "),this.k$=t.stringTags,this.F$=!!t.tagsChanged,this.O$=!!t.firstTick)}ast(){return this.f$.map(t=>t.n7())}ust(t){this.Xtt(),t.forEach((t,s)=>{const i=this.f$[s];i.r7(t)}),this.f$.filter(t=>t.sst())}static ptt(t){const s=this.EB();return""===t?1===s.length&&""===s[0]:s.map(t=>t.toLowerCase()).includes(t.toLowerCase())}static ftt(t){if(S.We(t))return t.slice(0);if(S.Ce(t))return t.split(" ");throw new Error("invalid tags")}lst(){return this.z$||(this.z$=S.un(self.OB,this)),this.z$}}}{const jn=self.js;jn.V$=class extends jn.rn{constructor(t,s){super(),this.YZ=t,this.cst=s,this.fst=s.J$(),this.dst=NaN,this.pst=NaN,this.mst=null,this.gst=null,this.yst=!1,this.W_=0<s.Ytt(),this.Mst=!1,this.wst=!1,this.Sst=NaN,this.Tst=null,this.bst=this.cst.xst().vst(),this.Ist=[],this.Gst(),this.Cst=0,this.AX=0,this._st=0}static X2(t,s){return jn.un(jn.V$,t,s)}ln(){this.bst=null;for(const t of this.Ist)t.ln();jn.Br(this.Ist),this.Ist=null,this.YZ=null,this.mst=null,this.gst=null,this.cst=null,this.Tst=null}Gst(){for(const t of this.cst.Ast().Est())this.Ist.push(jn.Dst.X2(this,t))}qtt(){for(const t of this.Ist)t.qtt()}_Z(){for(const t of this.Ist)t._Z();this.mst=null,this.gst=null}Nst(){return this.YZ}P3(){return this.YZ.P3()}rst(){return this.bst||(this.bst=this.cst.xst().vst()),this.bst}ist(){return this.Ist}YB(s){for(let t=0;t<this.Ist.length;t++){const i=this.Ist[t];if(i.est()===s)return i}}Lst(){this.mst||this.jB()}Ost(){return!!this.mst&&!this.mst.WU()}sst(){if(!this.K$())return!1;const t=this.Rst(),s=this.P3().a3(t);return!!s&&!s.WU()}CF(){if(this.K$()){const t=this.Pst();if(-1!==t)return this.P3().uV(t)}}kst(){return this.YZ.HZ().indexOf(this)}Ztt(){this.mst=null,this.dst=NaN,this.gst=null,this.pst=NaN,this.yst=!0}tst(){return!!this.mst}jB(){if(!this.yst){if(!this.mst||!this.Ost()){const t=this.Rst();this.mst=this.P3().a3(t)}return this.mst}}$tt(t){if(this.yst=!1,this.mst!==t){this._Z(),this.mst=t,this.pst=t.CF().SO(),this.dst=t.BF(),this.gst=t.m3();for(const s of this.Fst()){const i=s.jst,e=s.zst,h=i.Bst();switch(h){case"instance-variable":{e.Ust();const n=t.CF(),r=n.Wst(s.name),o=n.Qst(r),a=n.Yst(r);o===s.name&&a===s.type&&e.Jst(r);break}case"behavior":{const u=s.wz,l=this.CF(),c=t.CF(),f=e.Tz(c);if(u&&f){const d=u.tf();l.Vst(d),c.Vst(d),e.Ust(),e.Hst(f.BV())}break}}}}}*Fst(){for(const t of this.Ist){const s=t.X$(),i=this.CF(),e={jst:t,zst:s};switch(t.Bst()){case"world-instance":e.property=t.est();break;case"instance-variable":{const h=s.Ust();e.name=i.Qst(h),e.type=i.Yst(h);break}case"effect":{const n=i.YP(),r=s.qst(n);e.Xst=r;break}case"behavior":{const o=s.Tz(i);e.wz=o;break}case"plugin":e.SP=i.TP()}yield e}}m3(){if(!this.gst||!this.Ost()){const t=this.jB();t&&(this.gst=t.m3())}return this.gst}Zst(){return this.cst}Rst(){return isNaN(this.dst)?this.cst.Rst():this.dst}Kst(t){this.cst.Kst(t)}itt(){return this.cst.itt()}ett(t){this.cst.ett(t)}rK(){return this.cst.rK()}WB(){return this.cst.WB()}Ytt(){return this.cst.Ytt()}$st(){return this.cst.$st()}tit(t){this.cst.tit(t)}htt(t){this.cst.htt(t)}kB(t){for(const s of this.rst())s.kB(t);for(const i of this.ist())i.kB(t)}sit(){return this.cst.sit()}iit(t){this.cst.iit(t)}Pst(){return isNaN(this.pst)?this.cst.Pst():this.pst}eit(t){this.cst.eit(t)}hit(t){this.cst.hit(t)}nit(){const t=this.jB();if(t){const s=t.cz();if(s.rit())return t.cz().nit()}return this.cst.nit()}oit(t){this.cst.oit(t)}ait(){const t=this.jB();if(t){const s=t.cz();if(s.rit())return t.cz().ait()}return this.cst.ait()}hx(){return this.cst.hx()}tf(){return this.cst.tf()}K$(){return 0===this.hx()}uit(){return 1===this.hx()}lit(){return 2===this.hx()}cit(){return this.Cst}wZ(){return this.AX}Btt(){return this._st}q_(){return this.W_}Ntt(){for(const t of this.Ist)t.Ntt()}MZ(){if(this.Lst(),this.Ost()||!this.K$()){const t=this.Nst(),s=t.ltt(),i=s?0:this.$st();for(const h of this.Ist)h.MZ(i),0===this.Cst&&1===h.cit()&&(this.Cst=1),0===this.AX&&1===h.wZ()&&(this.AX=1);this._st=0;const e=this.Ist.some(t=>t.Btt());e&&(this._st=1),this.Tst=this.fit(i),this.Mst=!1,this.wst=!1,this.Qc(i),this.dit(this.fit(i))}}jtt(){if(this.Lst(),this.Ost()||!this.K$()){this.YZ.ltt();const t=this.YZ.eN()-this.Ytt();this.Tst=this.fit(t);for(const s of this.Ist)s.jtt(t)}}Wtt(){if(!this.Nst().IZ()&&(this.Lst(),this.Ost()||!this.K$())&&!this.W_){const t=this.YZ.eN(),s=this.Ytt()+this.$st();s<=t?this.Qc(this.$st(),!0,!1,!0,!1,!1,!0):t<=0&&this.Qc(0,!0,!1,!0,!1,!1,!0)}}ztt(){for(let t=0,s=this.Ist.length;t<s;t++){const i=this.Ist[t];i.ztt(),0===this.Cst&&1===i.cit()&&(this.Cst=1),0===this.AX&&1===i.wZ()&&(this.AX=1)}}Qtt(){const s=this.Ist.length;for(let t=0;t<s;t++)this.Ist[t].Qtt()}Qc(i,t=!1,e=!1,h=!1,s=!1,n=!1,r=!1){this.mst||this.jB();const o=this.mst&&!this.mst.WU(),a=0===this.cst.wf;if((o||!a)&&!(n&&a&&this.CF().wV()||(i-=this.Ytt())<0)){this.pit(i,t),this.mit(i,t,s);for(let t=0,s=this.Ist.length;t<s;t++)this.Ist[t].Qc(i,e,h,r);this.git(i,t),0!==this.Cst&&(this.gst||(this.gst=this.mst.m3()),this.gst)&&this.gst.Bj()}}Jtt(){const s=this.Ist.length;for(let t=0;t<s;t++)this.Ist[t].Jtt()}pit(t,s){if(s&&this.W_&&!this.Mst){const i=this.Nst();if(i.ltt()){if(t<0)return}else if(t>this.$st())return;for(const e of this.Ist)e.MZ();this.Mst=!0}}git(t,s){if(s&&this.W_&&!this.wst){const i=this.Nst();if(i.ltt()){if(t>=this.$st()){for(const e of this.Ist)e.Qc(this.$st(),!1,!0);this.wst=!0}}else if(t<=0){for(const h of this.Ist)h.Qc(0,!1,!0);this.wst=!0}}}mit(t,s,i){if(!i&&s&&jn.q9.Timeline){const e=this.Nst(),h=this.Tst.KZ(),n=this.Tst.eN(),r=h?h.eN():e.bB();if(t<=n||r<=t)if(this.Tst=this.fst.yit(t,this.cst),e.ltt())h&&this.dit(this.Tst);else{const o=this.Tst.KZ();o&&this.dit(o)}}}fit(t){const s=this.fst.Mit(t,this.cst);return s||this.fst.yit(t,this.cst)}dit(t){if(jn.q9.Timeline){const s=this.Nst(),i=s.H$();jn.q9.Timeline.V9.PushTriggerTimeline(s),jn.q9.Timeline.V9.PushTriggerKeyframe(t),i.fj(jn.q9.Timeline.V9.OnAnyKeyframeReached),i.fj(jn.q9.Timeline.V9.dit),jn.q9.Timeline.V9.PopTriggerTimeline(s),jn.q9.Timeline.V9.PopTriggerKeyframe(t)}}wit(){const t=this.cst.xst(),s=t.Sit();return s}Tit(){const t=this.cst.Ast(),s=t.bit(),i=jn.Dst.X2(this,s);return this.Ist.push(i),i}vit(t){const s=this.cst.xst();s.xit(t)}Iit(t){for(const s of this.Ist)s.Iit(t)}Git(){for(const t of this.Ist)t.Git()}Cit(){if(this.Lst(),this.Ost()||!this.K$())for(const t of this.Ist)t.Cit()}_it(){if(this.Lst(),this.Ost()||!this.K$()){let t=!1;for(const s of this.Ist){const i=s._it();!t&&i&&(t=!0)}if(t){const e=this.wit();e.SB(this.Nst().eN()),e.kB("noease"),e.iit(!0),e.ctt("")}}}GX(){isNaN(this.Sst)||this.Eit(this.Sst),this.Sst=NaN}n7(){const t=this.jB(),s=t?t.BF():this.Rst();return{propertyTracksJson:this.Ait(),lastKeyframeDataItemJson:this.Dit(),initialStateOfNestedSet:this.Mst,endStateOfNestedSet:this.wst,instanceUid:s,cleared:this.yst}}r7(t){if(t){this.Nit(t.propertyTracksJson),this.Lit(t.lastKeyframeDataItemJson),this.Sst=t.instanceUid,this.Mst=!1,t.hasOwnProperty.initialStateOfNestedSet&&(this.Mst=t.initialStateOfNestedSet),this.wst=!1,t.hasOwnProperty.endStateOfNestedSet&&(this.wst=t.endStateOfNestedSet),this.yst=!!t.hasOwnProperty("cleared")&&t.cleared;for(const s of this.Ist)0===this.Cst&&1===s.cit()&&(this.Cst=1),0===this.AX&&1===s.wZ()&&(this.AX=1);this._st=0,this.Ist.some(t=>t.Btt())&&(this._st=1)}}Dit(){const t=this.cst.xst();return t.Oit(this.Tst)}Ait(){return this.Ist.map(t=>t.n7())}Nit(t){t.forEach((t,s)=>{const i=this.Ist[s];i.r7(t)})}Eit(t){if(jn.ye(t)){const s=this.P3().a3(t);if(s){const i=this.Nst();i.Ktt(this.cst.WB(),s,this.kst())}}}Lit(t){const s=this.cst.xst();this.Tst=s.Rit(t)}}}{const zn=self.js;zn.Dst=class extends zn.rn{constructor(t,s){super(),this.Pit=t,this.kit=s,this.Fit=s.Ast(),this.Cst=0,this.AX=0,this._st=0,this.jit=this.X$(),this.zit=this.kit.Uit().Bit(),this.Wit=null,this.Qit=null}static X2(t,s){return zn.un(zn.Dst,t,s)}ln(){this.Pit=null,this.jit&&(this.jit.ln(),this.jit=null),this.zit=null,this.kit=null,this.Fit=null}cit(){return this.Cst}wZ(){return this.AX}Btt(){return this._st}Yit(){return!!this.Qit}Jit(t){this.Qit=t}Vit(){return this.Qit}Hit(){return this.Pit}qit(){return this.kit}Ast(){return this.Fit}Nst(){return this.Pit.Nst()}P3(){return this.Pit.P3()}jB(){return this.Pit.jB()}X$(){if(!this.jit){let t=this.kit.Bst(),s;switch(t){case"behavior":s=new zn.Dst.Xit(this);break;case"effect":s=new zn.Dst.Zit(this),this.AX=1;break;case"instance-variable":s=new zn.Dst.Kit(this);break;case"plugin":s=new zn.Dst.$it(this),this.AX=1;break;case"world-instance":s=new zn.Dst.tet(this),this.AX=1,this.Cst=1;break;case"value":s=new zn.Dst.iet(this);break;case"audio":s=new zn.Dst.eet(this)}this.jit=s}return this.jit}Bst(){return this.kit.Bst()}het(t){this.kit.het(t)}net(){return this.kit.ret()}oet(t){this.kit.aet(t)}QB(){return this.X$().uet()}est(){return this.kit.let()}cet(t){this.kit.fet(t)}det(){return this.kit.hx()}pet(t){this.kit.met(t)}yet(){return this.Ast().Met(this.kit).hx()}wet(){return this.kit.wet()}Tet(t){this.kit.Tet(t)}bet(){return this.kit.bet()}vet(t){this.kit.vet(t)}sit(){return this.kit.sit()}iit(t){this.kit.iit(t)}itt(){return this.kit.itt()}ett(t){this.kit.ett(t)}rK(){return this.kit.rK()}htt(t){this.kit.htt(t)}kB(t){for(const s of this.xet())s.kB(t)}Iet(){return this.kit.Iet()}xet(){return this.zit||(this.zit=this.kit.Uit().Bit()),this.zit}ZZ(){return this.kit.Uit().ZZ()}Get(t){return this.Fit.Get(t,this.kit)}Cet(t){return this.Fit.Cet(t,this.kit)}_et(t){let s=this.Fit.Get(t,this.kit),i;return i=s?this.Fit.Eet(t,this.kit):(s=this.Fit.Cet(t,this.kit),this.Fit.Aet(t,this.kit)),{start:s,end:i}}*Det(){for(const t of this.xet())yield t.dK()}*Net(){for(const t of this.xet())yield t.eN()}qtt(){this.X$().qtt()}_Z(){this.X$()._Z()}Let(){return this.X$().Let()}Ntt(){this.X$().Ntt()}MZ(t){this.X$().MZ(),this.Wit=this.Oet(t),this.ztt()}jtt(t){this.X$().jtt(),this.Wit=this.Oet(t)}ztt(){const t=this.Hit();if(this._st=0,t.K$()){const s=this.Nst(),i=t.jB(),e=this.X$(),h=this.est(),n=e.Ret();if(n){const r=s.q$(i,e,h,this);r&&r.length&&(this._st=1)}else this._st=0}}Oet(t){const s=this.Nst(),i=this.Fit.Get(t,this.kit);return i||(s.ltt()?this.Fit.Cet(t,this.kit):this.Fit.Aet(t,this.kit))}Qtt(){this.jit.Qtt()}Qc(t,s=!1,i=!1,e=!1){let h,n,r=!1;if(s)h=this.Fit.Cet(t,this.kit);else{if(this.Wit){const o=this.Nst(),a=this.Wit.KZ(),u=this.Wit.eN(),l=a?a.eN():o.bB();(t<=u||l<=t)&&(this.Wit=this.Fit.Cet(t,this.kit),r=!0)}else this.Wit=this.Fit.Cet(t,this.kit),r=!0;h=this.Wit}h&&(n=h.KZ()),this.jit.Qc(t,h,n,s,i,e,r)}Pet(t){if(this.Wit){const e=this.Nst(),h=this.Wit.KZ(),n=this.Wit.eN(),r=h?h.eN():e.bB();(t<=n||r<=t)&&(this.Wit=this.Fit.Cet(t,this.kit))}else this.Wit=this.Fit.Cet(t,this.kit);const s=this.Wit,i=s.KZ();return this.jit.Pet(t,s,i)}ket(t,s,i){return this.jit.Pet(t,s,i)}Jtt(){this.jit.Jtt()}static Fet(t,s){const i=s.qit(),e=s.Fit;return e.Cet(t,i)}static jet(t,s){const i=s.qit(),e=s.Fit;return e.Aet(t,i)}zet(){const t=this.kit.Uit(),s=t.Bet();return this.Wit=null,s}Iit(t){this.Wit=null;const s=this.kit.Uit();s.Uet(t)}Git(){this.X$().Git()}Cit(){const t=this.X$().Cit();if(t){const s=this.Fit.Met(this.kit),i=this.X$().Let();s.Wet(i)}}_it(){const t=this.X$()._it();return t&&this.Qet(),this.X$().Yet(),t}Qet(){const t=this.Nst().eN(),s=this.X$(),i=zn.Dst.Fet(t,this),e=this.zet();e.met(i.hx()),e.SB(t),e.kB(i.Jet()),e.iit(!0),e.Vet(s.Het()),e.Wet(s.Let())}n7(){return{sourceAdapterJson:this.X$().n7()}}r7(t){t&&this.X$().r7(t.sourceAdapterJson)}}}{const Bn=self.js,Un=Bn.Dst;Un.tet=class{constructor(t){this.qet=t,this.Xet=null,this.Zet()}ln(){this.Xet&&(this.Xet.ln(),this.Xet=null),this.qet=null}Ret(){return this.Xet.Ret()}YB(){return this.qet}qtt(){this.Xet&&this.Xet.qtt()}_Z(){this.Xet&&this.Xet._Z()}Zet(){return this.Xet||(this.Xet=this.Ket()),this.Xet}Ust(){}SO(){return this.Ust()}$et(){}Ntt(){this.Zet().Ntt()}MZ(){this.Zet().MZ()}jtt(){this.Zet().jtt()}Qtt(){this.Xet.tht()}Qc(t,s,i,e,h,n,r){let o=this.qet.yet(),a;switch(o){case"numeric":a=Un.sht.Qc(t,s,i,this.qet);break;case"angle":a=Un.iht.Qc(t,s,i,this.qet);break;case"boolean":a=Un.eht.Qc(t,s,i,this.qet);break;case"color":a=Un.hht.Qc(t,s,i,this.qet);break;case"text":a=Un.nht.Qc(t,s,i,this.qet)}this.Xet.rht(t,a,s,i,e,h,n,r)}Pet(t,s,i){switch(this.qet.yet()){case"numeric":return Un.sht.Qc(t,s,i,this.qet);case"angle":return Un.iht.Qc(t,s,i,this.qet);case"boolean":return Un.eht.Qc(t,s,i,this.qet);case"color":return Un.hht.Qc(t,s,i,this.qet);case"text":return Un.nht.Qc(t,s,i,this.qet)}}Jtt(){this.Xet.oht()}Git(){this.Zet().aht()}Yet(){this.Zet().Yet()}Let(){return this.Zet().Let()}Cit(){return this.Zet().Cit()}_it(){return this.Zet()._it()}Het(){const t=this.qet,s=t.Hit(),i=s.Nst().eN(),e=Un.Fet(i,t),h=e.KZ(),n=t.yet();switch(n){case"numeric":return Un.sht.Qc(i,e,h,t);case"angle":return Un.iht.Qc(i,e,h,t);case"boolean":return Un.eht.Qc(i,e,h,t);case"color":return Un.hht.Qc(i,e,h,t);case"text":return Un.nht.Qc(i,e,h,t)}}Ket(){const t=this.qet,s=t.Iet()?t.yet():"";switch(s){case"combo":case"boolean":case"text":case"string":return new Un.lht.uht(this);case"numeric":case"number":case"angle":return new("combo"===this.qet.det()?Un.lht.uht:Un.lht.cht)(this);case"color":case"offsetColor":return new Un.lht.fht(this);default:return new Un.lht.cht(this)}}n7(){return{propertyAdapterJson:this.Zet().n7()}}r7(t){t&&this.Zet().r7(t.propertyAdapterJson)}}}{const Wn=self.js;class Qn extends Wn.Dst.tet{constructor(t){super(t),this.dht=NaN}Ust(){return this.qet.qit().ret()[0]}SO(){return this.dht||super.SO()}$et(){return this.qet.Hit().jB()}Jst(t){const s=this.qet.qit().ret()[0];s!==t&&(this.dht=t)}Qc(t,s,i,e,h,n,r){this.Zet().pht(s.uet())&&super.Qc(t,s,i,e,h,n,r)}Pet(t,s,i){if(this.Zet().pht(s.uet()))return super.Pet(t,s,i)}n7(){return Object.assign(super.n7(),{index:this.dht})}r7(t){t&&(super.r7(t),this.dht=t.index)}}Wn.Dst.Kit=Qn}{const Yn=self.js;class Jn extends Yn.Dst.tet{constructor(t){super(t),this.uJ=NaN}Ust(){const t=this.qet.qit();return t.ret()[1]}$et(){const t=this.qet.qit(),s=this.qet.Hit(),i=this.uJ||t.ret()[0],e=s.jB(),h=e.mht(i),n=e.ght()[h];return n.cz()}Tz(t){const s=this.qet.qit(),i=s.ret()[2];return t.yht(i)}Hst(t){const s=this.qet.qit();s.ret()[0]!==t&&(this.uJ=t)}Qc(t,s,i,e,h,n,r){const o=this.qet.Hit(),a=o.jB();this.Tz(a.CF())&&super.Qc(t,s,i,e,h,n,r)}Pet(t,s,i){const e=this.qet.Hit(),h=e.jB();if(this.Tz(h.CF()))return super.Pet(t,s,i)}n7(){return Object.assign(super.n7(),{sid:this.uJ})}r7(t){t&&(super.r7(t),this.uJ=t.sid)}}Yn.Dst.Xit=Jn}{const Vn=self.js;class Hn extends Vn.Dst.tet{constructor(t){super(t)}Ust(){return this.qet.qit().ret()[1]}$et(){const t=this.qet,s=t.Hit(),i=s.m3(),e=i.jj(),h=e.YP(),n=this.qst(h),r=n.SO();return e.Cz(r)?e.Mht(r):null}qst(t){const s=this.qet,i=s.qit().ret()[0];return t.wht(i)}Qc(t,s,i,e,h,n,r){this.Sht()&&super.Qc(t,s,i,e,h,n,r)}Pet(t,s,i){if(this.Sht())return super.Pet(t,s,i)}Sht(){const t=this.qet,s=t.Hit(),i=s.m3(),e=i.jj(),h=e.YP(),n=this.qst(h);if(n){const r=n.SO();return e.Cz(r)}}}Vn.Dst.Zit=Hn}{const qn=self.js;class Xn extends qn.Dst.tet{constructor(t){super(t)}Ust(){return this.qet.qit().ret()[0]}$et(){return this.qet.Hit().jB().cz()}Qc(t,s,i,e,h,n,r){const o=this.qet.Hit(),a=o.CF().TP(),u=o.jB().CF().TP();a===u&&super.Qc(t,s,i,e,h,n,r)}Pet(t,s,i){const e=this.qet.Hit(),h=e.CF().TP(),n=e.jB().CF().TP();if(h===n)return super.Pet(t,s,i)}Tht(){const t=this.qet.Hit(),s=t.CF().TP();if(qn.q9.bht&&s instanceof qn.q9.bht&&("initial-frame"===this.qet.est()||"initial-animation"===this.qet.est()))switch(this.qet.rK()){case"relative":case"absolute":return null}}}qn.Dst.$it=Xn}{const Zn=self.js;class Kn extends Zn.Dst.tet{constructor(t){super(t),this.vht=0,this.xht=!1}Ret(){return!1}MZ(){let t=this.qet.Ast(),s=this.qet.qit();s=t.Met(s),this.vht=s.dK()}jtt(){}uet(){return this.xht||this.qet.Qc(0),this.vht}Qc(t,s,i,e,h,n,r){this.vht=Zn.Dst.sht.Qc(t,s,i,this.qet),this.xht=!0}Git(){}Yet(){}Let(){return this.vht}Cit(){return!1}_it(){return!1}n7(){return{value:this.vht,init:this.xht}}r7(t){t&&(this.vht=t.value,this.xht=!t.hasOwnProperty("init")||t.init)}}Zn.Dst.iet=Kn}{const $n=self.js;class tr extends $n.Dst.tet{constructor(t){super(t),this.Iht=!1,this.Ght=null,this.Cht=null,this._ht=null,this.YZ=this.qet.Nst(),this.Pit=this.qet.Hit(),this.Eht=this.qet.net(),this.Aht=this.Eht[0],this.Dht=this.Eht[1],this.Eht[3]?this.Nht=this.Eht[3]:this.Nht=Math.random().toString(36).slice(2),this.Lht=NaN,this.Oht=NaN,this.Rht=NaN,this.Pht=null,this.kht()}ln(){super.ln(),this.Ght=null,this.Cht=null,this._ht=null,this.YZ=null,this.Pit=null,this.Eht=null,this.Aht=null,this.Pht=null}kht(){if(self.js.q9.Audio){const t=this.qet.P3(),s=t.Fht(self.js.q9.Audio);s&&(this.Ght=s.MP().cz()),this.Cht=self.js.q9.Audio.jht,this._ht=self.js.q9.Audio.zht}}Bht(){if(!this.Pht){const t=this.qet.Hit(),s=t.YB("audioSource");s&&(this.Pht=s.X$())}}Uht(){const t=this.qet.Hit(),s=t.YB("volume");return(s?s.X$():this).Oht}qtt(){super.qtt(),this.Iht=!1,this.Ght&&(this._ht&&(this.Lht=this._ht.Wht.call(this.Ght,this.Nht),this.Oht=this._ht.Qht.call(this.Ght,this.Nht)),this.Cht)&&this.Cht.yB.call(this.Ght,this.Nht)}Yht(){return this.Nht}Jht(){return this.Rht}Vht(t){this.Rht=t}MZ(){super.MZ(),this.Lht=NaN,this.Iht=!1}jtt(){super.jtt();const t=this.qet.Nst(),s=t.eN();switch(this.Lht=s-this.Dht,this.qet.est()){case"audioSource":break;case"volume":this.Oht=this.qet.Pet(s)}this.Iht=!1}Qc(t,s,i,e,h,n,r){if(this.Ght)switch(this.qet.est()){case"audioSource":{if(!this.YZ.ltt())return;if(e)return void(this.Cht&&this.Cht.yB.call(this.Ght,this.Nht));if(t<this.Dht)return void(this.Iht=!1);const o=this._ht.Hht.call(this.Ght,this.Nht),a=this.YZ._B();if(a!==o&&this.Cht.CB.call(this.Ght,this.Nht,a),this.Iht)return;if(!this.qet.Nst().IsPlaying())return;if(this.Iht=!0,isNaN(this.Lht)){const u=self.performance.now(),l=t-this.Dht,c=this.Ght.qht();if("suspended"===c)return void(this.Iht=!1);const f=self.performance.now(),d=(f-u)/1e3,p=l+d;if(this.Cht){let t=this.Jht();isNaN(t)?(this.Vht(0),t=0):this.Vht(t),this.Cht.Xht.call(this.Ght,this.Aht,t,this.Nht,p)}}else{const m=this.Lht,g=(this.Lht=NaN,this.Uht()),y=(this.Oht=NaN,this.Ght.qht());if("suspended"===y)return void(this.Iht=!1);this.Cht&&(this.Vht(g),this.Cht.Xht.call(this.Ght,this.Aht,g,this.Nht,m))}break}case"volume":this.Bht(),super.Qc(t,s,i,e,h,n,r)}}Pet(t,s,i){if(this.Ght)switch(this.qet.est()){case"audioSource":return;case"volume":return this.Bht(),super.Pet(t,s,i)}}Zht(t,s){return this.Pht?this.Pht.Jht():0}Kht(t,s,i,e){this.Pht&&this.Pht.Vht(this.Zht()+s),this.Cht&&this.Pht&&this.Cht.Vht.call(this.Ght,this.Pht.Yht(),this.Pht.Jht())}$ht(t,s,i){this.Pht&&this.Pht.Vht(s),this.Cht&&this.Pht&&this.Cht.Vht.call(this.Ght,this.Pht.Yht(),this.Pht.Jht())}tnt(){return!0}n7(){return{audioPlaybackStarted:this.Iht,audioTag:this.Nht,pauseTime:this.Lht,pauseVolume:this.Oht,volume:this.Rht}}r7(t){t&&(this.Iht=t.audioPlaybackStarted,this.Nht=t.audioTag,this.Lht=t.pauseTime,this.Oht=t.pauseVolume,this.Rht=t.volume,this.kht())}}$n.Dst.eet=tr}{const sr=self.js;sr.Dst.lht=class{constructor(t){this.jit=t,this.qet=t.YB(),this.gst=this.qet.Hit().m3(),this.snt=this.qet.est(),this.int=!1,this.ent=null,this.hnt=null}ln(){this.jit=null,this.qet=null,this.gst=null,this.ent=null,this.hnt=null}Ret(){return!1}qtt(){}_Z(){this.gst=null,this.ent=null,this.hnt=null}X$(){return this.jit}YB(){return this.qet}m3(){return this.gst||(this.gst=this.qet.Hit().m3()),this.gst}nnt(t){this.int=!!t}rnt(){return this.int}Ntt(){}MZ(){}jtt(){}aht(){this.ent=this.Let()}Yet(){this.ent=null}Let(){}Cit(){}_it(){}pht(t){const s=typeof this.ont(),i=typeof t;return s==i}tht(){}rht(t,s,i,e,h,n,r,o){}oht(){}ant(){const t=this.unt(()=>{const t=this.qet.qit(),s=this.qet.Ast();return s.Met(t)},()=>{const t=this.qet.qit(),s=this.qet.Ast();return s.lnt(t)});return t.cnt()}fnt(){const t=this.qet.Nst(),e=t.eN()-this.qet.Hit().Ytt(),s=this.unt(()=>{const t=this.qet.qit(),s=this.qet.Ast();return s.Cet(e,t)},()=>{const t=this.qet.qit(),s=this.qet.Ast(),i=s.Aet(e,t);return i||s.lnt(t)});return s.cnt()}unt(t,s){const i=this.qet.Nst();return(i.ltt()?t:s)()}dnt(t,s){const i=this.qet.rK();return("relative"===i?t:s)()}pnt(t,s){return(this.rnt()?(this.nnt(!1),t):s)()}mnt(t){}gnt(){return this.jit.SO()}ynt(){return this.hnt||(this.hnt=this.jit.$et()),this.hnt}Mnt(t,s,i,e,h,n){const r=this.qet.Bst();switch(r){case"behavior":return t();case"effect":return s();case"instance-variable":return i();case"plugin":return e();case"world-instance":return h();case"audio":return n()}}n7(){return{firstAbsoluteUpdate:this.int,saveState:this.ent}}r7(t){t&&(this.int=t.firstAbsoluteUpdate,this.ent=t.saveState)}wnt(t,s=!1){const i=[];for(const e of t){const h=e.Hit().Ytt();for(const n of e.xet())(s&&0===n.eN()||!s)&&i.push({time:h+n.eN(),value:n.cnt()})}return i.sort((t,s)=>t.time-s.time)}Snt(t,s,i){return this.Tnt(s,i)}Tnt(s,i){for(let t=i.length-1;0<=t;t--){const e=i[t].time;if(e<=s)return i[t]}return null}}}{const ir=self.js,er=new Map,hr=[0,0,0];class nr extends ir.Dst.lht{constructor(t){super(t)}Ntt(){}MZ(){}jtt(){}Let(){const t=this.qet.Bst(),s=this.ynt(),i=this.gnt();switch(t){case"behavior":return this.bnt(s.vnt(i));case"effect":return this.bnt(s[i]);case"plugin":return this.bnt(s.vnt(i));case"world-instance":return this.bnt(this.ont())}}Cit(){const t=this.ant();return!this.xnt(t,this.ont())}_it(){return!ir.Se(this.ent)&&!this.xnt(this.ent,this.ont())}xnt(t,s){return t=this.Int(t),s=this.Int(s),t.ga(s)}ant(){const t=super.ant();return this.Int(t)}fnt(){const t=super.fnt();return this.Int(t)}mnt(t){}bnt(t){return(ir.eh(t,ir.Jo)?t.toArray():t).slice(0,3)}Int(t){return ir.eh(t,ir.Jo)?t:new ir.Jo(t[0],t[1],t[2],1)}pht(t){return!0}Ret(){return!0}tht(){const t=this.qet.Nst(),s=this.qet.jB(),i=this.qet.X$(),e=t.q$(s,i,this.snt,this.qet);if(e&&1<e.length){er.has(s)||er.set(s,new Map);const h=er.get(s),n=this.qet.Bst(),r=(h.has(n)||h.set(n,new Map),h.get(n));r.has(this.snt)||r.set(this.snt,{Gnt:!1,color:new ir.Jo(0,0,0,1)})}}Cnt(t,s,i){const e=er.get(t).get(s).get(i);return e.Gnt=!0,e.color}rht(t,s,i,e,h,n,r,o){const a=this.qet.Nst(),u=this.qet.Hit(),l=this.qet.jB(),c=this.qet.X$(),f=this.qet.Bst(),d=this.snt,p=a.q$(l,c,d,this.qet);if(p&&1<p.length){const m=this.wnt(p,!0),g=this.Snt(a,a.eN(),m);if(g){const y=u.Ytt(),M=g.time-y;if(0==M)this.Cnt(l,f,this.snt).$o(s[0],s[1],s[2]);else if(!(M<0)){const w=s[0],S=s[1],T=s[2],b=this.qet.Qc(M,!1,!0),v=ir.Jo.Ha(w,b[0]),x=ir.Jo.Ha(S,b[1]),I=ir.Jo.Ha(T,b[2]);this.Cnt(l,f,this.snt).$o(v,x,I)}}}else this._nt(s[0],s[1],s[2])}oht(){const t=this.qet.jB();if(er.has(t)){const s=er.get(t),i=this.qet.Bst();if(s.has(i)){const e=s.get(i);if(e.has(this.snt)){const h=e.get(this.snt),n=h.Gnt,r=h.color;n&&this._nt(r.ua(),r.la(),r.ca()),0===e.size&&s.delete(i),0===s.size&&er.delete(t)}}}}ont(){const t=this.qet.Bst(),s=this.ynt(),i=this.gnt();switch(t){case"behavior":return this.Int(s.vnt(i));case"effect":return s[i].clone();case"plugin":return this.Int(s.vnt(i));case"world-instance":return this.m3().s5().clone()}}_nt(t,s,i){const e=this.qet.Bst(),h=this.ynt(),n=this.gnt();switch(e){case"behavior":hr[0]=t,hr[1]=s,hr[2]=i,h.Ent(n,hr);break;case"effect":h[n].Ko(t,s,i);break;case"plugin":hr[0]=t,hr[1]=s,hr[2]=i,h.Ent(n,hr);break;case"world-instance":this.m3().Ant(t,s,i)}}n7(){}r7(t){}}ir.Dst.lht.fht=nr}{const rr=self.js,or=rr.Dst;class ar extends rr.Dst.lht{constructor(t){super(t)}Ntt(){}MZ(){}jtt(){}Let(){return this.ont()}Cit(){const t=this.ant();return t!==this.Let()}_it(){return!rr.Se(this.ent)&&this.ent!==this.Let()}Ret(){return!1}rht(t,s,i,e,h,n,r,o){const a=this.qet,u=a.Hit(),l=a.Bst(),c=a.Nst(),f=u.jB(),d=a.X$(),p=this.snt,m=c.q$(f,d,p,a);if(m&&1<m.length){const y=this.wnt(m),M=t+u.Ytt(),w=this.Snt(c,M,y);w&&(s=w.value)}const g=a.yet();switch(g){case"numeric":if(or.sht.Dnt(this.gnt(),this.ynt(),s,l))break;return;case"angle":if(or.iht.Dnt(this.gnt(),this.ynt(),s,l))break;return;case"boolean":if(or.eht.Dnt(this.gnt(),this.ynt(),s,l))break;return;case"color":if(or.hht.Dnt(this.gnt(),this.ynt(),s,l))break;return;case"text":if(!or.nht.Dnt(this.gnt(),this.ynt(),s,l))return}this._nt(s)}ont(){const t=this.qet.Bst(),s=this.ynt(),i=this.gnt();switch(t){case"behavior":return s.vnt(i);case"effect":return s[i];case"instance-variable":return s.Nnt(i);case"plugin":return s.vnt(i)}}_nt(t){const s=this.qet.Bst(),i=this.ynt(),e=this.gnt();switch(s){case"behavior":i.Ent(e,t);break;case"effect":i[e]=t;break;case"instance-variable":i.Lnt(e,t);break;case"plugin":i.Ent(e,t)}}}rr.Dst.lht.uht=ar}{const ur=self.js,lr=(ur.Dst.lht,new Map),cr=(t,s,i,e,h,n=!1,r=null,o=null)=>{lr.set(t,{Ont:s,Rnt:i,Pnt:e,round:h,knt:n,init:r,reset:o})};cr("offsetX",(t,s,i,e)=>{"relative"===e.qet.rK()?t.Fnt(s,i.Nst().ott()):t.Fnt(s)},(t,s)=>t.dT(s),t=>t.fT(),!0),cr("offsetY",(t,s,i,e)=>{"relative"===e.qet.rK()?t.jnt(s,i.Nst().ott()):t.jnt(s)},(t,s)=>t.gT(s),t=>t.mT(),!0),cr("offsetWidth",(s,t,o,i,e)=>{if(0!==t){const h="relative"===i.qet.rK(),u=1===i.znt.hx();if((h||u)&&s._5()&&s.R5()){if(isNaN(i.Bnt)){let e=[],t=s.m5();for(;t;)e.push(t),t=t.m5();e.reverse();let a=(t,s)=>s.Nst().hst(t.jB()),h=(t,s)=>{const i=a(t,s);if(i)return i.nit();const e=t.jB().cz();return e.rit()?e.nit():t.Wnt().Unt()},n=(t,s,i,e=0)=>{const h=a(t,s);if(!h)return e;const n=h.YB(i);if(!n)return e;const r=n.qit().Uit();if(!r)return e;const o=r.lnt();return o?o.uet():e},r;if(u){let t=e[e.length-1];r=t.lm()}else{let s=e[0],t=s.Wnt().Unt(),i=s.Wnt().Qnt();r=t*i,r=(r+=n(s,o,"offsetWidth"))+h(s,o)*n(s,o,"offsetScaleX");for(let t=1;t<e.length;t++){const l=(s=e[t]).Wnt().Qnt();r=(r=(r*=l)+n(s,o,"offsetWidth"))+h(s,o)*n(s,o,"offsetScaleX")}}i.Bnt=0===r?Number.EPSILON:r}e||s.Jm(t/i.Bnt,!0)}else s.Jm(t)}},(t,s)=>t.Sm(s),t=>t.lm(),!0),cr("offsetHeight",(s,t,o,i,e)=>{if(0!==t){const h="relative"===i.qet.rK(),a=1===i.znt.hx();if((h||a)&&s._5()&&s.k5()){if(isNaN(i.Bnt)){let e=[],t=s.m5();for(;t;)e.push(t),t=t.m5();e.reverse();let h=(t,s)=>{e=t;const i=s.Nst().hst(e.jB());var e;if(i)return i.ait();const h=t.jB().cz();return h.rit()?h.ait():t.Wnt().Ynt()},n=(t,s,i,e=0)=>{const h=s.Nst().hst(t.jB());if(!h)return e;const n=h.YB(i);if(!n)return e;const r=n.qit().Uit();if(!r)return e;const o=r.lnt();return o?o.uet():e},r;if(a){let t=e[e.length-1];r=t.xm()}else{let s=e[0],t=s.Wnt().Ynt(),i=s.Wnt().Jnt();r=t*i,r=(r+=n(s,o,"offsetHeight"))+h(s,o)*n(s,o,"offsetScaleY");for(let t=1;t<e.length;t++){const u=(s=e[t]).Wnt().Jnt();r=(r=(r*=u)+n(s,o))+h(s,o)*n(s,o,"offsetScaleY")}}i.Bnt=0===r?Number.EPSILON:r}e||s.Vnt(t/i.Bnt,!0)}else s.Vnt(t)}},(t,s)=>t.fm(s),t=>t.xm(),!0),cr("offsetAngle",(t,s,i,e,h)=>{t.Hnt(s)},(t,s)=>t.ZP(s),t=>t.KP(),!1,!0),cr("offsetOpacity",(t,s,i,e,h)=>{const n=e.qnt||1,r=(s/=n,t._A()),o=r+s;if(0===e.Xnt)1<o?e.Xnt+=o-1:o<0&&(e.Xnt+=o),t.Znt(s);else{const a=t._A()+s;0<s&&0<e.Xnt?1<a&&(e.Xnt+=a-1):0<s&&e.Xnt<0?(e.Xnt+=s,0<e.Xnt&&(t.Znt(e.Xnt),e.Xnt=0)):s<0&&0<e.Xnt?(e.Xnt+=s,e.Xnt<0&&(t.Znt(e.Xnt),e.Xnt=0)):s<0&&e.Xnt<0&&a<0&&(e.Xnt+=a)}},(t,s)=>{t.AA(s)},t=>t._A(),!1,!0,(n,h,r)=>{switch(n.Xnt=0,n.qet.rK()){case"relative":{n.qet.Ast();let t=n.qet.qit(),s=t.Uit(),i=s.Bit(),e=n.m3()._A(),h=e;for(const o of i){const a=o.eN(),u=n.qet.Pet(a);h=e+u,h=ur.gn(h,0,1)}n.Knt=e-h,n.Knt=Math.round(100*(n.Knt+Number.EPSILON))/100,h=e;for(let t=i.length-1;0<=t;t--){const l=i[t].eN(),c=n.qet.Pet(l);h-=c,h=ur.gn(h,0,1)}n.$nt=h,n.$nt=Math.round(100*(n.$nt+Number.EPSILON))/100;break}}const t="relative"===n.qet.rK(),s=1===n.znt.hx();if((t||s)&&h._5()&&h.W5()){let s=[],t=h.m5();for(;t;)s.push(t),t=t.m5();s.reverse();let i=(t,s,i)=>{const e=s.Nst().hst(t.jB());if(!e)return 0;const h=e.YB(i);if(!h)return 0;const n=h.qit().Uit();if(!n)return 0;const r=n.lnt();return r?r.uet():0},e=s[0].Wnt().trt();e+=i(s[0],r,"offsetOpacity");for(let t=1;t<s.length;t++)e+=i(s[t],r,"offsetOpacity");n.qnt=0===e?1:e}},i=>{switch(i.qet.rK()){case"relative":{i.Xnt=0;let t=i.m3(),s=t._A();s=Math.round(100*(s+Number.EPSILON))/100,i.qet.Nst().ltt()?(t.AA(s+i.Knt),i.$x=0):(t.AA(s-i.$nt),i.$x=i.X$().Het());break}}}),cr("offsetOriginX",(t,s)=>t.srt(s),(t,s)=>t.irt(s),t=>t.Kz(),!1),cr("offsetOriginY",(t,s)=>t.ert(s),(t,s)=>t.hrt(s),t=>t.tB(),!1),cr("offsetZElevation",(t,s)=>t.nrt(s),(t,s)=>t.MT(s),t=>t.yT(),!0),cr("offsetScaleX",(t,s,i,e)=>{if(0!==s){const h=t.lm()<0?-1:1;if("relative"===e.qet.rK()&&t._5()&&t.R5()){const n=i.nit()*h*s;isNaN(e.Bnt)&&lr.get("offsetWidth").Ont(t,1,i,e,!0),t.Jm(n/e.Bnt,!0)}else t.Jm(i.nit()*h*s)}},(t,s,i)=>{t.Sm(i.nit()*s)},(e,h)=>{const n=e.lm()<0?-1:1;if(e.R5()){let t=e.m5(),s=h.Nst().hst(t.jB()),i=NaN;if(s)i=t.lm()/s.nit();else{const r=t.jB().cz();i=r.rit()?t.lm()/r.nit():1}return e.lm()*n/(h.nit()*i)}return e.lm()*n/h.nit()},!1),cr("offsetScaleY",(t,s,i,e)=>{if(0!==s){const h=t.xm()<0?-1:1;if("relative"===e.qet.rK()&&t._5()&&t.k5()){const n=i.ait()*h*s;isNaN(e.Bnt)&&lr.get("offsetHeight").Ont(t,1,i,e,!0),t.Vnt(n/e.Bnt,!0)}else t.Vnt(i.ait()*h*s)}},(t,s,i)=>{t.fm(i.ait()*s)},(e,h)=>{const n=e.xm()<0?-1:1;if(e.k5()){let t=e.m5(),s=h.Nst().hst(t.jB()),i=NaN;if(s)i=t.xm()/s.ait();else{const r=t.jB().cz();i=r.rit()?t.xm()/r.ait():1}return e.xm()*n/(h.ait()*i)}return e.xm()*n/h.ait()},!1);class fr extends ur.Dst.lht{constructor(t){super(t),this.$x=0,this.Xnt=0,this.Knt=0,this.$nt=0,this.qnt=NaN,this.Bnt=NaN,this.rrt=void 0,this.ort=void 0,this.art=null,this.urt=null,this.lrt=null,this.crt=null,this.frt=null,this.drt=null,this.prt=null,this.mrt=null,this.grt=!1,this.yrt=!1,ur.eh(this.qet.Nst(),ur.Mrt)?this.znt=new ur.Dst.lht.wrt(this):this.znt=new ur.Dst.lht.Srt(this);const s=this.qet.est();switch(this.qet.Bst()){case"world-instance":{const i=lr.get(s);this.art=i.Pnt,this.urt=i.Ont,this.lrt=i.Rnt,this.grt=i.round,this.yrt=i.knt,this.frt=i.init,this.crt=i.reset;break}case"audio":this.drt=t.Zht,this.prt=t.Kht,this.mrt=t.$ht,this.grt=!!t.tnt(),this.yrt=!1}}ln(){this.znt=null,this.art=null,this.urt=null,this.lrt=null,this.crt=null,this.frt=null,this.drt=null,this.prt=null,this.mrt=null,super.ln()}Ret(){return this.znt.Ret()}Trt(){return this.$x}brt(t){this.$x=t}Ntt(){this.crt&&this.crt(this)}MZ(){const t=this.znt.MZ();if("number"==typeof t&&(this.$x=t),this.frt){const s=this.m3(),i=this.qet.Hit();this.frt(this,s,i)}}jtt(){const t=this.znt.jtt();"number"==typeof t&&(this.$x=t)}Let(){return this.ont()}Cit(){const t=this.ant();return t!==this.Let()}_it(){return!ur.Se(this.ent)&&this.ent!==this.Let()}tht(){this.znt.tht()}rht(t,s,i,e,h,n,r,o){return this.znt.rht(t,s,i,e,h,n,r,o)}oht(){this.znt.oht()}ont(){const t=this.ynt(),s=this.gnt(),i=this.m3(),e=this.qet.Hit(),h=this.qet.Bst();switch(h){case"behavior":return t.vnt(s);case"effect":return t[s];case"instance-variable":return t.Nnt(s);case"plugin":return t.vnt(s);case"world-instance":return this.art(i,e);case"audio":return this.drt.call(this.X$(),i,e)}}_nt(t,s,i){const e=this.ynt(),h=this.gnt(),n=this.m3(),r=this.qet.Hit(),o=this.qet.Bst();switch(o){case"behavior":e.vrt(h,t);break;case"effect":e[h]+=t;break;case"instance-variable":e.xrt(h,t);break;case"plugin":e.vrt(h,t,this.X$().Tht());break;case"world-instance":this.urt(n,t,r,this);break;case"audio":this.prt.call(this.X$(),n,t,r,this)}}Irt(t,s,i){let e=this.qet.itt();if("discrete"!==(e="default"===e?"continuous":e)||s){if("discrete"===e&&i){const u=this.qet.Nst(),l=u.eN(),c=this.qet.Get(l);if(!c)return}const h=this.ynt(),n=this.gnt(),r=this.m3(),o=this.qet.Hit(),a=this.qet.Bst();switch(a){case"behavior":h.Ent(n,t);break;case"effect":h[n]=t;break;case"instance-variable":h.Lnt(n,t);break;case"plugin":h.Ent(n,t,this.X$().Tht());break;case"world-instance":this.lrt(r,t,o);break;case"audio":this.mrt.call(this.X$(),r,t,o)}}}Grt(t,s,i,e,h,n,r,o){this.znt.Grt(t,s,i,e,h,n,r,o)}Crt(t,s,i,e,h){let n=(t="angle"===this.qet.det()?ur.wn(t):t).toString(),r=n.split(".")[1]||"",o=r.length,a=this.ont(),u;switch(u=0===o?this.grt?Math.round(a):this.yrt?"angle"===this.qet.det()?ur.Mn(Math.round(ur.wn(a))):Number(ur.toFixed(a,2)):a:this.grt?Number(ur.toFixed(a,o)):(this.yrt,a),this._nt(u-a,s,i),this.qet.est()){case"offsetWidth":case"offsetScaleX":{const l=this.m3(),c=l.lm(),f=Number(ur.toFixed(c,2));l.Jm(f-c);break}case"offsetHeight":case"offsetScaleY":{const d=this.m3(),p=d.xm(),m=Number(ur.toFixed(p,2));d.Vnt(m-p);break}}}n7(){return Object.assign(super.n7(),{v:this.$x,a:this.Xnt,fod:this.Knt,bod:this.$nt,of:this.qnt,sf:this.Bnt,armorf:this.rrt,armandf:this.ort})}r7(t){t&&(super.r7(t),this.$x=t.v,this.Xnt=t.a,this.Knt=ur.ye(t.fod)?t.fod:0,this.$nt=ur.ye(t.bod)?t.bod:0,this.qnt=ur.ye(t.of)?t.of:NaN,this.Bnt=ur.ye(t.sf)?t.sf:NaN,this.rrt=ur.ye(t.armorf)?t.armorf:void 0,this.ort=ur.ye(t.armandf)?t.armandf:void 0)}}ur.Dst.lht.cht=fr}{const dr=self.js;class pr{constructor(t){this._rt=!1,this.vht=0,this.Ert=!1,this.Art=!1,this.Ist=t;for(let t=0,s=this.Ist.length;t<s;t++)this.Ist[t].Jit(this)}ist(){return this.Ist}Drt(){this._rt=!0}Nrt(){return this._rt}Vet(t){this.vht=t}uet(){return this.vht}Lrt(t){this.Ert=t}Ort(){return this.Ert}Wtt(t){this.Art=t}Rrt(){return this.Art}c0(){this._rt=!1,this.vht=0,this.Ert=!1,this.Art=!1}}class mr{constructor(t){this.Prt=t}ln(){this.Prt=null}hx(){return 0}MZ(){const t=this.Prt;return this.Prt.YB(),t.dnt(()=>t.unt(()=>0,()=>t.X$().Het()),()=>{})}jtt(){}Ret(){this.Prt;const t=this.Prt.YB();switch(t.rK()){case"relative":return!1;case"absolute":return!0}}tht(){this.Prt;const t=this.Prt.YB(),s=t.est();switch(t.rK()){case"relative":break;case"absolute":if(t.Yit()){const i=t.Vit();i.c0()}else{const e=t.Nst(),h=t.jB(),n=t.X$(),r=e.q$(h,n,s,t);r&&1<r.length&&new pr(r)}}}rht(t,s,i,e,h,n,r,o){const a=this.Prt,u=this.Prt.YB();switch(u.rK()){case"relative":{const l=a.Trt();a._nt(s-l,i,e),n&&this.Grt(t,i,e,h,l,s),a.brt(s);break}case"absolute":{const c=u.Nst(),f=u.Hit();if(u.jB(),u.X$(),u.Yit()){const d=u.Vit(),p=d.ist(),m=a.wnt(p,!0),g=a.Snt(c,c.eN(),m);if(g){const y=f.Ytt(),M=g.time-y;if(0==M)d.Wtt(r),d.Lrt(o),d.Drt(),d.Vet(d.uet()+s);else{if(M<0)return;const w=u.Pet(M);d.Wtt(r),d.Lrt(o),d.Drt(),d.Vet(d.uet()+(s-w))}}}else a.Irt(s,o,r);break}}}oht(){const t=this.Prt,s=this.Prt.YB();switch(s.rK()){case"relative":break;case"absolute":if(s.Yit()){const i=s.Vit();i.Nrt()&&t.Irt(i.uet(),i.Ort(),i.Rrt())}}}Grt(t,s,i,e,h,n){const r=this.Prt;e||(s&&t===s.eN()?r.Crt(s.dK(),s,i):i&&t===i.eN()?r.Crt(i.dK(),s,i):n-h==0&&r.Crt(s.dK(),s,i))}}dr.Dst.lht.Srt=mr}{const gr=self.js;class yr{constructor(t){this.Prt=t}ln(){this.Prt=null}hx(){return 1}MZ(){const t=this.Prt;return t.nnt(!0),this.mnt(t.ant())}jtt(){const t=this.Prt;if(t.ant()!==t.fnt())return t.nnt(!0),this.mnt(t.fnt())}Ret(){return!1}tht(){}rht(t,s,i,e,h,n,r,o){const a=this.Prt,u=a.Trt();switch(a.YB().rK()){case"relative":a._nt(s-u,i,e),n&&this.Grt(t,i,e,h,u,s,!1,r);break;case"absolute":a.rnt()?(a.nnt(!1),a._nt(u,i,e)):0===t&&0===a.YB().Nst().bB()?a.Irt(s,!0,!1):(a._nt(s-u,i,e),n&&this.Grt(t,i,e,h,u,s,this.krt(),r))}a.brt(s)}oht(){}mnt(t){const s=this.Prt;return t-s.Let()}krt(){let t=this.Prt,s=t.m3().jB(),i=t.YB().P3(),e=i.H$(),h=0;for(const n of e.VX())0===n.hx()?n.KX(s)&&h++:1===n.hx()&&n.jB()===s&&h++;return h<=1}Grt(t,s,i,e,h,n,r,o){const a=this.Prt;e?s&&t===s.eN()?a.Crt(s.dK(),s,i,r,o):i&&t===i.eN()?a.Crt(i.dK(),s,i,r,o):i||a.Crt(s.dK(),s,i,r,o):s&&t===s.eN()?a.Crt(s.dK(),s,i,r,o):i&&t===i.eN()?a.Crt(i.dK(),s,i,r,o):n-h==0&&a.Crt(s.dK(),s,i,r,o)}}gr.Dst.lht.wrt=yr}{const Mr=self.js,wr=self.Mc;Mr.Dst.sht=class{constructor(){}static Dnt(t,s,i,e){let h;switch(e){case"behavior":h=s.vnt(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Nnt(t);break;case"plugin":h=s.vnt(t)}return h!==i}static Qc(n,r,o,a){if(!o){let t=a.qit(),s=a.Ast();return(t=s.lnt(t)).dK()}let u=a.itt();if("default"===u&&(u="continuous"),"discrete"===(u="combo"===a.det()?"discrete":u))return r.dK();if("continuous"===u||"step"===u){const l=a.Nst().ttt();if("step"===u&&0!==l){const g=1/l;n=Math.floor(n*g)/g}const c=r.dK(),f=o.dK(),d=r.cK("cubic-bezier"),p=o.cK("cubic-bezier"),m=d&&d.Frt()&&p&&p.jrt();if(!m&&c===f)return c;let t=r.eN(),s=o.eN(),i=("step"===u&&0!==l&&(n=Mr.gn(n,t,s)),Mr.normalize(n,t,s)),e=r.Jet(),h;if(m){const y=s-t;h=wr.Oc(e)(y*i,0,1,y),h=wr.Oc("cubicbezier")(h,c,c+d.gK(),f+p.wK(),f)}else h=wr.Oc(e)((s-t)*i,c,f-c,s-t);return"integer"===a.det()?Math.floor(h):h}}}}{const Sr=self.js;Sr.Dst.iht=class{constructor(){}static Dnt(t,s,i,e){let h;switch(e){case"behavior":h=s.vnt(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Nnt(t);break;case"plugin":h=s.vnt(t)}return h!==i}static Qc(t,s,i,e){if(!i){let t=e.qit(),s=e.Ast();return(t=s.lnt(t)).dK()}let h=e.itt();if("default"===h&&(h="continuous"),"discrete"===(h="combo"===e.det()?"discrete":h))return s.dK();if("continuous"===h||"step"===h){const n=e.Nst().ttt();if("step"===h&&0!==n){const c=1/n;t=Math.floor(t*c)/c}const r=s.eN(),o=i.eN(),a=s.dK(),u=i.dK(),l=("step"===h&&0!==n&&(t=Sr.gn(t,r,o)),s.cK("angle"));if(!l){if(a===u)return a;const f=Sr.normalize(t,r,o),d=self.Mc.Oc(s.Jet());return Sr.Gn(a,u,d(f,0,1,1))}{const p=l.zrt();if(a===u&&0===p)return a;const m=Sr.normalize(t,r,o),g=self.Mc.Oc(s.Jet()),y=g(m,0,1,1);switch(l.Brt()){case"closest":return Sr.Gn(a,u,y,p);case"clockwise":return Sr.Cn(a,u,y,p);case"anti-clockwise":return Sr._n(a,u,y,p)}}}}}}{const Tr=self.js;Tr.Dst.eht=class{constructor(){}static Dnt(t,s,i,e){let h;switch(e){case"behavior":h=s.vnt(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Nnt(t);break;case"plugin":h=s.vnt(t)}return!!h!=!!i}static Qc(t,s,i,e){if(i)return s.dK()?1:0;{let t=e.qit(),s=e.Ast();return(t=s.lnt(t)).dK()?1:0}}}}{const br=self.js,vr=[0,0,0],xr=[0,0,0],Ir=[0,0,0];br.Dst.hht=class{constructor(){}static Dnt(t,s,i,e){let h;switch(e){case"behavior":h=s.vnt(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Nnt(t);break;case"plugin":h=s.vnt(t)}return Array.isArray(i)?(vr[0]=i[0],vr[1]=i[1],vr[2]=i[2]):(Ir.Na(i),vr[0]=Math.floor(255*Ir.ua()),vr[1]=Math.floor(255*Ir.la()),vr[2]=Math.floor(255*Ir.ca())),Array.isArray(h)?(xr[0]=h[0],xr[1]=h[1],xr[2]=h[2]):(Ir.Na(h),xr[0]=Math.floor(255*Ir.ua()),xr[1]=Math.floor(255*Ir.la()),xr[2]=Math.floor(255*Ir.ca())),vr[0]!==xr[0]||vr[1]!==xr[1]||vr[2]!==xr[2]}static Qc(t,s,i,e){if(!i){let t=e.qit(),s=e.Ast(),i=(t=s.lnt(t)).dK();return vr[0]=i[0],vr[1]=i[1],vr[2]=i[2],vr}let h=e.itt();if("discrete"===(h="default"===h?"continuous":h)){const n=s.dK();return vr[0]=n[0],vr[1]=n[1],vr[2]=n[2],vr}if("continuous"===h||"step"===h){const r=e.Nst().ttt();if("step"===h&&0!==r){const b=1/r;t=Math.floor(t*b)/b}const o=s.eN(),a=i.eN(),u=s.dK(),l=i.dK(),c=("step"===h&&0!==r&&(t=br.gn(t,o,a)),br.normalize(t,o,a)),f=s.Jet(),d=u[0],p=u[1],m=u[2],g=l[0],y=l[1],M=l[2],w=self.Mc.Oc(f),S=a-o,T=S*c;return vr[0]=d===g?d:w(T,d,g-d,S),vr[1]=p===y?p:w(T,p,y-p,S),vr[2]=m===M?m:w(T,m,M-m,S),vr}}}}{const Gr=self.js;Gr.Dst.nht=class{constructor(){}static Dnt(t,s,i,e){let h;switch(e){case"behavior":h=s.vnt(t);break;case"effect":h=s[t];break;case"instance-variable":h=s.Nnt(t);break;case"plugin":h=s.vnt(t)}return h!==i}static Qc(t,s,i,e){if(i)return s.dK();{let t=e.qit(),s=e.Ast();return(t=s.lnt(t)).dK()}}}}{const Cr=self.js;Cr.tX=class{constructor(){this.Urt=new Map}ln(){for(const t of this.Urt.values())t.ln();this.Urt.clear(),this.Urt=null}fc(t){const s=new Cr.Wrt(t),i=s.tf();this.Urt.set(i,s)}hi(t){return this.Urt.get(t)}B$(){return 0}static Qrt(t,s,i,e){if(s)for(const h of s)Cr.tX.Yrt("create",h,t,i,e)}static Jrt(t,s,i,e){if(s)for(const h of s)Cr.tX.Yrt("create-including-disabled",h,t,i,e)}static Vrt(i,t,s,e){i.length?t.forEach((t,s)=>{i[s].r7(t)}):t.forEach(t=>{Cr.tX.Yrt("load",t,i,s,e)})}static Yrt(t,s,i,e,h){let n;if("function"==typeof e)switch(t){case"load":n=new e(null,h);break;case"create":case"create-including-disabled":n=new e(s,h)}else if("object"==typeof e){const r=e.prop,o=s[r],a=e.map.get(o);switch(t){case"load":n=new a(null,h);break;case"create":case"create-including-disabled":n=new a(s,h)}}switch(t){case"load":n.r7(s),i.push(n);break;case"create":if("function"==typeof n.sit&&!n.sit())return n.ln();i.push(n);break;case"create-including-disabled":i.push(n)}}}}{const _r=self.js;_r.Wrt=class{constructor(t){this.pn="",this.Utt=NaN,this.Hrt=0,this.qrt="default",this.Xrt="default",this.Zrt=!1,this.Krt=!1,this.$rt=1,this.fst=null,this.tot="",this.sot=!1,this.iot=!0,t&&(this.pn=t[0],this.Utt=t[1],this.Hrt=t[2],this.qrt=t[3],this.Xrt=t[4],this.Zrt=!!t[6],this.Krt=!!t[7],this.$rt=t[8],this.tot=t[9],this.sot=!!t[10],this.iot=!!t[11],this.fst=new _r.eot(t[5],this))}ln(){this.fst.ln(),this.fst=null}J$(){return this.fst||(this.fst=new _r.eot(null,this)),this.fst}tf(){return this.pn}O6(t){this.pn=t}bB(){return this.Utt}TB(t){this.Utt=t}ttt(){return this.Hrt}stt(t){this.Hrt=t}itt(){return this.qrt}ett(t){this.qrt=t}rK(){return this.Xrt}htt(t){this.Xrt=t}xB(){return this.Zrt}vB(t){this.Zrt=t}GB(){return this.Krt}IB(t){this.Krt=t}Rz(){return this.$rt}ntt(t){this.$rt=t}EZ(){return this.tot}ott(){return this.sot}att(){return this.iot}n7(){return{trackDataJson:this.fst.n7(),name:this.pn,totalTime:this.Utt,step:this.Hrt,interpolationMode:this.qrt,resultMode:this.Xrt,loop:this.Zrt,pingPong:this.Krt,repeatCount:this.$rt,startOnLayout:this.tot,transformWithSceneGraph:!!this.sot,useSystemTimescale:this.iot}}r7(t){t&&(this.J$().r7(t.trackDataJson),this.pn=t.name,this.Utt=t.totalTime,this.Hrt=t.step,this.qrt=t.interpolationMode,this.Xrt=t.resultMode,this.Zrt=t.loop,this.Krt=t.pingPong,this.$rt=t.repeatCount,this.tot=t.startOnLayout,this.sot=!!t.transformWithSceneGraph,this.iot=!!t.useSystemTimescale)}}}{const Er=self.js;class Ar{constructor(t,s){this.fst=s,this.hot=null,this.not=null,this.dst=NaN,this.pst=NaN,this.qrt="default",this.Xrt="default",this.Fl=!1,this.rot=null,this.Fit=null,this.df="",this.oot=null,this.aot=0,this.uot=this.fst.$$().bB(),this.wf=0,this.pn="",t&&(t[0]&&(this.hot=t[0],this.dst=t[0][2],this.pst=t[0][1]),this.qrt=t[1],this.Xrt=t[2],this.Fl=!!t[3],t[6]&&(this.df=t[6]),t[7]&&(this.oot=t[7],this.aot=t[7][0],this.uot=t[7][1]),t[8]&&(this.not=t[8]),t[8]&&(this.not=t[8]),t[9]&&(this.wf=t[9]),t[10]&&(this.pn=t[10]),this.rot=new Er.lot(t[4],this),this.Fit=new Er.cot(t[5],this))}ln(){this.hot=null,this.fst=null,this.rot&&(this.rot.ln(),this.rot=null),this.Fit&&(this.Fit.ln(),this.Fit=null),this.oot=null}J$(){return this.fst}xst(){return this.rot||(this.rot=new Er.lot(null,this)),this.rot}Ast(){return this.Fit||(this.Fit=new Er.cot(null,this)),this.Fit}fot(){return this.hot}Pst(){return this.pst}eit(t){this.pst=t}Rst(){return this.dst}Kst(t){this.dst=t}itt(){return this.qrt}ett(t){this.qrt=t}rK(){return this.Xrt}htt(t){this.Xrt=t}sit(){return this.Fl}iit(t){this.Fl=!!t}WB(){return this.df}Ytt(){return this.aot}$st(){return this.uot}tit(t){this.uot=t}nit(){return this.not[0]}hit(t){this.not||(this.not=[]),this.not[0]=t}ait(){return this.not||(this.not=[]),this.not[1]}oit(t){this.not||(this.not=[]),this.not[1]=t}hx(){return this.wf}tf(){return this.pn}n7(){return{keyframeDataJson:this.rot.n7(),propertyTrackDataJson:this.Fit.n7(),instanceData:this.hot,additionalInstanceData:this.not,instanceUid:this.dst,objectClassIndex:this.pst,interpolationMode:this.qrt,resultMode:this.Xrt,enabled:this.Fl,id:this.df,nestedData:this.oot,type:this.wf,name:this.pn}}r7(t){t&&(this.hot=t.instanceData,this.dst=t.instanceUid,this.pst=t.objectClassIndex,this.qrt=t.interpolationMode,this.Xrt=t.resultMode,this.Fl=t.enabled,this.df=t.id,this.wf=t.type||0,this.pn=t.name||"",this.uot=this.fst.$$().bB(),t.nestedData&&(this.oot=t.nestedData,this.aot=this.oot[0],this.uot=this.oot[1]),t.additionalInstanceData&&(this.not=t.additionalInstanceData),this.xst().r7(t.keyframeDataJson),this.Ast().r7(t.propertyTrackDataJson))}}Er.eot=class{constructor(t,s){this.c$=s,this.dot=[],Er.tX.Qrt(this.dot,t,Ar,this)}ln(){this.c$=null;for(const t of this.dot)t.ln();Er.Br(this.dot),this.dot=null}$$(){return this.c$}Htt(){const t=new Ar(null,this);return this.dot.push(t),t}pot(t){return t.xst().vst()[0]}mot(t){const s=t.xst().vst();return s.at(-1)}Mit(s,t){const i=t.xst().vst(),e=i.length;for(let t=0;t<e;t++){const h=i[t];if(h.eN()===s)return h}}got(s,t){const i=t.xst().vst(),e=i.length;for(let t=0;t<e;t++){const h=i[t];if(h.eN()>s)return h}}yot(s,t){const i=t.xst().vst(),e=i.length;for(let t=0;t<e;t++){const h=i[t];if(h.eN()>=s)return h}}yit(s,t){const i=t.xst().vst();for(let t=i.length-1;0<=t;t--){const e=i[t];if(e.eN()<=s)return e}}*Y$(){for(const t of this.dot)yield t}n7(){return{trackDataItemsJson:this.dot.map(t=>t.n7())}}r7(t){t&&Er.tX.Vrt(this.dot,t.trackDataItemsJson,Ar,this)}}}{const Dr=self.js;class Nr{constructor(t,s){this.Fit=s,this.Mot="",this.wot=null,this.snt=null,this.wf=null,this.Sot=NaN,this.Tot=NaN,this.qrt="default",this.Xrt="default",this.Fl=!1,this.bot=null,this.vot=!0,t&&(this.Mot=t[0][0],this.wot=t[0].slice(1),this.snt=t[1],this.wf=t[2],this.Sot=t[3],this.Tot=t[4],this.qrt=t[5],this.Xrt=t[6],this.Fl=!!t[7],this.bot=new Dr.xot(t[8],this),this.vot=t[9])}ln(){this.bot.ln(),this.bot=null,this.Fit=null,this.wot=null}Ast(){return this.Fit}Uit(){return this.bot||(this.bot=new Dr.xot(null,this)),this.bot}Bst(){return this.Mot}het(t){this.Mot=t}ret(){return this.wot}aet(t){this.wot=t}let(){return this.snt}fet(t){this.snt=t}hx(){return this.wf}met(t){this.wf=t}wet(){return this.Sot}Tet(t){this.Sot=t}bet(){return this.Tot}vet(t){this.Tot=t}itt(){return this.qrt}ett(t){this.qrt=t}rK(){return this.Xrt}htt(t){this.Xrt=t}sit(){return this.Fl}iit(t){this.Fl=!!t}Iet(){return!!this.vot}n7(){return{propertyKeyframeDataJson:this.bot.n7(),sourceAdapterId:this.Mot,sourceAdapterArguments:this.wot,property:this.snt,type:this.wf,min:this.Sot,max:this.Tot,interpolationMode:this.qrt,resultMode:this.Xrt,enabled:this.Fl,canHavePropertyKeyframes:this.vot}}r7(t){t&&(this.Mot=t.sourceAdapterId,this.wot=t.sourceAdapterArguments,this.snt=t.property,this.wf=t.type,this.Sot=t.min,this.Tot=t.max,this.qrt=t.interpolationMode,this.Xrt=t.resultMode,this.Fl=t.enabled,this.vot=t.canHavePropertyKeyframes,this.Uit().r7(t.propertyKeyframeDataJson))}}Dr.cot=class{constructor(t,s){this.cst=s,this.Iot=[],Dr.tX.Qrt(this.Iot,t,Nr,this)}ln(){this.cst=null;for(const t of this.Iot)t.ln();Dr.Br(this.Iot),this.Iot=null}Zst(){return this.cst}bit(){const t=new Nr(null,this);return this.Iot.push(t),t}Met(t){const s=t.Uit();return s.Bit()[0]}lnt(t){const s=t.Uit(),i=s.Bit();return i.at(-1)}Get(s,t){const i=t.Uit(),e=i.Bit(),h=e.length;for(let t=0;t<h;t++){const n=e[t];if(n.eN()===s)return n}}Eet(s,t){const i=t.Uit(),e=i.Bit(),h=e.length;for(let t=0;t<h;t++){const n=e[t];if(n.eN()>s)return n}}Aet(s,t){const i=t.Uit(),e=i.Bit(),h=e.length;for(let t=0;t<h;t++){const n=e[t];if(n.eN()>=s)return n}}Cet(s,t){const i=t.Uit(),e=i.Bit();for(let t=e.length-1;0<=t;t--){const h=e[t];if(h.eN()<=s)return h}}*Est(){for(const t of this.Iot)yield t}n7(){return{propertyTrackDataItemsJson:this.Iot.map(t=>t.n7())}}r7(t){t&&Dr.tX.Vrt(this.Iot,t.propertyTrackDataItemsJson,Nr,this)}}}{const Lr=self.js;class Or{constructor(t,s){if(this.rot=s,this.$N=-1,this.Got="noease",this.Cot=!1,this.P$=null,this._ot=null,t){this.$N=t[0],this.Got=t[1],this.Cot=!!t[2];const i=t[3];this.P$=i?i.split(" "):[],this._ot=new Set(this.P$.map(t=>t.toLowerCase())),this.Eot=null}}ln(){this.rot=null,Lr.Br(this.P$),this.P$=null,this._ot.clear(),this._ot=null,this.Eot=null}xst(){return this.rot}KZ(){return this.Eot}Aot(t){this.Eot=t}eN(){return this.$N}SB(t){this.$N=t,this.rot.Dot()}Jet(){return this.Got}kB(t){this.Got=t}sit(){return this.Cot}iit(t){this.Cot=!!t}EB(){return this.P$}ctt(t){this.P$=t?t.split(" "):[],this._ot=new Set(this.P$.map(t=>t.toLowerCase()))}Not(){return this._ot}ost(t){return this._ot.has(t.toLowerCase())}n7(){return{time:this.$N,ease:this.Got,enable:this.Cot,tags:this.P$}}r7(t){t&&(this.$N=t.time,this.Got=t.ease,this.Cot=t.enable,this.P$=t.tags,this._ot=new Set(this.P$.map(t=>t.toLowerCase())))}}Lr.lot=class{constructor(t,s){this.cst=s,this.bst=[],Lr.tX.Qrt(this.bst,t,Or,this),this.Dot()}ln(){this.cst=null;for(const t of this.bst)t.ln();Lr.Br(this.bst),this.bst=null}Dot(){this.bst.sort((t,s)=>t.eN()-s.eN());for(let t=0;t<this.bst.length;t++){const s=this.bst[t];s.Aot(this.bst[t+1])}}Zst(){return this.cst}Lot(){return this.bst.length}vst(){return this.bst}Sit(){const t=new Or(null,this);return this.bst.push(t),this.Dot(),t}xit(t){for(const s of this.bst)if(t(s)){const i=this.bst.indexOf(s);-1!==i&&(s.ln(),this.bst.splice(i,1))}this.Oot(),this.Dot()}Oot(){this.bst.sort((t,s)=>t.eN()-s.eN())}Oit(t){return this.bst.indexOf(t)}Rit(t){return this.bst[t]}*Rot(){for(const t of this.bst)yield t}*Pot(){for(let t=this.bst.length-1;0<=t;t--)yield this.bst[t]}n7(){return{keyframeDataItemsJson:this.bst.map(t=>t.n7())}}r7(t){t&&(Lr.tX.Vrt(this.bst,t.keyframeDataItemsJson,Or,this),this.Dot())}}}{const Rr=self.js;class Pr{constructor(t,s){this.bot=s,this.vht=null,this.kot=null,this.wf="",this.$N=NaN,this.Got="noease",this.Cot=!1,this.Fot=null,this.jot=void 0,this.zot="line",t&&(this.vht=t[0][0],this.kot=t[0][1],this.wf=t[0][2],this.$N=t[1],this.Got=t[2],this.Cot=!!t[3],this.zot=t[5],this.Fot=null,t[4]&&(this.Fot=new Rr.Bot(t[4],this)),this.Eot=null,this.Uot=null)}ln(){this.bot=null,this.Fot&&(this.Fot.ln(),this.Fot=null),this.Eot=null,this.Uot=null}Wot(){return this.Fot}Aot(t){this.Eot=t}KZ(){return this.Eot}Qot(t){this.Uot=t}$Z(){return this.Uot}uet(){return this.vht}Vet(t){"color"===this.wf&&Rr.ye(t)?(this.vht[0]=Rr.Qn(t),this.vht[1]=Rr.Yn(t),this.vht[2]=Rr.Jn(t)):this.vht=t}cnt(){return this.kot}Wet(t){"color"===this.wf&&Rr.ye(t)?(this.kot[0]=Rr.Qn(t),this.kot[1]=Rr.Yn(t),this.kot[2]=Rr.Jn(t)):this.kot=t}dK(){const t=this.bot.qit().rK();return"relative"===t?this.uet():"absolute"===t?this.cnt():void 0}hx(){return this.wf}met(t){this.wf=t}eN(){return this.$N}SB(t){this.$N=t,this.bot.Yot()}Jet(){return this.Got}kB(t){this.Got=t}sit(){return this.Cot}iit(t){this.Cot=!!t}tK(){return this.zot}cK(s){if(this.Fot){if(!this.jot&&null!==this.jot){const i=this.Fot.Jot();if(i){const e=i.length;for(let t=0;t<e;t++){const h=i[t];if(h.WB()===s)return this.jot=h,this.jot}}this.jot=null}return this.jot}}n7(){const t=this.Fot;return{addonDataJson:t&&t.n7(),value:this.vht,aValue:this.kot,type:this.wf,time:this.$N,ease:this.Got,enable:this.Cot}}r7(t){t&&(t.addonDataJson&&this.Fot._SetFromJson(t.addonDataJson),this.vht=t.value,this.kot=t.aValue,this.wf=t.type,this.$N=t.time,this.Got=t.ease,this.Cot=t.enable)}}Rr.xot=class{constructor(t,s){this.kit=s,this.zit=[],this.Vot=[],Rr.tX.Qrt(this.zit,t,Pr,this),Rr.tX.Jrt(this.Vot,t,Pr,this),this.Yot()}ln(){this.kit=null;for(const t of this.zit)t.ln();Rr.Br(this.zit),this.zit=null;for(const s of this.Vot)s.ln();Rr.Br(this.Vot),this.Vot=null}Yot(){let s=this.zit;s.sort((t,s)=>t.eN()-s.eN());for(let t=0;t<s.length;t++){const i=s[t];t+1<s.length&&i.Aot(s[t+1]),0<=t-1&&i.Qot(s[t-1])}(s=this.Vot).sort((t,s)=>t.eN()-s.eN());for(let t=0;t<s.length;t++){const e=s[t];t+1<s.length&&e.Aot(s[t+1]),0<=t-1&&e.Qot(s[t-1])}}Bet(){const t=new Pr(null,this);return this.zit.push(t),this.Yot(),t}Uet(t){for(const s of this.zit)if(t(s)){const i=this.zit.indexOf(s);-1!==i&&(s.ln(),this.zit.splice(i,1))}this.Hot(),this.Yot()}Hot(){this.zit.sort((t,s)=>t.eN()-s.eN())}qit(){return this.kit}qot(){return this.zit.length}lnt(){return this.zit[this.zit.length-1]}Bit(){return this.zit}ZZ(){return this.Vot}*Xot(){for(const t of this.zit)yield t}*Zot(){for(let t=this.zit.length-1;0<=t;t--)yield this.zit[t]}n7(){const t=this.zit,s=this.Vot;return{propertyKeyframeDataItemsJson:t.map(t=>t.n7()),propertyKeyframeDataItemsIncludingDisabledJson:s.map(t=>t.n7())}}r7(t){t&&(Rr.tX.Vrt(this.zit,t.propertyKeyframeDataItemsJson,Pr,this),Rr.tX.Vrt(this.Vot,t.propertyKeyframeDataItemsIncludingDisabledJson,Pr,this),this.Yot())}}}{const kr=self.js;class Fr{constructor(t,s){this.Fot=s,this.df=t[0],this.Kot=t[1]}ln(){this.Fot=null,this.Kot=null}Wot(){return this.Fot}WB(){return this.df}n7(){return{id:this.df,data:this.Kot}}r7(t){t&&(this.df=t.id,this.Kot=t.data)}}class jr extends Fr{constructor(t,s){super(t,s),this.$ot=this.Kot[0],this.tat=!!this.Kot[1],this.sat=this.Kot[2],this.iat=!!this.Kot[3]}ln(){super.ln()}gK(){return this.$ot}Frt(){return this.tat}wK(){return this.sat}jrt(){return this.iat}n7(){return Object.assign(super.n7(),{startAnchor:this.$ot,startEnable:!!this.tat,endAnchor:this.sat,endEnable:!!this.iat})}r7(t){t&&(super.r7(t),this.$ot=t.startAnchor,this.tat=!!t.startEnable,this.sat=t.endAnchor,this.iat=!!t.endEnable)}}class zr extends Fr{constructor(t,s){super(t,s),this.eat=this.Kot[0],this.hat=this.Kot[1]}ln(){super.ln()}Brt(){return this.eat}zrt(){return this.hat}n7(){return Object.assign(super.n7(),{direction:this.eat,revolutions:this.hat})}r7(t){t&&(super.r7(t),this.eat=t.direction,this.hat=t.revolutions)}}kr.Bot=class{constructor(t,s){this.nat=s,this.rat=[],kr.tX.Qrt(this.rat,t,{prop:0,map:new Map([["cubic-bezier",jr],["angle",zr]])},this)}ln(){this.nat=null;for(const t of this.rat)t.ln();kr.Br(this.rat),this.rat=null}oat(){return this.nat}Jot(){return this.rat}*aat(){for(const t of this.rat)yield t}n7(){return{addonDataItemsJson:this.rat.map(t=>t.n7())}}r7(t){t&&kr.tX.Vrt(this.rat,t.addonDataItemsJson,{prop:"id",map:new Map([["cubic-bezier",jr],["angle",zr]])},this)}}}{let m=self.js,i=0;m.Mrt=class extends m.OX{constructor(t,s){super("tween-"+i++,t,s),this.df="",this.uat=!1,this.lat="start-value",this.mst=null,this.cat=null,this.fat=null,this.Pit=null,this.dat=null}W$(t){const s=m.un(m.Event,"tweenstatereleased");s.pat=this,t.dispatchEvent(s)}hx(){return 1}g$(){for(const t of this.c$.J$().Y$())this.f$.push(m.mat.X2(this,t));this.Pit=this.f$[0]}Vtt(){const t=this.c$.J$().Htt(),s=m.mat.X2(this,t);return this.f$.push(s),this.gat(),s}gat(){this.Pit=this.f$[0]}YB(t){return this.Pit.ist()[0]}pet(t){this.yat=t}jB(){const t=this.HZ();if(t&&t.length){const s=t[0];if(this.Pit=s){const i=s.jB();return s.Ost()?i:void 0}}}Mat(t){this.fat||(this.fat=[]),this.fat.push(t)}wat(t){this.cat||(this.cat=[]),this.cat.push(t)}Sat(t){if(this.fat){const s=this.fat.indexOf(t);-1!==s&&this.fat.splice(s,1)}}Tat(t){if(this.cat){const s=this.cat.indexOf(t);-1!==s&&this.cat.splice(s,1)}}bat(t,s){for(const i of this.f$)for(const e of i.Ist)if(e.est()===s){const h=e.Ast(),n=e.qit(),r=h.Met(n);r.Vet(t),r.Wet(t)}}vat(t){for(const s of this.f$)for(const i of s.Ist)if(i.est()===t)return i}xat(t){for(const s of t){const i=this.vat(s);this.bat(i.Let(),s)}if(this.ltt()){const e=this.bB()-this.eN();this.TB(e);for(const h of this.f$)h.tit(e);this.Itt(0)}else{const n=this.eN();this.TB(n);for(const r of this.f$)r.tit(n);this.Itt(n)}this.Gtt()}Iat(t,s){const i=this.vat(s),e=i.Ast(),h=i.qit(),n=e.lnt(h);n.SB(this.bB()),n.Vet(t),n.Wet(t)}Gat(t){this.df=t}WB(){return this.df}Cat(t){this.lat=t}_at(){return this.lat}UB(t){this.uat=t}BB(){return this.uat}mtt(){if(this.fat)for(const t of this.fat)t(this);if(!this.IZ())for(const s of this.f$)s._it()}gtt(){this.A$=this.cf.ytt()}CZ(){if(!this.L$&&(this.L$=!0,this.cat))for(const t of this.cat)t(this)}SB(t){this.Eat(),super.SB(t)}Dtt(t){(t=m.ye(t)?t:this.bB())<0?this.w$=0:t>=this.bB()?this.w$=this.bB():this.w$=t,this.Pit.Ntt()}MZ(t){if(!this.GZ()&&"current-state"===this._at())for(const s of this.f$)s.Cit();super.MZ(t)}yB(t=!1){if(super.yB(t),!this.IZ())for(const s of this.f$)s.Git()}c0(t=!0,s=!1){this.Eat(),super.c0(t,s)}Eat(){for(const t of this.f$){const s=t=>{const s=t.eN(),i=this.bB();return 0!==s&&s!==i};t.vit(s),t.Iit(s)}}MX(){if(!this.mB()){const t=this.jB();if(t&&t.CF().wV())return!1;this.l$.pZ(this),this.ktt()}return!0}bZ(h,t,s){if(this.mst||(this.mst=this.jB()),!this.mst||this.mst.WU())this.yB(!0),this.gtt();else{const i=this.mst.IR();if(0!==(h=-1!==i?s*i:h)||0!==this.R$){this.R$=h;const n=this.w$+this.S$,r=h*this.T$,o=n+r,a=this.c$.Utt;o<0?(this.w$=0,this.S$=-o):a<=o?(this.w$=a,this.S$=this.w$-o):(this.w$=o,this.S$=0);let t=!1,s=!1,i=this.xB(),e=this.GB();i||e?i&&!e?0<this.T$?this.w$>=a&&(this.Dtt(0),this.Aat(m.Dat.Tween.V9.OnAnyTweenLoop),this.Aat(m.Dat.Tween.V9.OnTweensLoop),s=!0):this.w$<=0&&(this.Dtt(a),this.Aat(m.Dat.Tween.V9.OnAnyTweenLoop),this.Aat(m.Dat.Tween.V9.OnTweensLoop),s=!0):!i&&e?0<this.T$?this.w$>=a&&(this.Itt(a),this.CB(-1*this._B()),s=!0,1===this.b$?this.v$<this.Rz()?(this.v$++,this.Aat(m.Dat.Tween.V9.OnAnyTweenLoop),this.Aat(m.Dat.Tween.V9.OnTweensLoop),this.Aat(m.Dat.Tween.V9.OnAnyTweenPingPong),this.Aat(m.Dat.Tween.V9.OnTweensPingPong),this.b$=0):(this.Aat(m.Dat.Tween.V9.OnAnyTweenPingPong),this.Aat(m.Dat.Tween.V9.OnTweensPingPong),t=!0):0===this.b$&&(this.Aat(m.Dat.Tween.V9.OnAnyTweenPingPong),this.Aat(m.Dat.Tween.V9.OnTweensPingPong),this.b$=1)):this.w$<=0&&(this.Itt(0),this.CB(-1*this._B()),s=!0,1===this.b$?this.v$<this.Rz()?(this.v$++,this.Aat(m.Dat.Tween.V9.OnAnyTweenLoop),this.Aat(m.Dat.Tween.V9.OnTweensLoop),this.Aat(m.Dat.Tween.V9.OnAnyTweenPingPong),this.Aat(m.Dat.Tween.V9.OnTweensPingPong),this.b$=0):(t=!0,this.Aat(m.Dat.Tween.V9.OnAnyTweenPingPong),this.Aat(m.Dat.Tween.V9.OnTweensPingPong)):0===this.b$&&(this.Aat(m.Dat.Tween.V9.OnAnyTweenPingPong),this.Aat(m.Dat.Tween.V9.OnTweensPingPong),this.b$=1)):i&&e&&(0<this.T$?this.w$>=a&&(this.Itt(a),this.CB(-1*this._B()),s=!0,0===this.b$&&(this.Aat(m.Dat.Tween.V9.OnAnyTweenPingPong),this.Aat(m.Dat.Tween.V9.OnTweensPingPong)),1===this.b$&&(this.Aat(m.Dat.Tween.V9.OnAnyTweenLoop),this.Aat(m.Dat.Tween.V9.OnTweensLoop),this.Aat(m.Dat.Tween.V9.OnAnyTweenPingPong),this.Aat(m.Dat.Tween.V9.OnTweensPingPong)),this.b$++,this.b$=m.wrap(this.b$,0,2)):this.w$<=0&&(this.Itt(0),this.CB(-1*this._B()),s=!0,0===this.b$&&(this.Aat(m.Dat.Tween.V9.OnAnyTweenPingPong),this.Aat(m.Dat.Tween.V9.OnTweensPingPong)),1===this.b$&&(this.Aat(m.Dat.Tween.V9.OnAnyTweenLoop),this.Aat(m.Dat.Tween.V9.OnTweensLoop),this.Aat(m.Dat.Tween.V9.OnAnyTweenPingPong),this.Aat(m.Dat.Tween.V9.OnTweensPingPong)),this.b$++,this.b$=m.wrap(this.b$,0,2))):0<this.T$?this.w$>=a&&(this.v$<this.Rz()?(this.v$++,this.Dtt(0),this.Aat(m.Dat.Tween.V9.OnAnyTweenLoop),this.Aat(m.Dat.Tween.V9.OnTweensLoop),s=!0):(this.Itt(a),t=!0)):this.w$<=0&&(this.v$<this.Rz()?(this.v$++,this.Dtt(a),this.Aat(m.Dat.Tween.V9.OnAnyTweenLoop),this.Aat(m.Dat.Tween.V9.OnTweensLoop),s=!0):(this.Itt(0),t=!0)),t?(this.Pit.Wtt(),this.yB(!0),this.gtt()):(this.Pit.Qc(this.w$,!0,!1,s,this.O$,!1),this.O$&&(this.O$=!1))}}}Aat(t){const s=this.jB(),i=s.Nat(m.Dat.Tween);i.PushTriggerTween(this),this.cf.fj(t,s,i.Tz()),i.PopTriggerTween()}n7(){const t=super.n7(),s=this.$$();return Object.assign(t,{tweenDataItemJson:s.n7(),id:this.df,destroyInstanceOnComplete:this.uat,initialValueMode:this.lat})}r7(t){if(t){const s=this.$$();s.r7(t.tweenDataItemJson),super.r7(t),this.df=t.id,this.uat=t.destroyInstanceOnComplete,this.lat=t.initialValueMode,this.gat()}}static IsPlaying(t){return t.IsPlaying()}static NB(t){return t.NB()}static Lat(t){return!!t.GB()&&0===t.utt()}static Oat(t){return!!t.GB()&&1===t.utt()}static Rat(t){const s=t.runtime.H$(),i=new m.Wrt;if(t.json){i.r7(t.json.tweenDataItemJson);const e=new m.Mrt(i,s);return e.r7(t.json),e}{const h=new m.Mrt(i,s),n=(m.We(t.Pat)||(t.Pat=[t.Pat]),h.Gat(t.id),h.ctt(t.tags),h.Cat(t.initialValueMode),h.UB(t.releaseOnComplete),h.vB(t.loop),h.IB(t.pingPong),h.TB(t.time),h.stt(0),h.ett("default"),h.htt(t.Pat[0].resultMode),h.ntt(t.repeatCount),h.Vtt()),r=(n.Kst(t.bz.BF()),n.ett("default"),n.htt(t.Pat[0].resultMode),n.iit(!0),n.eit(t.bz.CF().SO()),t.bz.cz()),o=r.rit()?r.nit():t.bz.m3().lm(),a=r.rit()?r.ait():t.bz.m3().xm(),u=(n.hit(o),n.oit(a),n.wit()),l=(u.SB(0),u.kB("noease"),u.iit(!0),u.ctt(""),n.wit());l.SB(t.time),l.kB("noease"),l.iit(!0),l.ctt("");for(const c of t.Pat){const f=n.Tit(),d=(f.het(c.sourceId),f.oet(c.sourceArgs),f.cet(c.property),f.pet(c.type),f.Tet(NaN),f.vet(NaN),f.ett("default"),f.htt(c.resultMode),f.iit(!0),f.zet()),p=(d.met(c.valueType),d.SB(0),d.kB(c.ease),d.iit(!0),d.Vet(c.startValue),d.Wet(c.startValue),f.zet());p.met(c.valueType),p.SB(t.time),p.kB(c.ease),p.iit(!0),p.Vet(c.endValue),p.Wet(c.endValue),f.X$()}return h}}static Kst(t,s){if(!isNaN(s))for(const i of t.HZ())i.Kst(s)}kat(t,s){return this.dat||(this.dat=m.un(self.RB,this,t,s)),this.dat}}}{const Br=self.js;Br.mat=class extends Br.V${constructor(t,s){super(t,s),this.Fat=null,this.jat=null}static X2(t,s){return Br.un(Br.mat,t,s)}zat(){1===this.Ist.length?this.Fat=this.Ist[0]:(this.Fat=this.Ist[0],this.jat=this.Ist[1])}Gst(){for(const t of this.cst.Ast().Est())this.Ist.push(Br.Bat.X2(this,t));this.zat()}Tit(){const t=this.cst.Ast(),s=t.bit(),i=Br.Bat.X2(this,s);return this.Ist.push(i),this.zat(),i}MZ(){if(this.Lst(),this.Ost()||!this.K$()){const t=this.Nst(),s=t.ltt(),i=s?0:this.$st();for(const h of this.Ist)h.MZ(i),0===this.Cst&&1===h.cit()&&(this.Cst=1),0===this.AX&&1===h.wZ()&&(this.AX=1);this._st=0;const e=this.Ist.some(t=>t.Btt());e&&(this._st=1),this.Tst=this.fit(i),this.Mst=!1,this.wst=!1,this.Qc(i)}}Qtt(){}Qc(t,s=0,i=!1,e=!1,h,n=!1,r=!1){if(this.mst||this.jB(),this.mst){const o=!this.mst.WU();return o&&(!n||!this.CF().wV())&&((this.jat?(this.Fat.Qc(t,i,e,r),this.jat):this.Fat).Qc(t,i,e,r),void(0!==this.Fat.cit()&&(this.gst||(this.gst=this.mst.m3()),this.gst)&&this.gst.Bj()))}}Jtt(){}r7(t){super.r7(t),this.zat()}}}{const Ur=self.js;Ur.Bat=class extends Ur.Dst{constructor(t,s){super(t,s),this.Uat=!1}static X2(t,s){return Ur.un(Ur.Bat,t,s)}Qc(t,s=!1,i=!1,e=!1){let h,n;if(this.Uat)h=this.zit[0],n=this.zit[1];else{if(s)h=this.Fit.Cet(t,this.kit);else{if(this.Wit){const r=this.Nst(),o=this.Wit.KZ(),a=this.Wit.eN(),u=o?o.eN():r.bB();(t<=a||u<=t)&&(this.Wit=this.Fit.Cet(t,this.kit))}else this.Wit=this.Fit.Cet(t,this.kit);h=this.Wit}n=h.KZ()}this.jit.Qc(t,h,n,s,i,e)}zet(){const t=this.kit.Uit(),s=t.Bet();return this.Wit=null,this.Uat=this.xet().length<=2,s}Iit(t){this.Wit=null;const s=this.kit.Uit();s.Uet(t),this.Uat=this.xet().length<=2}n7(){return{sourceAdapterJson:this.X$().n7(),basic:this.Uat}}r7(t){t&&(this.X$().r7(t.sourceAdapterJson),this.Uat=t.basic)}}}{const Wr=self.js,Qr=self.Mc;Wr.Yc=class extends Wr.rn{constructor(t,s=!0){super(),this.pn=t[0],this.Wat=t[2],this.Qat=[];for(const i of t[1]){const e=Wr.Yat.X2(this,i);this.Qat.push(e)}for(let t=0;t<this.Qat.length;t++){const h=this.Qat[t],n=this.Qat[t+1],r=this.Qat[t-1];h.Aot(n),h.Qot(r)}this.Jat=new Map,this.Vat=new Map,this.Hat(),s&&Qr.Vc(this.pn,(t,s,i,e)=>this.Qc(t,s,i,e),null,{transition:this})}static X2(t){return Wr.un(Wr.Yc,t)}ln(){for(const t of this.Qat)t.ln();Wr.Br(this.Qat),this.Qat=null,this.Jat.clear(),this.Jat=null,this.Vat.clear(),this.Vat=null}Jc(t){this.Wat=!!t}qat(t){const s=this.Vat.get(t);if(s)return s;for(const i of this.Qat)if(i.Xat()===t)return this.Vat.set(t,i),i}Zat(s){for(let t=this.Qat.length-1;0<=t;t--){const i=this.Qat[t],e=i.Xat();if(e<=s){let t=i;if(e<s)return t;if(e===s){for(;t;){const h=t.$Z();if(!h)break;if(h.Xat()!==t.Xat())break;t=h}return t}}}}Qc(t,s,i,e){let h=t/e;if(this.Wat){const M=this.qat(0),w=this.qat(1),S=s+(s+i)*M.Kat(),T=(s+i)*w.Kat(),b=T-S;return 0===e?S+b:Qr.qc(t,S,b,e)}0===e&&(h=1);let n=this.Zat(h),r=n.KZ();if(!r){const v=n.$Z(),x=n;n=v,r=x}const o=r.Xat()-n.Xat(),a=Wr.mn(h,n.Xat(),r.Xat(),0,o);if(n.$at()||0==o){const I=s+(s+i)*n.Kat(),G=(s+i)*r.Kat(),C=G-I;return 0==o?1===a?I+C:I:Qr.qc(a,I,C,o)}let u=n.Xat(),l=n.Kat(),c=n.Xat()+n.tut(),f=n.Kat()+n.sut(),d=r.Xat()+r.iut(),p=r.Kat()+r.eut(),m=r.Xat(),g=r.Kat(),y=Qr.Oc("spline")(a,u,l,c,f,d,p,m,g,this.Jat.get(n));return(1-(y+=n.Kat()))*s+y*(s+i)}Hat(){this.Jat.clear();for(let t=0;t<this.Qat.length-1;t++){const s=this.Qat[t];if(s.Frt()){const i=s,e=this.Qat[t+1];if(e.jrt()){const h=i.Xat(),n=i.Xat()+i.tut(),r=e.Xat()+e.iut(),o=e.Xat();this.Jat.set(i,Qr.Xc(h,n,r,o))}}}}}}{const Yr=self.js;Yr.Yat=class extends Yr.rn{constructor(t,s){super(),this.hut=t,this.nut=s[0],this.rut=s[1],this.out=s[2],this.aut=s[3],this.uut=s[4],this.lut=s[5],this.tat=s[6],this.iat=s[7],this.cut=s[8],this.Eot=null,this.Uot=null}ln(){this.hut=null}static X2(t,s){return Yr.un(Yr.Yat,t,s)}Aot(t){this.Eot=t}KZ(){return this.Eot}Qot(t){this.Uot=t}$Z(){return this.Uot}Xat(){return this.nut}Kat(){return this.rut}tut(){return this.out}sut(){return this.aut}iut(){return this.uut}eut(){return this.lut}Frt(){return this.tat}jrt(){return this.iat}$at(){return"linear"===this.cut}fut(){return"cubic"===this.cut}}}{const Jr=self.js;Jr.dut=class extends Jr.rn{constructor(t){super(),this.cf=t,this.mut=[]}ln(){for(const t of this.mut)t.ln();Jr.Br(this.mut),this.mut=null}X2(t){this.mut.push(Jr.Yc.X2(t))}}}{const Vr=self.js;Vr.gut=class extends Vr.rn{constructor(t){super(),this.cf=t,this.yut=null,this.Mut=null,this.TX=t=>this.bX(t.bz)}ln(){if(this.DX(),this.yut){for(const t of this.yut.values())t.clear();this.yut.clear()}this.yut=null,this.cf=null}X2(t){if(this.yut||(this.yut=new Map),t){const s=t[0][16],i=s[0],e=t[1],h=(this.yut.has(e)||this.yut.set(e,new Map),this.yut.get(e));h.set(i,t)}}NX(){const t=this.cf.Qf();t&&t.addEventListener("instancedestroy",this.TX)}DX(){const t=this.cf.Qf();t&&t.removeEventListener("instancedestroy",this.TX)}wut(){return!!this.yut&&0!==this.yut.size}Sut(t,s){let i;if(i=t instanceof Vr.Tut?t.SO():t,this.yut.has(i)){const e=this.yut.get(i).get(s);return e?JSON.parse(JSON.stringify(e)):void 0}}but(t,s){this.Mut||(this.Mut=new WeakMap),this.Mut.has(t)||this.Mut.set(t,s)}vut(t){if(!this.Mut)return"";const s=this.Mut.get(t);return s||""}bX(t){this.Mut&&this.Mut.has(t)&&this.Mut.delete(t)}}}{const Hr=self.js;Hr.xut=class{constructor(t){this.cf=t,this.Iut=new Hr.Gut}ln(){this.Iut.ln(),this.Iut=null,this.cf=null}P3(){return this.cf}X2(t){this.Iut.fc(t)}Cut(t){return this.Iut.hi(t)}_ut(){return this.Iut._ut()}}}{const T=self.js;T.Eut=class{constructor(t,s,i,e,h,n,r){this.cf=h.P3(),this.Aut=h,this.Dut=t,this.Nut=i,this.Lut=e,this.Zg=s,this.sX=n,this.Out=r??n.jB().BF(),this.Rut(),this.Put=this.Fut?.kut()??-1,this.jut=[],this.zut=null,this.But=NaN,this.Uut=null,this.Wut=null,this.Qut=null,this.Yut="",this.Jut=null,this.Vut="",this.Hut="",this.qut=0,this.Xut=!1,this._$=!1}ln(){this._$||(T.Br(this.jut),this.jut=null,this.cf=null,this.Aut=null,this.Lut=null,this.sX=null,this.zut=null,this.But=NaN,this.Uut&&this.Uut.clear(),this.Uut=null,this.Wut=null,this.Qut=null,this.Yut="",this.Jut=null,this.Vut="",this.Hut="",this._$=!0)}cn(){return this._$}Zut(){return this.Aut}P3(){return this.cf}tf(){return this.Dut}Kut(){return this.Lut}pB(){return this.Zg}YX(){return this.sX||(this.sX=this.cf.a3(this.Out).cz()),this.sX}$ut(){return this.tlt(this.Put)}slt(){const t=this.$ut();return t?t.pB():""}ilt(){const t=this.$ut();return t?t.EB():[]}elt(t){const s=this.ilt();if(!s)return!1;if(!s.length)return!1;const i=T.Eut.ftt(t);return!(!i||!i.length)&&i.every(T.Eut.ptt,s)}hlt(t,s){const i=this.ilt();if(!i)return!1;if(!i.length)return!1;const e=T.Eut.ftt(t);return!(!e||!e.length)&&e.every(t=>T.Eut.nlt.call(i,t,s))}static ptt(t){return""===t?1===this.length&&""===this[0]:this.map(t=>t.trim().toLowerCase()).includes(t.trim().toLowerCase())}static ftt(t){return t.trim().split(" ")}static nlt(s,i){return""===s?1===this.length&&""===this[0]:this.some(t=>T.compare(t.trim(),i,s.trim()))}rlt(t){const s=this.$ut();if(s){if(T.ye(t)){const i=s.olt(),e=i?i[t]:void 0;if(T.ye(e))return this.tlt(e)}if("string"==typeof t)for(const h of s.olt()){const n=this.tlt(h);if(n.wB(t))return this.tlt(n.kut())}}}ult(t){const s=this.rlt(t);return s?s.pB():""}llt(t){const s=this.rlt(t);return s?s.EB():""}clt(t){const s=this.$ut();if(!s)return-1;const i=s.olt();if(!i)return-1;const e=this.rlt(t);return e?i.indexOf(e.kut()):-1}flt(){const t=this.$ut();if(!t)return 0;const s=t.olt();return s?s.length:0}tlt(t){return this.Lut.tlt(t)}c0(){const t=this.dlt();t.plt(!0)}plt(t){if(this.mlt()){for(const[s,i]of this.mlt().entries())i.plt(!1);this.mlt().clear()}if(this.Uut=null,this.zut=null,this.glt=null,this.Wut=null,this.Yut="",this.Jut=null,this.Vut="",this.Hut="",this.jut=[],t){this.Aut.ylt(this);const e=this.Fut.kut();e!==this.Put&&this.Mlt(e)}else this.Put=this.Fut.kut()}wlt(){const t=this.Lut.tlt(this.Put);return t?t.Tlt().Slt():0}blt(t){const s=this.vlt(t);return s?s.tf():""}xlt(t){let s;return T.ye(t)&&(s=this.vlt(t)),"string"==typeof t&&(s=this.Ilt(t)),"number"!=typeof t&&"string"!=typeof t&&console.warn("[Flowcharts] unexpected argument type in GetCurrentNodeOutputValueAt expression"),s?s.uet():""}Glt(t){let s;if(T.ye(t)&&(s=this.vlt(t)),s="string"==typeof t?this.Ilt(t):s){const i=s.Clt();T.ye(i)&&(this.jut.push(this.Put),this.Mlt(i))}}_lt(t){const s=this.Lut.Elt(t);if(s){const i=this.Lut.tlt(s.kut());i&&(this.jut.push(this.Put),this.Mlt(i.kut()))}}Alt(){const t=this.jut.pop();T.ye(t)?this.Mlt(t):this.Dlt()&&(this.Aut.ylt(this.Dlt(),!0,!1,!1),this.Dlt().Mlt(this.Nlt()),this.dlt().Llt(this.Dlt()))}Olt(t){const s=this.$ut();if(s){s.kut();const i=this.rlt(t);i&&(this.jut.push(this.Put),this.Mlt(i.kut()))}}Rlt(s){if(T.ye(s)){const t=this.Lut.tlt(this.Put),i=t.Tlt().Plt();return!!i[s]}if("string"==typeof s){const e=this.Lut.tlt(this.Put),h=e.Tlt().Plt();for(let t=0;t<h.length;t++)if(h[t].tf()===s)return!0}return!1}klt(){this.Xut=!0}Flt(){return 0<this.qut}jlt(){this.qut++}zlt(){this.qut--,0===this.qut&&this.Xut&&this.Aut.Blt(this)}Mlt(t){const i=this.Put,s=this.YX().jB();if(this.jlt(),this.Aut.Ult(this),this.cf.fj(T.q9.Flowchart.V9.OnBeforeAnyNodeChange,s),this.cf.fj(T.q9.Flowchart.V9.OnBeforeTaggedNodeChange,s),this.cf.fj(T.q9.Flowchart.V9.OnBeforeAnyNodeChangeInFlowchart,s),this.cf.fj(T.q9.Flowchart.V9.OnBeforeTaggedNodeChangeInFlowchart,s),this.Put=t,this.cf.fj(T.q9.Flowchart.V9.OnAnyNodeChange,s),this.cf.fj(T.q9.Flowchart.V9.OnTaggedNodeChange,s),this.cf.fj(T.q9.Flowchart.V9.OnAnyNodeChangeInFlowchart,s),this.cf.fj(T.q9.Flowchart.V9.OnTaggedNodeChangeInFlowchart,s),this.Aut.Wlt(),this.zlt(),!this.cn()){const e=this.tlt(this.Put);if("reference"===e.hx()){const h=e.Qlt();if(this.Ylt(e)){this.jut.pop();const n=this.Jlt(e),r=(this.Aut.ylt(n,!0,!0,!1),n.Vlt(this,i),this.dlt());r.Llt(n)}else{const o=e.Hlt();if(h){this.jut.pop();let s=e.qlt();if(s){let t=this.Aut.Xlt(s);for(;t;)s=T.Kd(s),t=this.Aut.Xlt(s)}else{s=h+"-ref";let t=this.Aut.Xlt(s);for(;t;)s=T.Kd(s),t=this.Aut.Xlt(s)}const a=this.Aut.Zlt(h,o,s,this.sX,!0),u=(a.Vlt(this,i),this.Klt(e,a),this.dlt());a.$lt(u),u.Llt(a)}}}}}vlt(t){const s=this.Lut.tlt(this.Put);if(!s)return null;const i=s.Tlt().Plt();if(!i)return null;const e=i[t];return e||null}Ilt(t){const s=this.Lut.tlt(this.Put);if(!s)return null;const i=s.Tlt().tct(t);return i||null}Rut(s){if("number"==typeof s){let t=this.tlt(s);t=t||this.Lut.sct(),this.Fut=t}else{let t=this.Lut.Elt(this.Nut);t=t||this.Lut.sct(),this.Fut=t}}n7(){return this.Xut?null:{flowchartName:this.Dut,flowchartTag:this.Zg,startNodeTag:this.Nut,currentNodeId:this.Put,previousNodeIds:this.jut,pluginUID:this.sX.jB().BF(),reference:{previousFlowchartTag:this.Dlt()?this.Dlt().pB():"",previousStartNodeId:T.ye(this.Nlt())?this.Nlt():NaN,referencesJson:this.ict(),currentReferenceFlowchartTag:this.ect()?this.ect().pB():"",rootFlowchartTag:this.dlt()?this.dlt().pB():""}}}ict(){if(!this.hct())return null;const t=[];for(const[s,i]of this.mlt().entries())t.push({flowchartElementId:s.kut(),flowchartStateTag:i.pB()});return t.length?t:null}r7(t){if(t){if(this.Dut=t.flowchartName,this.Zg=t.flowchartTag,this.Nut=t.startNodeTag,this.Put=t.currentNodeId,this.jut=t.previousNodeIds,this.Out=t.pluginUID,t.hasOwnProperty("reference")){const s=t.reference;this.Yut=s.previousFlowchartTag,this.But=s.previousStartNodeId,this.Jut=s.referencesJson,this.Vut=s.currentReferenceFlowchartTag,this.Hut=s.rootFlowchartTag}this.Rut()}}Dlt(){return"string"==typeof this.Yut&&this.Yut&&(this.zut=this.Aut.Xlt(this.Yut),this.Yut=""),this.zut}Nlt(){return this.But}Vlt(t,s){this.zut=t,this.But=s}ect(){return"string"==typeof this.Vut&&this.Vut&&(this.Wut=this.Aut.Xlt(this.Vut),this.Vut=""),this.Wut}Llt(t){this.Wut=t,this.Wut===this&&(this.Wut=null)}dlt(){return"string"==typeof this.Hut&&this.Hut&&(this.Qut=this.Aut.Xlt(this.Hut),this.Hut=""),this.Qut||this}$lt(t){this.Qut=t}hct(){return this.nct(),!!this.Uut}Ylt(t){return this.nct(),this.Uut&&this.Uut.has(t)}nct(){if(this.Jut){this.Uut&&this.Uut.clear(),this.Uut||(this.Uut=new Map);for(const t of this.Jut){const s=this.Aut.Xlt(t.flowchartStateTag),i=s.tlt(t.flowchartElementId);this.Uut.set(i,s)}this.Jut=null}}mlt(){return this.nct(),this.Uut}Jlt(t){return this.nct(),this.Uut.get(t)}Klt(t,s){this.Uut||(this.Uut=new Map),this.Uut.set(t,s)}}}{const qr=self.js;qr.rct=class{constructor(t){this.cf=t,this.oct=new Map,this.uct=null,this.lct=[],this.cct=()=>this.GX(),this.fct=null}ln(){qr.Br(this.lct),this.lct=null,this.oct.clear(),this.oct=null,this.uct=null,this.cf=null,this.fct=null}P3(){return this.cf}Zlt(t,s,i,e,h,n){const r=this.cf.Zut().Cut(t);if(r){if(!this.oct.has(i)){const o=new qr.Eut(t,i,s,r,this,e,n);return this.oct.set(i,o),h&&this.ylt(o,!0),o}{const a=this.oct.get(i);a&&this.Blt(a)}}else console.warn(`[Flowcharts] no flowchart found with name '${t}'`)}Blt(t){if(t.klt(),!t.Flt()){const s=t.pB();this.oct.delete(s),t.ln(),this.uct===t&&(this.uct=null)}}dct(t){t.c0()}Xlt(t){return this.oct.get(t)}Ult(t){this.lct.push(t)}Wlt(){this.lct.pop()}ylt(t,s=!1,i=!1,e=!0){if(e){const h=t.ect();t=h||t}t!==this.uct&&(this.pct(),this.mct(t,s,i))}gct(t){return"string"==typeof t?this.Xlt(t):this.lct.length?this.lct[this.lct.length-1]:this.uct}pct(){if(this.uct&&!this.uct.cn()){const t=this.uct.YX().jB();this.uct.jlt(),this.Ult(this.uct),this.cf.fj(qr.q9.Flowchart.V9.OnBeforeFlowchartChange,t),this.Wlt(),this.uct.zlt()}}mct(t,s=!1,i=!1){if(this.uct=t,this.uct&&!this.uct.cn()){const e=this.uct.YX().jB();this.uct.jlt(),this.Ult(this.uct),this.cf.fj(qr.q9.Flowchart.V9.OnFlowchartChange,e),!0!==i&&"number"!=typeof i||this.uct.Rut(i),s&&(this.cf.fj(qr.q9.Flowchart.V9.OnAnyNodeChange,e),this.cf.fj(qr.q9.Flowchart.V9.OnTaggedNodeChange,e)),this.Wlt(),this.uct.zlt()}}n7(){return{flowchartJsonObjects:[...this.oct.values()].map(t=>t.n7()),currentFlowchartTag:this.uct?this.uct.pB():null}}r7(t){if(t){this.fct=t;const s=new Map;for(const i of this.fct.flowchartJsonObjects){const e=i.flowchartTag;if(this.oct.has(e)){const h=this.oct.get(e);h.r7(i),s.set(e,h)}else{const n=this.Zlt(i.flowchartName,i.startNodeTag,i.flowchartTag,null,!1,i.pluginUID);n.r7(i),s.set(i.flowchartTag,n)}}for(const[r,o]of this.oct.entries())s.has(r)||o.ln();this.oct.clear(),this.oct=s,this.cf.j9()?this.cf.Qf().addEventListener("afterload",this.cct):this.GX()}}GX(){this.cf.Qf().removeEventListener("afterload",this.cct);const t=this.oct.get(this.fct.currentFlowchartTag);t&&this.ylt(t,!0),this.fct=null}}}{const Xr=self.js;Xr.Gut=class{constructor(){this.yct=new Map}ln(){for(const t of this.yct.values())t.ln();this.yct.clear(),this.yct=null}fc(t){const s=new Xr.Mct(t),i=s.tf();this.yct.set(i,s)}hi(t){return this.yct.get(t)}_ut(){return!!this.yct.size}static wct(t,s,i,e){if(s)for(const h of s){const n=new i(h,e);t.push(n)}}}}{const Zr=self.js;Zr.Mct=class{constructor(t){this.pn=t[0],this.Sct=new Zr.Tct(t[1],this)}ln(){this.Sct.ln(),this.Sct=null}bct(){return this.Sct}tlt(t){return this.Sct.tlt(t)}Elt(t){return this.Sct.Elt(t)}sct(){return this.Sct.sct()}tf(){return this.pn}}}{const Kr=self.js;class $r{constructor(t,s){this.Sct=s,this.wf=t[7],this.vct=t[0],this.Zg=t[1],this.Zg?this.P$=this.Zg.trim().split(" ").map(t=>t.trim()):this.P$=[],this.xct=t[2],this.Ict=null,this.Gct=null,"dictionary"===this.wf&&(this.Ict=t[3],this.Gct=t[4]),this.Cct=t[6],this._ct=null,this.Ect=null,this.Act=null,"reference"===this.wf&&(this._ct=t[8],this.Ect=t[9],this.Act=t[10]),this.Dct=new Kr.Nct(t[5],this)}ln(){this.Sct=null}bct(){return this.Sct}Tlt(){return this.Dct}kut(){return this.vct}pB(){return this.Zg}EB(){return this.P$}wB(t){if(!this.P$)return!1;if(!this.P$.length)return!1;const s=Kr.Eut.ftt(t);return!(!s||!s.length)&&s.every(Kr.Eut.ptt,this.P$)}Lct(){return this.Cct}olt(){return this.xct}Oct(){return this.Ict}Rct(){return this.Gct}hx(){return this.wf}Qlt(){return this._ct}Hlt(){return this.Ect}qlt(){return this.Act}}Kr.Tct=class{constructor(t,s){this.Lut=s,this.Pct=[],this.kct=new Map,this.Fct=new Map,this.jct=null,Kr.Gut.wct(this.Pct,t,$r,this);for(const i of this.Pct){const e=i.kut(),h=i.pB(),n=i.EB(),r=i.Lct();if(this.kct.set(e,i),h)for(const a of n)this.Fct.has(a)||this.Fct.set(a,new Set),this.Fct.get(a).add(i);r&&(this.jct=i);const o=i.Tlt();for(const u of o.zct()){const l=u.kut();this.kct.set(l,u)}}}ln(){this.Lut=null;for(const t of this.Pct)t.ln();Kr.Br(this.Pct),this.Pct=null}Kut(){return this.Lut}tlt(t){return this.kct.get(t)}Elt(t){if(!t||!t.length)return null;const i=[];for(const e of t.trim().split(" ")){let t=this.Fct.get(e.trim())??new Set;if(0===t.size)return null;i.push(t)}const s=i.reduce((t,s)=>s.size<t.size?s:t);return[...s].filter(s=>i.every(t=>t.has(s)))[0]}sct(){return this.jct}*Bct(){for(const t of this.Pct)yield t}}}{const to=self.js;class so{constructor(t,s){this.Dct=s,this.vct=t[0],this.pn=t[1],this.vht=t[2],this.Uct=t[3]}ln(){this.Dct=null}Tlt(){return this.Dct}kut(){return this.vct}tf(){return this.pn}uet(){return this.vht}Clt(){return this.Uct}}to.Nct=class{constructor(t,s){this.Wct=s,this.Qct=[],this.Yct=new Map,to.Gut.wct(this.Qct,t,so,this);for(const i of this.Qct)this.Yct.set(i.tf(),i)}ln(){this.Wct=null;for(const t of this.Qct)t.ln();to.Br(this.Qct),this.Qct=null}Jct(){return this.Wct}Slt(){return this.Qct.length}Plt(){return this.Qct}tct(t){return this.Yct.get(t)}*zct(){for(const t of this.Qct)yield t}}}{const io=self.js;io.Vct=class extends io.rn{constructor(t){super(),this.Hct=t,this.qct=[],this.qct.push(io.un(io.Xct,this)),this.Xg=0,this.Zct=this.qct[0]}ln(){for(const t of this.qct)t.ln();io.Br(this.qct),this.Zct=null,this.Hct=null}CF(){return this.Hct}LP(){return this.Zct}Kct(){return this.qct[this.Xg-1]}ic(){this.LP().ic()}$ct(){const t=this.qct,s=++this.Xg;if(s===t.length){const i=io.un(io.Xct,this);t.push(i),this.Zct=i}else{const e=t[s];e.c0(),this.Zct=e}}tft(){const t=this.qct,s=++this.Xg,i=(s===t.length&&t.push(io.un(io.Xct,this)),t[s]);i.A0(t[s-1]),this.Zct=i}W6(){this.Zct=this.qct[--this.Xg]}ift(i){const e=this.qct;for(let t=0,s=e.length;t<s;++t)e[t].ift(i)}}}{const eo=self.js;eo.Xct=class extends eo.rn{constructor(t){super(),this.qct=t,this.Hct=this.qct.CF(),this.eft=this.Hct.P3().lR(),this.hft=!0,this.DY=[],this.nft=[]}ln(){this.rft(),this.qct=null,this.Hct=null,this.eft=null}rft(){eo.Br(this.DY),eo.Br(this.nft)}CF(){return this.Hct}oft(){return this.hft}aft(){return this.hft?!!this.Hct.RP():!!this.DY.length}NP(){return this.hft?this.Hct.NP():this.DY}uft(){return!!this.nft.length}lft(){return this.nft}cft(){const t=this.NP();return t.length?t:this.nft}c0(){this.hft=!0,eo.Br(this.nft)}ic(){this.hft=!0}A0(t){t.oft()?this.c0():(this.hft=!1,eo.Yr(this.DY,t.DY),eo.Br(this.nft))}fft(t){this.DY.push(t)}dft(t){this.nft.push(t)}pft(t){this.hft=!!t}mft(){return this.DY}gft(){return this.nft}yft(t){this.hft=!1,eo.Br(this.DY),this.DY.push(t)}Mft(t){this.hft=!1,eo.Yr(this.DY,t)}wft(t){this.hft=!1,eo.Br(this.DY);for(const s of t)this.DY.push(s)}Sft(t,s){for(const i of s)t.has(i)||this.nft.push(i)}Tft(t){for(const s of t)this.DY.push(s);eo.Xr(this.nft,t)}bft(){eo.Br(this.nft)}vft(t){if(t)if(this.eft.D6().eR().xft()){this.oft()&&(eo.Br(this.DY),eo.Yr(this.nft,t.CF().NP()),this.hft=!1);const s=this.nft.indexOf(t);-1!==s&&(this.DY.push(this.nft[s]),this.nft.splice(s,1))}else this.yft(t)}ift(t){eo.Xr(this.DY,t),eo.Xr(this.nft,t)}}}{const ho=self.js;ho.Ift=class extends ho.rn{constructor(t){super(),this.Gft=t,this.cf=this.Gft.P3(),this.qct=[],this.qct.push(ho.un(ho.Cft,this,null)),this.Xg=0,this._ft=[]}ln(){for(const t of this.qct)t.ln();ho.Br(this.qct),ho.Br(this._ft),this.Gft=null,this.cf=null}ZO(){return this.Gft}P3(){return this.cf}D6(){return this.qct[this.Xg]}Eft(){return this.qct}Aft(){return this.Xg}N6(t){const s=this.qct,i=++this.Xg;if(i===s.length){const e=ho.un(ho.Cft,this,t);return s.push(e),e}{const h=s[i];return h.c0(t),h}}W6(){--this.Xg}Dft(t){this._ft.push(t)}Nft(){this._ft.pop()}uR(){const t=this._ft;return 0===t.length?null:t.at(-1)}}}{const no=self.js;no.Cft=class extends no.rn{constructor(t,s){super(),this.qct=t,this.cf=this.qct.P3(),this.Lft=s,this.Oft=0,this.Rft=0,this.Pft=!1,this.kft=!1,this.Fft=null,this.jft=0,this.zft=0,this.Bft=null}ln(){this.c0(null),this.qct=null,this.cf=null}c0(t){this.Lft=t,this.Oft=0,this.Rft=0,this.Pft=!1,this.kft=!1,this.Bft=null}Uft(t,s){this.Lft=t,this.Oft=0,this.Rft=s}Wft(){this.Oft=0,this.Rft=0}eR(){return this.Lft}Qft(t){this.Lft=t}Yft(){return this.Oft}Jft(t){this.Oft=t}Vft(){return this.Rft}Hft(t){this.Rft=t}qft(t){this.Pft=!!t}Xft(){return this.Pft}Zft(t){this.kft=!!t}Kft(){return this.kft}$ft(t){this.Fft=t}t0t(){return this.Fft}s0t(t,s){this.jft=t,this.zft=s}cR(){return this.jft}fR(t){this.zft=t}i0t(){return this.zft}e0t(){const t=this.Lft;return!!t.h0t()||this.Oft<t.n0t()-1&&!!t.A6().length}r0t(t){this.Bft=t}o0t(){return this.Bft}}}{const ro=self.js;ro.a0t=class extends ro.rn{constructor(t){super(),this.Gft=t,this.cf=this.Gft.P3(),this.qct=[],this.Xg=-1,this.Zct=null,this.u0t=[]}ln(){ro.Br(this.qct),this.Gft=null,this.cf=null}l0t(t){this.u0t=t;const s=this.u0t.slice(0);this.qct.push(s),this.Xg=0,this.Zct=s}ZO(){return this.Gft}P3(){return this.cf}c0t(){return this.Zct}N6(){const t=++this.Xg,s=this.qct;t===s.length?s.push(this.u0t.slice(0)):ro.Yr(s[t],this.u0t),this.Zct=s[t]}W6(){this.Zct=this.qct[--this.Xg]}}}{const oo=self.js;oo.f0t=class extends oo.rn{constructor(t){super(),this.Gft=t,this.cf=this.Gft.P3(),this.qct=[],this.Xg=-1}ln(){oo.Br(this.qct),this.Gft=null,this.cf=null}ZO(){return this.Gft}P3(){return this.cf}d0t(){return 0<=this.Xg}c0t(){return this.qct[this.Xg]}N6(){if(++this.Xg,this.Xg===this.qct.length){const t=oo.un(oo.p0t,this);return this.qct.push(t),t}{const s=this.qct[this.Xg];return s.c0(),s}}W6(){--this.Xg}m0t(s){const i=this.qct;for(let t=this.Xg;0<=t;--t){const e=i[t];if(e.tf()===s)return e}return null}g0t(){return this.qct.slice(0,this.Xg+1)}}}{const ao=self.js;ao.p0t=class extends ao.rn{constructor(t){super(),this.y0t=t,this.pn="",this.Xg=0,this.M0t=!1,this.w0t=NaN}c0(){this.pn="",this.Xg=0,this.M0t=!1,this.w0t=NaN}O6(t){this.pn=t}tf(){return this.pn}z6(t){this.Xg=t}SO(){return this.Xg}yB(){this.M0t=!0}U6(){return this.M0t}S0t(t){this.w0t=t}T0t(){return this.w0t}}}{const uo=self.js;uo.b0t=class extends uo.rn{constructor(){super(),this.qct=[],this.Xg=-1}ln(){uo.Br(this.qct)}c0t(){return this.qct[this.Xg]}N6(){if(++this.Xg,this.Xg!==this.qct.length)return this.qct[this.Xg];{const t=[];return this.qct.push(t),t}}W6(){--this.Xg}}}{let t=function(t,s){return t.SO()-s.SO()},n=function(i,e){for(let t=0,s=i.length;t<s;++t)if(i[t]!==e[t])return!1;return!0};t,n;const lo=self.js;lo.v0t=class extends lo.rn{constructor(t){super(),this.cf=t,this.x0t=[],this.I0t=new Map,this.G0t=[],this.C0t=new Map,this._0t=new Map,this.E0t=new Map,this.A0t=new Map,this.D0t=new Map,this.N0t=new Map,this.L0t=0,this.O0t=[],this.R0t=[],this.P0t=[],this.k0t=new Map,this.F0t=new Map,this.eft=lo.un(lo.Ift,this),this.j0t=lo.un(lo.a0t,this),this.y0t=lo.un(lo.f0t,this),this.z0t=[],this.B0t=[],this.U0t=[],this.W0t=0,this.Q0t=0,this.Y0t=0,this.J0t=[],this.V0t=[],this.H0t=[],this.q0t=new Map,this.X0t=new Map,self.c3_callFunction=(t,s)=>this.Z0t(t,s)}ln(){this.aq(),this.eft.ln(),this.eft=null,this.j0t.ln(),this.j0t=null,lo.Br(this.B0t),lo.Br(this.U0t),this.cf=null,lo.Br(this.x0t),this.I0t.clear()}X2(t){const s=lo.un(lo.K0t,this,t);this.x0t.push(s),this.I0t.set(s.tf().toLowerCase(),s)}$0t(t){this.z0t.push(t)}t1t(){for(const t of this.F0t.values())t.s1t();for(const s of this.k0t.values())s.t1t();for(const i of this.F0t.values())i.t1t();for(const e of this.x0t)e.t1t();for(const h of this.x0t)h._9();for(const n of this.z0t)n.t1t(!1);lo.Br(this.z0t),this.j0t.l0t(this.P0t)}P3(){return this.cf}C9(t){return this.I0t.get(t.toLowerCase())||null}i1t(t){this.G0t.push(t),this.C0t.set(t.e1t(),t)}h1t(t){this._0t.set(t.BV(),t)}n1t(t){this.E0t.set(t.BV(),t)}r1t(t){this.A0t.set(t.BV(),t)}o1t(t){switch(t.a1t()){case 0:this.k0t.set(t.u1t().toLowerCase(),t);break;case 1:this.F0t.set(t.u1t().toLowerCase(),t)}}l1t(t){this.N0t.set(t.BV(),t),(t.wV()?this.O0t:this.R0t).push(t)}c1t(i){2<=i.length&&i.sort(t);let e=this.D0t.get(i.length);e||(e=[],this.D0t.set(i.length,e));for(let t=0,s=e.length;t<s;++t){const h=e[t];if(n(i,h))return h}return e.push(i),i}f1t(t){return this.P0t.push(t.d1t()),this.L0t++}lR(){return this.eft}p1t(){return this.lR().D6()}eR(){return this.p1t().eR()}m1t(){const t=this.p1t(),s=t.eR();return s.g1t(t.Yft())}y1t(){const t=this.p1t(),s=t.eR();return s.M1t(t.Vft())}w1t(){return this.j0t}L6(){return this.y0t}S1t(t){const s=[];for(t=t.T1t();t;)lo.qh(s,t.b1t()),t=t.T1t();return s}v1t(t){const s={};for(const i of this.S1t(t))s[i.x1t()]=i.I1t();return Object.create(Object.prototype,s)}G1t(t){return this.N0t.get(t)||null}C1t(t){return this._0t.get(t)||null}_1t(t){return this.E0t.get(t)||null}E1t(t){return this.A0t.get(t)||null}KO(t){return this.k0t.get(t.toLowerCase())||null}A1t(t,s){let i=this.F0t.get((t.tf()+"."+s).toLowerCase());if(i)return i;if(!t.LV())for(const e of t.D1t())if(i=this.F0t.get((e.tf()+"."+s).toLowerCase()))return i;return null}N1t(){return this.O0t}L1t(){return this.R0t}O1t(t){for(const s of this.O0t)s.R1t();if(t)for(const i of this.R0t)i.Hb()&&i.R1t()}P1t(t){return this.C0t.get(t.toLowerCase())||null}k1t(t){const s=this._0t.get(t);return s&&s.F1t()?s:null}j1t(){return this.G0t}z1t(){for(const t of this.G0t)t.B1t()}U1t(){for(const t of this.x0t)t.W1t()}Q1t(t){this.U1t(),this.W0t++;for(const s of t.Vq()){const i=s.s9();i&&(this.cf.Y1t(s),i._G(),this.cf.J1t())}this.W0t--}async V1t(t){this.U1t(),this.W0t++;for(const s of this.H1t(t))await this.cf.q1t(s);this.W0t--}*H1t(t){for(const s of t.Vq()){const i=s.s9();i&&(this.cf.Y1t(s),yield*i.X1t(),this.cf.J1t())}}Z1t(t,s,i,e){let h=!1;if(!t.QR())return this.K1t(s,i,e);this.Q0t++;for(const n of t.Vq()){const r=n.s9();if(r){this.cf.Y1t(n);for(const a of r.$1t()){const u=a.Z1t(s,i,e);h=h||u}const o=r.Z1t(s,i,e);h=h||o,this.cf.J1t()}}return this.Q0t--,h}*tdt(t,s,i,e){let h=!1;if(!t.QR())return this.K1t(s,i,e);this.Q0t++;for(const n of t.Vq()){const r=n.s9();if(r){this.cf.Y1t(n);for(const a of r.$1t()){const u=yield*a.tdt(s,i,e);h=h||u}const o=yield*r.tdt(s,i,e);h=h||o,this.cf.J1t()}}return this.Q0t--,h}K1t(t,s,i){return this.B0t.push([t,s,i]),!1}sdt(t,s,i){let e=null,h=new Promise(t=>e=t);return this.U0t.push([t,s,i,e]),h}*idt(){if(this.cf.edt())throw new Error("should not be in breakpoint");const t=this.cf.VR();for(;this.U0t.length;){const[s,i,e,h]=this.U0t.shift(),n=yield*this.tdt(t,s,i,e);h(n)}}async hdt(){for(const t of this.idt())await this.cf.q1t(t)}ndt(t,i,e,h){let n=!1,s=t.QR(),r=s.s9();if(r){this.Q0t++,this.cf.Y1t(s);const o=r.$1t();for(let t=0,s=o.length;t<s;++t){const u=o[t].ndt(i,e,h);n=n||u}const a=r.ndt(i,e,h);return n=n||a,this.cf.J1t(),this.Q0t--,n}}*rdt(t,i,e,h){let n=!1,s=t.QR(),r=s.s9();if(r){this.Q0t++,this.cf.Y1t(s);const o=r.$1t();for(let t=0,s=o.length;t<s;++t){const u=yield*o[t].rdt(i,e,h);n=n||u}const a=yield*r.rdt(i,e,h);return n=n||a,this.cf.J1t(),this.Q0t--,n}}odt(){return this.Q0t}adt(){return 0<this.odt()}udt(){return++this.Q0t}ldt(){--this.Q0t}cdt(){return 0<this.W0t}BP(){return this.cdt()||this.adt()}X9(t){for(const[s,i,e]of this.B0t)this.Z1t(t,s,i,e);lo.Br(this.B0t)}jP(t){t?this.Y0t++:this.Y0t--}RF(){return 0<this.Y0t}fdt(i){for(let t=0,s=i.length;t<s;++t)i[t].ddt().ic()}pdt(i){for(let t=0,s=i.length;t<s;++t)i[t].ddt().$ct()}k6(i){for(let t=0,s=i.length;t<s;++t)i[t].ddt().tft()}j6(i){for(let t=0,s=i.length;t<s;++t)i[t].ddt().W6()}hR(s){const i=new Set,e=this.eft.Eft(),h=this.eft.Aft();for(let t=0;t<=h;++t){const n=e[t].o0t();if(n)for(const r of n)s&&s.has(r)||i.add(r)}return i}mdt(t){const s=new Set([...t]),i=this.hR(s);if(0<i.size){for(const e of i)e.ddt().$ct();return[...i]}return null}gdt(){const t=lo.un(lo.ydt,this);return this.J0t.push(t),t}Mdt(){return this.J0t}wdt(){if(this.J0t.length){let i=this.p1t(),e=!1;this.W0t++;for(let t=0,s=this.J0t.length;t<s;++t){const h=this.J0t[t];h.Sdt()&&h.Tdt(i),h.bdt()&&(e=!0)}e&&(this.vdt(),i.c0(null)),this.W0t--}}async xdt(){if(this.J0t.length){let i=this.p1t(),e=!1;this.W0t++;for(let t=0,s=this.J0t.length;t<s;++t){const h=this.J0t[t];h.Sdt()&&await h.Idt(i),h.bdt()&&(e=!0)}e&&(this.vdt(),i.c0(null)),this.W0t--}}vdt(){const t=lo.qr(this.J0t,t=>t.bdt());for(const s of t)s.ln()}aq(){for(const t of this.J0t)t.ln();lo.Br(this.J0t)}Gdt(t){for(const s of this.J0t)s.ift(t);for(const i of t){const e=this.X0t.get(i);if(this.X0t.delete(i),e)for(const{resolve:h}of e.Cdt.values())h(!0)}}_dt(t){this.V0t.push({promise:t,Edt:this.odt()})}Adt(){lo.Br(this.V0t)}Ddt(){const s=this.odt();this.V0t=this.V0t.filter(t=>t.Edt<=s)}Ndt(){const t=Promise.all(this.V0t.map(t=>t.promise));return this.V0t=[],t}dR(t){const s=t.toLowerCase();this.H0t.push(s),this.cf.fj(lo.q9.H9.V9.Ldt,null),this.H0t.pop();for(const e of this.cf.ZO().Mdt())e.Odt()&&e.Rdt()===s&&e.Pdt();const i=this.q0t.get(s);i&&(i.resolve(),this.q0t.delete(s))}mR(t){const i=t.toLowerCase(),s=this.q0t.get(i);if(s)return s.promise;{let s=null,t=new Promise(t=>s=t);return this.q0t.set(i,{promise:t,resolve:s}),t}}kdt(){if(0===this.H0t.length)throw new Error("not in a signal");return this.H0t.at(-1)}Fdt(t){let s=this.X0t.get(t);return s||(s={jdt:[],Cdt:new Map},this.X0t.set(t,s)),s}KF(t,s){const i=this.Fdt(t),e=s.toLowerCase();i.jdt.push(e),this.cf.fj(t.TP().Bdt().V9.zdt,t),i.jdt.pop();for(const n of this.cf.ZO().Mdt())n.Udt()&&n.Rdt()===e&&n.Wdt(t);const h=i.Cdt.get(e);h&&(h.resolve(!1),i.Cdt.delete(e)),0===i.jdt.length&&0===i.Cdt.size&&this.X0t.delete(t)}$F(t,s){const i=this.Fdt(t),e=s.toLowerCase(),h=i.Cdt.get(e);if(h)return h.promise;{let s=null,t=new Promise(t=>s=t);return i.Cdt.set(e,{promise:t,resolve:s}),t}}Qdt(t){const s=this.Fdt(t);if(s&&0!==s.jdt.length)return s.jdt.at(-1);throw new Error("not in a signal")}n7(){return{groups:this.Ydt(),cnds:this.Jdt(),acts:this.Vdt(),vars:this.Hdt(),waits:this.qdt()}}r7(t){this.Xdt(t.groups),this.Zdt(t.cnds),this.Kdt(t.acts),this.$dt(t.vars),this.tpt(t.waits)}Ydt(){const t={};for(const s of this.j1t())t[s.BV().toString()]=s.spt();return t}Xdt(t){for(const[s,i]of Object.entries(t)){const e=parseInt(s,10),h=this.k1t(e);h&&h.ipt(i)}}Jdt(){const t={};for(const[s,i]of this.E0t){const e=i.n7();e&&(t[s.toString()]=e)}return t}Zdt(t){const s=new Map;for(const[i,e]of Object.entries(t))s.set(parseInt(i,10),e);for(const[h,n]of this.E0t)n.r7(s.get(h)||null)}Vdt(){const t={};for(const[s,i]of this.A0t){const e=i.n7();e&&(t[s.toString()]=e)}return t}Kdt(t){const s=new Map;for(const[i,e]of Object.entries(t))s.set(parseInt(i,10),e);for(const[h,n]of this.A0t)n.r7(s.get(h)||null)}Hdt(){const t={};for(const[s,i]of this.N0t)i.ept()||!i.wV()&&!i.Hb()||(t[s.toString()]=i.uet());return t}$dt(t){for(const[s,i]of Object.entries(t)){const e=parseInt(s,10),h=this.G1t(e);h&&h.Vet(i)}}qdt(){return this.J0t.filter(t=>!t.hpt()).map(t=>t.n7())}tpt(t){this.aq();for(const s of t){const i=lo.ydt.npt(this,s);i&&this.J0t.push(i)}}rpt(){return[...this.cf.VR().Vq()].map(t=>t.s9()).filter(t=>t).map(t=>t.opt())}apt(t){for(;t;){const s=t.T1t();if(s instanceof lo.upt)return s;t=s}return null}Z0t(t,s){Array.isArray(s)||(s=[]);const i=this.KO(t.toLowerCase());if(!i)return null;if(!i.Kl())return i.$O();const e=i.lpt();if(s.length<e.length)for(s=s.slice(0);s.push(e[s.length].d1t()),s.length<e.length;);const h=i.sR();return h.nR(h.iR(),!1,i.oR(),i.$O(),...s)}}}{const co=self.js;co.K0t=class extends co.rn{constructor(t,s){super(),this.Gft=t,this.cf=t.P3(),this.pn=s[0],this.cpt=[],this.fpt=new Map,this.dpt=new Map,this.ppt=new Map,this.mpt=!1,this.gpt=[],this.ypt=[],this.Mpt=new Set;for(const i of s[1])this.wpt(i,null,this.cpt);this.Spt=this.cf._q()?{type:"sheet",name:this.pn,Tpt:0,children:[]}:null}ln(){this.Gft=null,this.cf=null}wpt(t,s,i){switch(t[0]){case 0:case 3:this.bpt(t,s,i);break;case 1:this.vpt(t,s,i);break;case 2:this.xpt(t,s,i);break;case 4:this.Ipt(t,s);break;case 5:this.Gpt(t,s,i);break;case 6:this.Cpt(t,s);break;default:throw new Error("invalid event type")}}bpt(t,s,i){const e=co._pt.X2(this,s,t);if(e.xft()){i.push(e);const h=e.Ept();for(let t=0,s=h.length;t<s;++t)h[t].Apt()&&this.Dpt(e,t)}else e.Apt()?this.Dpt(e,0):i.push(e)}Ipt(t,s){const i=co.upt.Npt(this,s,t);this.Gft.o1t(i)}Cpt(t,s){const i=co.upt.Lpt(this,s,t);this.Gft.o1t(i)}vpt(t,s,i){const e=co.Opt.X2(this,s,t);i.push(e)}xpt(t,s,i){const e=co.Rpt.X2(this,s,t);i.push(e)}Gpt(t,s,i){const e=co.Ppt.X2(this,s,t);i.push(e)}Dpt(h,n){h.xft()||this.Gft.$0t(h);const r=h.g1t(n),o=r.kpt(),a=r.CF();if(r.Fpt()){let t=this.dpt.get(a),s=(t||(t=new Map,this.dpt.set(a,t)),r.jpt().toLowerCase()),i=t.get(o),e=(i||(i=new Map,t.set(o,i)),i.get(s));e||(e=[],i.set(s,e)),e.push([h,n])}else{let t=this.fpt.get(a),s=(t||(t={zpt:new Map,Bpt:new Map},this.fpt.set(a,t)),r.Tz()),i,e=(s?(i=t.Bpt.get(s))||(i=new Map,t.Bpt.set(s,i)):i=t.zpt,i.get(o));e||(e=[],i.set(o,e)),e.push([h,n])}}t1t(){const i=this.cpt;for(let t=0,s=i.length;t<s;++t){const e=t<s-1&&i[t+1]instanceof co._pt&&i[t+1].Upt();i[t].t1t(e)}}Wpt(t){this.gpt.push(t)}_9(){co.Br(this.ypt),this.Qpt(this),this.Mpt.clear()}Qpt(t){const s=t.ypt,i=t.Mpt;for(const e of this.gpt){const h=e.Ypt();e.Jpt()&&t!==h&&!i.has(h)&&(i.add(h),h.Qpt(t),s.push(h))}}$1t(){return this.ypt}ZO(){return this.Gft}P3(){return this.cf}tf(){return this.pn}Vpt(t,s){this.ppt.set(s,t)}Hpt(t){return this.ppt.get(t)||null}W1t(){this.mpt=!1}_G(){if(!this.mpt){const t=this.cf,s=t.qpt(),i=s?performance.now():0,e=(this.mpt=!0,this.ZO()),h=e.p1t();for(const n of this.cpt)n._G(h),e.fdt(n.A6()),e.Adt(),t.WP();h.c0(null),s&&(this.Spt.Tpt+=performance.now()-i)}}*X1t(){if(!this.mpt){this.mpt=!0;const t=this.cf,s=this.ZO(),i=s.p1t();for(const e of this.cpt)yield*e.X1t(i),s.fdt(e.A6()),s.Adt(),t.WP();i.c0(null)}}Z1t(e,h,n){if(!h)return this.Xpt(e,h,null,null);{let t=h.CF(),s=!1,i=this.Xpt(e,h,t,n);s=s||i;for(const r of t.D1t())i=this.Xpt(e,h,r,n),s=s||i}}Xpt(t,s,i,e){const h=this.fpt.get(i);if(!h)return!1;const n=e?h.Bpt.get(e):h.zpt;if(!n)return!1;const r=n.get(t);if(!r)return!1;let o=!1;for(const[a,u]of r){const l=this.Zpt(s,a,u);o=o||l}return o}*tdt(e,h,n){if(!h)return yield*this.Kpt(e,h,null,null);{let t=h.CF(),s=!1,i=yield*this.Kpt(e,h,t,n);s=s||i;for(const r of t.D1t())i=yield*this.Kpt(e,h,r,n),s=s||i}}*Kpt(t,s,i,e){const h=this.fpt.get(i);if(!h)return!1;const n=e?h.Bpt.get(e):h.zpt;if(!n)return!1;const r=n.get(t);if(!r)return!1;let o=!1;for(const[a,u]of r){let t;t=a.$pt()?this.Zpt(s,a,u):yield*this.tmt(s,a,u),o=o||t}return o}ndt(t,s,i){const e=s.CF(),h=this.dpt.get(e);if(!h)return!1;const n=h.get(t);if(!n)return!1;const r=n.get(i);if(!r)return!1;let o=!1;for(let t=0,s=r.length;t<s;++t){const a=r[t],u=this.Zpt(null,a[0],a[1]);o=o||u}return o}*rdt(t,s,i){const e=s.CF(),h=this.dpt.get(e);if(!h)return!1;const n=h.get(t);if(!n)return!1;const r=n.get(i);if(!r)return!1;let o=!1;for(let h=0,t=r.length;h<t;++h){let t=r[h],s=t[0],i=t[1],e;e=s.$pt()?this.Zpt(null,s,i):yield*this.tmt(null,s,i),o=o||e}return o}Zpt(t,s,i){let e=this.cf,h=this.Gft,n=h.eR(),r=h.lR(),o=h.odt(),a=!1;n&&h.pdt(n.iR()),h.pdt(s.iR());const u=1<o,l=(u&&h.w1t().N6(),r.N6(s));if(t){const f=s.Ept()[i].CF(),d=f.LP();d.yft(t),t.jF()&&t.smt()}let c=!0;if(s.m5()){const p=s.imt();for(let t=0,s=p.length;t<s;++t)if(!p[t].emt(l)){c=!1;break}}return c&&(s.xft()?s.hmt(l,i):s._G(l),a=l.Xft()),r.W6(),u&&h.w1t().W6(),h.j6(s.iR()),n&&h.j6(n.iR()),n||1!==o||(h.Adt(),h.RF())||e.WP(),a}*tmt(t,s,i){let e=this.cf,h=this.Gft,n=h.eR(),r=h.lR(),o=h.odt(),a=!1;n&&h.pdt(n.iR()),h.pdt(s.iR());const u=1<o,l=(u&&h.w1t().N6(),r.N6(s));if(t){const f=s.Ept()[i].CF(),d=f.LP();d.yft(t),t.jF()&&t.smt()}let c=!0;if(s.m5()){const p=s.imt();for(let t=0,s=p.length;t<s;++t)if(!(yield*p[t].nmt(l))){c=!1;break}}return c&&(s.xft()?yield*s.rmt(l,i):yield*s.X1t(l),a=l.Xft()),r.W6(),u&&h.w1t().W6(),h.j6(s.iR()),n&&h.j6(n.iR()),n||1!==o||(h.Adt(),h.RF())||e.WP(),a}opt(){return this.Spt}}}{let l=function(t,s){return!0};l;const fo=self.js,po=[];function*j(t,s){return!0}fo._pt=class extends fo.rn{constructor(t,s,i){super(),this.w7=t,this.cf=t.P3(),this.omt=s,this.amt=null,this.eft=this.cf.ZO().lR(),this.umt=[],this.lmt=[],this.cmt=!1,this.fmt=!1,this.dmt=!1,this.pmt=!1,this.mmt=!!i[2],this.gmt=!1,this.ymt=null,this.Mmt=[],this.Cht=[],this.wmt=[],this.Smt=l,this.Tmt=j,this.bmt=!1,this.vmt=!1,this.xmt="",this.Imt=!1,this.Gmt=null,this.Spt=null,this.uJ=i[4],this.Cmt=i[5],this.w7.Vpt(this,this.Cmt),this._mt=this.cf._q()?{Emt:i[3][0],Amt:i[3][1],Dmt:!1,Nmt:!1,Lmt:!1,Omt:!1}:null,this.ZO().h1t(this),3===i[0]&&this.Rmt(i[1]);let e=0;for(const h of i[6]){const n=fo.Pmt.X2(this,h,e++);this.Mmt.push(n),this.kmt(n.CF())}e=0;for(const r of i[7]){const o=fo.Fmt.X2(this,r,e++);this.Cht.push(o)}if(9===i.length){const a=i[8];for(const u of a)this.w7.wpt(u,this,this.wmt)}this.Mmt.length&&(this.gmt=null===this.Mmt[0].CF()&&this.Mmt[0].kpt()===fo.q9.H9.V9.jmt),0===this.Mmt.length&&(this.Mmt=po),0===this.Cht.length&&(this.Cht=po),0===this.wmt.length&&(this.wmt=po)}static X2(t,s,i){return fo.un(fo._pt,t,s,i)}Rmt(t){this.bmt=!0,this.vmt=!!t[0],this.Imt=this.vmt,this.xmt=t[1].toLowerCase(),this.Gmt=[],this.ZO().i1t(this),this.cf._q()&&(this.Spt={type:"group",name:t[1],Tpt:0,children:[]})}zmt(t){this.Gmt.push(t)}Bmt(t,s){for(const i of t.p9().tq())s.includes(i)||s.push(i)}Umt(t,s){if(t)if(s.includes(t)||s.push(t),t.LV())for(const i of t.Wmt())i.jF()&&this.Bmt(i,s);else t.jF()&&this.Bmt(t,s)}kmt(t){this.Umt(t,this.umt)}Qmt(t){this.Umt(t,this.lmt)}Ymt(){this.umt=this.cf.NV()}t1t(t){this.pmt=!!t,this.Jmt(),this.Vmt();for(const s of this.Mmt)s.t1t();if(0<this.Cht.length){let t=!1;for(const e of this.Cht)e.t1t(),e.Hmt()&&(t=!0);t?(this.Smt=this.qmt,this.Tmt=this.Xmt):(this.Smt=this.Zmt,this.Tmt=this.Kmt)}const i=this.wmt;for(let t=0,s=i.length;t<s;++t){const h=t<s-1&&i[t+1]instanceof fo._pt&&i[t+1].Upt();i[t].t1t(h)}this._mt&&this.$mt(),this.Spt&&this.tgt().opt().children.push(this.Spt)}opt(){return this.Spt}tgt(){let t=this.m5();for(;t;){if(t.F1t())return t;t=t.m5()}return this.w7}$mt(){const t=this._mt;t.Dmt=this.Mmt.every(t=>t.$pt()),t.Nmt=this.Cht.every(t=>t.$pt()),t.Lmt=this.wmt.every(t=>t.$pt()),t.Omt=t.Dmt&&t.Nmt&&t.Lmt}sgt(){let t=this;for(;t.$mt(),t=t.m5(););}Jmt(){if(this.F1t()){let t=this.m5();for(this.dmt=!0;t;){if(!t.F1t()){this.dmt=!1;break}t=t.m5()}}}igt(){const t=this.cf.NV();if(this.umt===t)this.lmt=t;else{this.lmt=fo.$r(this.umt);let t=this.m5();for(;t;){for(const i of t.umt)this.Qmt(i);t=t.m5()}const s=this.ZO();this.umt=s.c1t(this.umt),this.lmt=s.c1t(this.lmt)}}Vmt(){if(this.egt()){this.ymt=[];let t=this.m5();for(;t;)this.ymt.push(t),t=t.m5();this.ymt.reverse()}}hgt(){this.fmt=!0,this.omt&&this.omt.hgt()}h0t(){return this.fmt}A6(){return this.umt}iR(){return this.cmt||(this.cmt=!0,this.igt()),this.lmt}ngt(t){return this.umt.includes(t)}imt(){return this.ymt}s9(){return this.w7}ZO(){return this.w7.ZO()}P3(){return this.cf}m5(){return this.omt}rgt(t){this.amt=t}T1t(){return this.amt||this.omt}ogt(){return this.Cmt}agt(){return this._mt&&this._mt.Amt}ugt(){return this.agt()&&this._mt.Emt}lgt(t){this._mt.Emt=!!t,this.sgt()}F1t(){return this.bmt}cgt(){return this.dmt}Upt(){return this.gmt}fgt(){return this.pmt}e1t(){return this.xmt}spt(){return this.Imt}B1t(){this.ipt(this.vmt)}ipt(t){if(t=!!t,!this.bmt)throw new Error("not a group");if(this.Imt!==t){this.Imt=t;for(const s of this.Gmt)s.dgt();if(this.Gmt.length){const i=this.cf.f3(),e=i.s9();e&&e._9()}}}BV(){return this.uJ}xft(){return this.mmt}Apt(){return this.Mmt.length&&this.Mmt[0].Apt()}pgt(){return this.amt&&this.amt instanceof fo.upt}egt(){return this.pgt()||this.Mmt.some(t=>t.Apt())}Ept(){return this.Mmt}n0t(){return this.Mmt.length}g1t(t){if((t=Math.floor(t))<0||t>=this.Mmt.length)throw new RangeError("invalid condition index");return this.Mmt[t]}mgt(t){return this.g1t(t)}ggt(t){let s=t.SO();if(0!==s){--s;const i=t.ygt()?t.Mgt():t.CF();for(;0<=s;--s){const e=this.Mmt[s];if(i===e.CF()||e.ygt()&&e.Mgt()===i)return!1}}return!0}wgt(){return this.Cht}Sgt(){return this.Cht.length}M1t(t){if((t=Math.floor(t))<0||t>=this.Cht.length)throw new RangeError("invalid action index");return this.Cht[t]}Tgt(s){s=Math.floor(s);const t=this.Cht.find(t=>t.bgt()===s);if(t)return t;throw new RangeError("invalid action debug index")}vgt(t){return 0<=(t=Math.floor(t))&&t<this.Cht.length}xgt(){return this.wmt}b1t(){return this.wmt.filter(t=>t instanceof fo.Opt)}emt(i){i.Qft(this);let e=this.Mmt,h=0===e.length;for(let t=0,s=e.length;t<s;++t){const n=e[t];if(i.Jft(t),n.Oz())throw new Error("trigger cannot be used as sub-event to a loop");if(n._G())h=!0;else if(!this.mmt)return!1}return!this.mmt||h}hmt(t,s){t.Qft(this),t.Jft(s),this.Mmt[s]._G()&&(this.Smt(t,0)&&this.Igt(t),t.qft(!0))}*nmt(i){i.Qft(this);let e=this.Mmt,h=0===e.length;for(let t=0,s=e.length;t<s;++t){const n=e[t];if(i.Jft(t),n.Oz())throw new Error("trigger cannot be used as sub-event to a loop");if(n.$pt()?n._G():yield*n.X1t())h=!0;else if(!this.mmt)return!1}return!this.mmt||h}*rmt(t,s){t.Qft(this),t.Jft(s);let i=this.Mmt[s];if(i.$pt()?i._G():yield*i.X1t())(this.Ggt()?this.Smt(t,0):yield*this.Tmt(t,0))&&(this.Cgt()?this.Igt():yield*this._gt()),t.qft(!0)}_G(t){t.Qft(this),this.gmt||t.Zft(!1),this.mmt?this.Egt(t):this.Agt(t)}*X1t(t){(this.ugt()||this.cf.Dgt())&&(yield this),t.Qft(this),this.gmt||t.Zft(!1),this.mmt?yield*this.Ngt(t):yield*this.Lgt(t)}Egt(i){let e=this.Mmt,h=0===e.length;for(let t=0,s=e.length;t<s;++t){const n=e[t];if(!n.Apt()){i.Jft(t);const r=n._G();h=h||r}}i.qft(h),h&&(this.Smt(i,0)&&this.Igt(i),this.pmt)&&i.Zft(!0)}*Ngt(i){let e=this.Mmt,h=0===e.length;for(let s=0,t=e.length;s<t;++s){const n=e[s];if(!n.Apt()){i.Jft(s);let t;t=n.$pt()?n._G():yield*n.X1t(),h=h||t}}if(i.qft(h),h)(this.Ggt()?this.Smt(i,0):yield*this.Tmt(i,0))&&(this.Cgt()?this.Igt():yield*this._gt()),this.pmt&&i.Zft(!0)}Agt(i){const e=this.Mmt;for(let t=0,s=e.length;t<s;++t){const h=e[t],n=(i.Jft(t),h._G());if(!n)return void i.qft(!1)}i.qft(!0),this.Smt(i,0)&&this.Igt(i),i.Xft()&&this.pmt&&i.Zft(!0)}*Lgt(i){const e=this.Mmt;for(let t=0,s=e.length;t<s;++t){const h=e[t];i.Jft(t);if(!(h.$pt()?h._G():yield*h.X1t()))return void i.qft(!1)}i.qft(!0);(this.Ggt()?this.Smt(i,0):yield*this.Tmt(i,0))&&(this.Cgt()?this.Igt():yield*this._gt()),i.Xft()&&this.pmt&&i.Zft(!0)}Zmt(i,e){const h=this.Cht;for(let t=e,s=h.length;t<s;++t){const n=h[t];i.Hft(t),n._G()}return!0}*Kmt(i,e){const h=this.Cht;for(let t=e,s=h.length;t<s;++t){const n=h[t];i.Hft(t),n.$pt()?n._G():yield*n.X1t()}return!0}qmt(i,e){const h=this.ZO(),n=this.Cht;for(let t=e,s=n.length;t<s;++t){const r=n[t],o=(i.Hft(t),r._G());if(r.Ogt()&&!0===o)return!1;r.Rgt()&&o instanceof Promise&&h._dt(o)}return!0}*Xmt(i,e){const h=this.ZO(),n=this.Cht;for(let s=e,t=n.length;s<t;++s){const r=n[s];i.Hft(s);let t;if(t=r.$pt()?r._G():yield*r.X1t(),r.Ogt()&&!0===t)return!1;r.Rgt()&&t instanceof Promise&&h._dt(t)}return!0}Pgt(t){this.Smt(t,t.Vft())&&this.Igt()}*kgt(t){(yield*this.Tmt(t,t.Vft()))&&(yield*this._gt())}Igt(){if(this.wmt.length){const t=this.F1t()&&this.cf.qpt(),s=t?performance.now():0,i=this.eft,e=i.N6(this);this.fmt?this.Fgt(e):this.jgt(e),i.W6(),t&&(this.Spt.Tpt+=performance.now()-s)}}Fgt(e){const h=this.bmt,n=this.dmt,r=this.ZO(),o=this.wmt;for(let t=0,s=o.length,i=s-1;t<s;++t){const a=o[t],u=a.A6(),l=!n||!h&&t<i;l&&r.k6(u),a._G(e),l?r.j6(u):r.fdt(u)}}jgt(i){const e=this.wmt;for(let t=0,s=e.length;t<s;++t)e[t]._G(i)}*_gt(){if(this.wmt.length){const t=this.eft,s=t.N6(this);this.fmt?yield*this.zgt(s):yield*this.Bgt(s),t.W6()}}*zgt(e){const h=this.bmt,n=this.dmt,r=this.ZO(),o=this.wmt;for(let t=0,s=o.length,i=s-1;t<s;++t){const a=o[t],u=a.A6(),l=!n||!h&&t<i;l&&r.k6(u),yield*a.X1t(e),l?r.j6(u):r.fdt(u)}}*Bgt(i){const e=this.wmt;for(let t=0,s=e.length;t<s;++t)yield*e[t].X1t(i)}F6(i,e){e.Wft();const h=this.Mmt;if(!this.xft())for(let t=i.Yft()+1,s=h.length;t<s;++t){const n=h[t],r=(e.Jft(t),n._G());if(!r)return!1}return this.Smt(e,0)&&this.Igt(e),!0}*Ugt(i,e){e.Wft();const h=this.Mmt;if(!this.xft())for(let t=i.Yft()+1,s=h.length;t<s;++t){const n=h[t];e.Jft(t);if(!(n.$pt()?n._G():yield*n.X1t()))return!1}return(this.Ggt()?this.Smt(e,0):yield*this.Tmt(e,0))&&(this.Cgt()?this.Igt():yield*this._gt()),!0}$pt(){return!this.ugt()&&!this.cf.Dgt()&&this._mt.Omt}Ggt(){return!this.cf.Dgt()&&this._mt.Nmt}Cgt(){return!this.cf.Dgt()&&this._mt.Lmt}Wgt(i){if(this.m5()){const e=this.imt();for(let t=0,s=e.length;t<s;++t)if(!e[t].emt(i))return!1}return!0}*Qgt(i){if(this.m5()){const e=this.imt();for(let t=0,s=e.length;t<s;++t)if(!(yield*e[t].nmt(i)))return!1}return!0}Ygt(t,s,i){if(0<s.length)if(i){const e=s.map(t=>t.hi(0));t.w1t().N6(),this.amt.Jgt(e)}else this.amt.Vgt(s);else i&&t.w1t().N6()}Hgt(t,s,i,e){let h,n,r=0<t.length,o=null,a=this.cf,u=this.eft,l=a.ZO(),c=this.amt,f=c.Rgt(),d=l.udt(),p=1<d;if(this.Ygt(l,s,p),r&&(i?l.k6(t):l.pdt(t)),null!==e){if(e.qgt){const g=i?e.qgt.LP():e.qgt.ddt().Kct(),y=e.Xgt.LP();y.Mft(g.NP()),y.bft(),i||e.Xgt.Zgt()}else if(e.Kgt){const M=e.Kgt.LP();M.Mft(e.$gt),M.bft()}e.tyt&&(o=l.mdt(t))}const m=u.N6(this);return i&&m.r0t(t),this.Wgt(m)&&(m.Qft(this),f&&([n,h]=c.syt()),this.Agt(m),f)&&c.iyt(n),u.W6(),p&&l.w1t().W6(),null!==o&&l.j6(o),r&&l.j6(t),l.ldt(),f||l.Ddt(),h}*eyt(t,s,i,e){let h,n,r=((this.ugt()||this.cf.Dgt())&&(yield this),0<t.length),o=null,a=this.cf,u=this.eft,l=a.ZO(),c=this.amt,f=c.Rgt(),d=l.udt(),p=1<d;if(this.Ygt(l,s,p),r&&(i?l.k6(t):l.pdt(t)),null!==e){if(e.qgt){const g=i?e.qgt.LP():e.qgt.ddt().Kct(),y=e.Xgt.LP();y.Mft(g.NP()),y.bft(),i||e.Xgt.Zgt()}else if(e.Kgt){const M=e.Kgt.LP();M.Mft(e.$gt),M.bft()}e.tyt&&(o=l.mdt(t))}const m=u.N6(this);return i&&m.r0t(t),(yield*this.Qgt(m))&&(m.Qft(this),f&&([n,h]=c.syt()),yield*this.Lgt(m),f)&&c.iyt(n),u.W6(),p&&l.w1t().W6(),null!==o&&l.j6(o),r&&l.j6(t),l.ldt(),f||l.Ddt(),h}hyt(t,s){const i=this.iR(),e=0<i.length,h=this.cf,n=this.eft,r=h.ZO(),o=r.udt(),a=1<o,u=(a&&r.w1t().N6(),this.amt.Jgt(t),e&&(s?r.k6(i):r.pdt(i)),n.N6(this));this.Wgt(u)&&(u.Qft(this),this.Agt(u)),n.W6(),a&&r.w1t().W6(),e&&r.j6(i),r.ldt(),r.Ddt()}*nyt(t,s){(this.ugt()||this.cf.Dgt())&&(yield this);const i=this.iR(),e=0<i.length,h=this.cf,n=this.eft,r=h.ZO(),o=r.udt(),a=1<o,u=(a&&r.w1t().N6(),this.amt.Jgt(t),e&&(s?r.k6(i):r.pdt(i)),n.N6(this));(yield*this.Qgt(u))&&(u.Qft(this),yield*this.Lgt(u)),n.W6(),a&&r.w1t().W6(),e&&r.j6(i),r.ldt(),r.Ddt()}nR(t,s,i,e,...h){let n,r,o=0<t.length,a=this.cf,u=this.eft,l=a.ZO(),c=this.amt,f=c.Rgt(),d=l.udt(),p=1<d,m=(p&&l.w1t().N6(),0<h.length&&this.amt.Jgt(h),o&&(s?l.k6(t):l.pdt(t)),u.N6(this));return m.s0t(i,e),u.Dft(m),a.R6(!1),this.Wgt(m)&&(m.Qft(this),f&&([r,n]=c.syt()),this.Agt(m),f)&&c.iyt(r),a.R6(!0),u.W6(),u.Nft(),p&&l.w1t().W6(),o&&l.j6(t),l.ldt(),f||l.Ddt(),n||m.i0t()}}}{let e=self.js,t=[],s=!1;e.Ppt=class extends e.rn{constructor(t,s,i){super();const e=t.P3(),h=t.ZO(),n=(this.w7=t,this.Gft=h,this.cf=t.P3(),this.omt=s,e.ryt(i[1]));this.oyt=n,this.Cmt=i[2],this.w7.Vpt(this,this.Cmt),this._mt=e._q()?{Emt:i[3][0],Amt:i[3][1]}:null}static X2(t,s,i){return e.un(e.Ppt,t,s,i)}t1t(){const t=this.oyt,s=this.cf.ZO().v1t(this);this.oyt=t.bind(null,this.cf.V4(),s)}m5(){return this.omt}T1t(){return this.omt}s9(){return this.w7}ogt(){return this.Cmt}agt(){return this._mt&&this._mt.Amt}ugt(){return this.agt()&&this._mt.Emt}lgt(t){this._mt.Emt=!!t}Upt(){return!1}A6(){return t}iR(){return this.omt?this.omt.iR():t}_G(t){t.Qft(this),this.Gft._dt(this.ayt())}async ayt(){try{await this.oyt()}catch(t){console.error(`Unhandled exception running script %c${this.s9().tf()}, event ${this.ogt()}:`,"font-size: 1.2em; font-weight: bold;",t),self.C3Debugger&&self.C3Debugger._SetLastErrorScript(this),s||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),s=!0)}}*X1t(t){t.Qft(this),(this.ugt()||this.cf.Dgt())&&(yield this),this._G(t)}$pt(){return!this.ugt()&&!this.cf.Dgt()}static uyt(){return s}static lyt(){s=!0}}}{const mo=self.js;mo.upt=class extends mo.rn{constructor(t,s,i){super(),this.w7=t,this.cf=t.P3(),this.omt=s,this.cyt=0,this.fyt="",this.dyt=0,this.pyt=[],this.myt=!0,this.gyt="",this.Hct=null,this.yyt=!1,this.Myt=[],this.wyt=!1,this.Syt=!1,this.Tyt=0,this.byt=-1,this.vyt=new Map,this.xyt=mo._pt.X2(t,s,i),this.xyt.rgt(this)}Iyt(t){this.cyt=0,this.fyt=t[0],this.dyt=t[1],this.pyt=t[2].map(t=>mo.Opt.X2(this.w7,this,t)),this.myt=t[3],this.Syt=t[4],this.wyt=t[5]}Gyt(t){this.cyt=1,this.gyt=t[1],this.Hct=this.cf.uV(t[2]),this.xyt.kmt(this.Hct),this.fyt=this.Hct.tf()+"."+this.gyt,this.dyt=t[3],this.pyt=t[4].map(t=>mo.Opt.X2(this.w7,this,t)),this.myt=t[5],this.Syt=t[6],this.wyt=t[7],this.Hct.Cyt(this)}static Npt(t,s,i){const e=mo.un(mo.upt,t,s,i),h=i[1];return e.Iyt(h),e}static Lpt(t,s,i){const e=mo.un(mo.upt,t,s,i),h=i[1];return e.Gyt(h),e}s1t(){if(this.Hct&&this.Hct.LV())for(const t of this.Hct.Wmt())if(t._yt(this.gyt)){this.yyt=!0;break}}t1t(){for(const t of this.pyt)t.t1t();this.xyt.t1t(!1)}a1t(){return this.cyt}b1t(){return this.pyt}lpt(){return this.pyt}tR(){return this.pyt.length}Eyt(t){this.Myt.push(t)}Ayt(){return this.Myt}Vgt(i){const e=this.pyt;for(let t=0,s=e.length;t<s;++t)e[t].Vet(i[t].hi(0))}Jgt(i){const e=this.pyt;for(let t=0,s=e.length;t<s;++t)e[t].Vet(i[t])}Dyt(){return this.pyt.map(t=>t.uet())}m5(){return this.omt}T1t(){return this.omt}u1t(){return this.fyt}Nyt(){return this.gyt}Lyt(){return this.yyt}oR(){return this.dyt}CF(){return this.Hct}Kl(){return this.myt}$O(){switch(this.dyt){case 0:return null;case 2:return"";default:return 0}}sR(){return this.xyt}rR(){return this.wyt}Rgt(){return this.Syt}syt(){const t=this.Tyt++;this.byt=t;let s,i=new Promise(t=>s=t);return this.vyt.set(t,{resolve:s,Oyt:0}),[t,i]}iyt(t){const s=this.vyt.get(t);0===s.Oyt&&(s.resolve(),this.vyt.delete(t)),this.byt=-1}Ryt(){const t=this.vyt.get(this.byt);return t.Oyt++,this.byt}Pyt(t){this.byt=t;const s=this.vyt.get(t);s.Oyt--}kyt(t,s){const i=new Map,e=[];for(const h of this.Hct.LP().NP()){const n=h.CF();if(n._yt(this.gyt)){const r=i.get(n);Array.isArray(r)?r.push(h):i.set(n,[h])}else e.push(h)}if(0<e.length&&this.xyt.Hgt(t,s,this.wyt,{Kgt:this.Hct,$gt:e}),0<i.size)for(const[o,a]of i){const u=o.Fyt(this.gyt).sR(),l=[...new Set([...t,...u.A6()])];u.Hgt(l,s,this.wyt,{Kgt:o,$gt:a})}}*jyt(t,s){const i=new Map,e=[];for(const h of this.Hct.LP().NP()){const n=h.CF();if(n._yt(this.gyt)){const r=i.get(n);Array.isArray(r)?r.push(h):i.set(n,[h])}else e.push(h)}if(0<e.length&&(yield*this.xyt.eyt(t,s,this.wyt,{Kgt:this.Hct,$gt:e})),0<i.size)for(const[o,a]of i){const u=o.Fyt(this.gyt).sR(),l=[...new Set([...t,...u.A6()])];yield*u.eyt(l,s,this.wyt,{Kgt:o,$gt:a})}}}}{const go=self.js,yo=[];go.Opt=class extends go.rn{constructor(t,s,i){super();const e=t.ZO();this.w7=t,this.Gft=e,this.cf=t.P3(),this.omt=s,this.j0t=e.w1t(),this.pn=i[1],this.wf=i[2],this.zyt=i[3],this.Sb=!!i[4],this.Byt=!!i[5],this.Uyt=s instanceof go.upt,this.uJ=i[6],this.Wyt=this.cf.x1t(i[8]),this.Qyt=t=>this.Vet(t),this.Yyt=()=>this.uet(),this.Jyt=!this.omt||this.Sb||this.Byt,this.vht=this.zyt,this.Vyt=-1,this.Hyt()&&(this.vht=this.vht?1:0),!this.qyt()||this.Hb()||this.ept()||(this.Vyt=e.f1t(this)),e.l1t(this)}static X2(t,s,i){return go.un(go.Opt,t,s,i)}t1t(){if(this.qyt()&&!this.Hb()&&!this.ept()&&!this.Xyt()){const t=this.Gft.apt(this);t&&t.Eyt(this)}}tf(){return this.pn}x1t(){return this.Wyt}m5(){return this.omt}T1t(){return this.m5()}wV(){return!this.m5()}qyt(){return!this.wV()}Xyt(){return this.Uyt}Hb(){return this.Sb}ept(){return this.Byt}ge(){return 0===this.wf}Ce(){return 1===this.wf}Hyt(){return 2===this.wf}Upt(){return!1}BV(){return this.uJ}d1t(){return this.zyt}A6(){return yo}_G(t){!this.qyt()||this.Hb()||this.ept()||this.Vet(this.d1t())}$pt(){return!0}*X1t(t){this._G(t)}Vet(t){this.ge()?"number"!=typeof t&&(t=parseFloat(t)):this.Ce()?"string"!=typeof t&&(t=t.toString()):this.Hyt()&&(t=t?1:0),this.Jyt?this.vht=t:this.j0t.c0t()[this.Vyt]=t}uet(){return this.Jyt?this.vht:this.j0t.c0t()[this.Vyt]}Zyt(){let t=this.uet();return this.Hyt()?!!t:t}R1t(){this.vht=this.zyt}I1t(){return{configurable:!1,enumerable:!0,get:this.Yyt,set:this.Qyt}}}}{const Mo=self.js,wo=[];Mo.Rpt=class extends Mo.rn{constructor(t,s,i){super();const e=t.ZO();this.w7=t,this.Gft=e,this.cf=t.P3(),this.omt=s,this.Kyt=null,this.$yt=i[1],this.l0=!0}static X2(t,s,i){return Mo.un(Mo.Rpt,t,s,i)}t1t(){this.Kyt=this.Gft.C9(this.$yt),this.w7.Wpt(this);let t=this.m5();for(;t;)t instanceof Mo._pt&&t.F1t()&&t.zmt(this),t=t.m5();this.dgt(),this.cf._q()&&this.w7.opt().children.push(this.Kyt.opt())}m5(){return this.omt}A6(){return wo}Ypt(){return this.Kyt}_G(t){const s=!!this.m5(),i=this.cf.NV();s&&this.Gft.pdt(i),this.Kyt._G(),s&&this.Gft.j6(i)}*X1t(t){const s=!!this.m5(),i=this.cf.NV();s&&this.Gft.pdt(i),yield*this.Kyt.X1t(),s&&this.Gft.j6(i)}$pt(){return!1}Jpt(){return this.l0}dgt(){let t=this.m5();for(;t;){if(t instanceof Mo._pt&&t.F1t()&&!t.spt())return void(this.l0=!1);t=t.m5()}this.l0=!0}}}{let a=function(t,s){return s<=t?t%s:(t<0&&(t<=-s&&(t%=s),t<0)&&(t+=s),t)};a;const So=self.js;So.tMt=class extends So.rn{constructor(t){super(),this.LT=t,this.cf=t.P3()}t1t(){}static sMt(t,s){const i=s[0],e=[Io,vo,xo,Go,To,bo];return So.un(e[i],t,s)}};class To extends So.tMt{constructor(t,s){super(t),this.iMt=this.cf.eMt(),this.oyt=this.cf.ryt(s[1]),this.oyt!==So.q9.H9.zht.random&&this.oyt!==So.q9.H9.zht.hMt||this.LT.nMt()}rMt(){return this.iMt.oMt(this.oyt,this.iMt)}}class bo extends So.tMt{constructor(t,s){super(t),this.aMt=null,this.fyt=s[1],this.LT.nMt()}t1t(){const t=this.cf.ZO(),s=(this.aMt=t.KO(this.fyt),this.fyt=null,this.LT.sR()),i=this.aMt.sR();this.uMt=[...new Set([...s.iR(),...i.iR()])],this.uMt=t.c1t(this.uMt)}rMt(){const t=this.aMt;if(t.Kl()){const s=t.sR();return So._pt.prototype.nR.bind(s,this.uMt,t.rR(),t.oR(),t.$O())}{const i=t.$O();return()=>i}}}class vo extends So.tMt{constructor(t,s){super(t),this.Hct=this.cf.uV(s[1]),this.oyt=this.cf.ryt(s[2]),this.lMt=!!s[3],this.eft=this.cf.ZO().lR(),this.LT.cMt(this.Hct)}rMt(){return this.Hct.TP().oMt(this.oyt,this.Hct.MP().cz())}fMt(...t){const s=this.Hct,i=s.LP().cft(),e=i.length;if(0===e)return this.lMt?"":0;const h=a(this.LT.dMt(),e);return this.eft.D6().$ft(s),this.oyt.apply(i[h].cz(),t)}pMt(t,...s){const i=this.Hct,e=i.NP(),h=e.length;if(0===h)return this.lMt?"":0;const n=a(t,h);return this.eft.D6().$ft(i),this.oyt.apply(e[n].cz(),s)}}class xo extends So.tMt{constructor(t,s){super(t),this.Hct=this.cf.uV(s[1]),this.mMt=s[3],this.lMt=!!s[2],this.LT.cMt(this.Hct)}gMt(){const t=this.Hct.LP().cft(),s=t.length;if(0===s)return this.lMt?"":0;const i=a(this.LT.dMt(),s);return t[i].yMt(this.mMt)}MMt(){const t=this.Hct,s=t.LP().cft(),i=s.length;if(0===i)return this.lMt?"":0;const e=a(this.LT.dMt(),i),h=s[e],n=h.CF().wMt(t.SMt());return h.yMt(this.mMt+n)}TMt(t){const s=this.Hct,i=s.NP(),e=i.length;if(0===e)return this.lMt?"":0;let h=a(t,e),n=i[h],r=0;return s.LV()&&(r=n.CF().wMt(s.SMt())),n.yMt(this.mMt+r)}}class Io extends So.tMt{constructor(t,s){super(t),this.Hct=this.cf.uV(s[1]),this.bMt=this.Hct.yht(s[2]),this.vMt=this.Hct.Vst(s[2]),this.oyt=this.cf.ryt(s[3]),this.lMt=!!s[4],this.eft=this.cf.ZO().lR(),this.LT.cMt(this.Hct)}xMt(...t){const s=this.Hct,i=s.LP().cft(),e=i.length;if(0===e)return this.lMt?"":0;let h=a(this.LT.dMt(),e),n=(this.eft.D6().$ft(s),i[h]),r=0;return s.LV()&&(r=n.CF().IMt(s.SMt())),this.oyt.apply(n.ght()[this.vMt+r].cz(),t)}GMt(t,...s){const i=this.Hct,e=i.NP(),h=e.length;if(0===h)return this.lMt?"":0;let n=a(t,h),r=(this.eft.D6().$ft(i),e[n]),o=0;return i.LV()&&(o=r.CF().IMt(i.SMt())),this.oyt.apply(r.ght()[this.vMt+o].cz(),s)}}class Go extends So.tMt{constructor(t,s){super(t),this.CMt=null,this._Mt=s[1]}t1t(){this.CMt=this.cf.ZO().G1t(this._Mt)}EMt(){return this.CMt}}}{let n=function(t){const s=self.AMt[t];if(s)return s;throw new Error("invalid expression number")};n;const Co=self.js;Co.DMt=class extends Co.rn{constructor(t,s,i){super(),this.LT=t,this.Xg=i,this.wf=s,this.hi=null,this.NMt=!1,this.Byt=!1}static X2(t,s,i){const e=s[0],h=[_o,Eo,Po,Do,Lo,Ao,Oo,_o,Do,Do,ko,Fo,Po,zo,Eo,Ro,No,jo,Bo,Uo,Wo,Qo];return Co.un(h[e],t,e,i,s)}t1t(){}nMt(){this.NMt=!0}cMt(t){this.NMt||!t||t.TP().q4()||(this.NMt=!0)}LMt(){return this.NMt}SO(){return this.Xg}P3(){return this.LT.P3()}sR(){return this.LT.sR()}ept(){return this.Byt}OMt(){return 4===this.wf}};class _o extends Co.DMt{constructor(t,s,i,e){super(t,s,i),this.RMt=0;const h=e[1];this.PMt=h[0],this.kMt=[],this.FMt=null;for(let t=1,s=h.length;t<s;++t)this.kMt.push(Co.tMt.sMt(this,h[t]));this.kMt.length?this.hi=this.jMt:(this.hi=n(this.PMt),this.Byt=!0)}zMt(t){if(t<0||t>=this.kMt.length)throw new RangeError("invalid numbered node");return this.kMt[t]}t1t(){for(const s of this.kMt)s.t1t();const t=n(this.PMt);this.kMt.length?this.FMt=t(this):this.FMt=t}dMt(){return this.RMt}jMt(t){return this.RMt=t,this.FMt()}}class Eo extends _o{constructor(t,s,i,e){super(t,s,i,e),this.hi=this.BMt,14===s&&(this.sR().Ymt(),this.LT instanceof Co.Fmt)&&this.sR().hgt()}BMt(t){this.RMt=t;const s=this.FMt();return"string"==typeof s?s:""}UMt(){return n(this.PMt)()}}class Ao extends _o{constructor(t,s,i,e){super(t,s,i,e),2<=t.WMt()?this.hi=this.rk:this.hi=this.g3,this.Byt=!1}g3(t){this.RMt=t;const s=this.FMt(),i=this.P3().f3();return i.g3(s)}rk(t){const s=this.g3(t);return s?s.rk():null}}class Do extends Co.DMt{constructor(t,s,i,e){super(t,s,i),this.QMt=e[1],this.hi=this.YMt,this.Byt=!0}YMt(){return this.QMt}}class No extends Co.DMt{constructor(t,s,i,e){super(t,s,i),this.JMt=e[1],this.hi=this.VMt,this.Byt=!0}VMt(){return this.JMt}}class Lo extends Co.DMt{constructor(t,s,i,e){super(t,s,i),this.Hct=this.P3().uV(e[1]),2<=t.WMt()?this.hi=this.mP:this.hi=this.CF;const h=this.sR();h.kmt(this.Hct),this.LT instanceof Co.Fmt?h.hgt():h.m5()&&h.m5().hgt(),this.Byt=!0}CF(){return this.Hct}mP(){return this.Hct?this.Hct.mP():null}}class Oo extends Co.DMt{constructor(t,s,i,e){super(t,s,i),this.nJ=this.P3().VR().Uq(e[1]),2<=t.WMt()?this.hi=this.YR:this.hi=this.HR,this.Byt=!0}HR(){return this.nJ}YR(){return this.nJ?this.nJ.YR():null}}class Ro extends Co.DMt{constructor(t,s,i,e){super(t,s,i),this.YZ=this.P3().H$().$X(e[1]),2<=t.WMt()?this.hi=this.lst:this.hi=this.Nst,this.Byt=!0}Nst(){return this.YZ}lst(){return this.YZ?this.YZ.lst():null}}class Po extends Co.DMt{constructor(t,s,i,e){super(t,s,i),this.HMt=e[1],this.hi=this.qMt,this.Byt=!0}qMt(){return this.HMt}}class ko extends Co.DMt{constructor(t,s,i,e){super(t,s,i),this.XMt=e[1];const h=this.LT.CF();this.LT instanceof Co.Pmt&&this.LT.Hb()||!h||!h.LV()?(this.hi=this.ZMt,this.Byt=!0):(this.hi=this.KMt,this.nMt())}ZMt(){return this.XMt}KMt(t){t=t||0;let s=this.LT.CF(),i=s.LP(),e=i.NP(),h=null;if(e.length)h=e[t%e.length].CF();else if(i.uft()){const n=i.lft();h=n[t%n.length].CF()}else{if(!(0<s.RP()))return 0;{const r=s.NP();h=r[t%r.length].CF()}}return this.XMt+h.wMt(s.SMt())}}class Fo extends Co.DMt{constructor(t,s,i,e){super(t,s,i),this._Mt=e[1],this.CMt=null,2<=t.WMt()?this.hi=this.$Mt:this.hi=this.twt,this.Byt=!0}t1t(){this.CMt=this.P3().ZO().G1t(this._Mt)}twt(){return this.CMt}$Mt(){return null}}class jo extends Co.DMt{constructor(t,s,i,e){super(t,s,i),this.swt=e[1],this.aMt=null,2<=t.WMt()?this.hi=this.iwt:this.hi=this.ewt,this.Byt=!0}t1t(){this.aMt=this.P3().ZO().KO(this.swt),this.swt=null}ewt(){return this.aMt}iwt(){return null}}class zo extends Co.DMt{constructor(t,s,i,e){super(t,s,i),this.hwt=[],this.nwt=[],this.Byt=!0;for(let t=1,s=e.length;t<s;++t){const h=Co.DMt.X2(this.LT,e[t],0);this.hwt.push(h),this.nwt.push(0),h.ept()||(this.Byt=!1)}this.hi=this.rwt}t1t(){for(const t of this.hwt)t.t1t()}rwt(){const i=this.hwt,e=this.nwt;for(let t=0,s=i.length;t<s;++t)e[t]=i[t].hi(0);return e}}class Bo extends Co.DMt{constructor(t,s,i,e){super(t,s,i),this.owt=e[1],this.hi=this.Jet,this.Byt=!0}Jet(){return this.owt}}class Uo extends Co.DMt{constructor(t,s,i,e){super(t,s,i),this.awt=e[1],this.hi=this.uwt,this.Byt=!0}uwt(){return this.awt}}class Wo extends _o{constructor(t,s,i,e){super(t,s,i,e),this.hi=this.WF,this.Byt=!1}WF(){return this.FMt()}}class Qo extends Co.DMt{constructor(t,s,i,e){super(t,s,i),this.Lut=this.P3().Zut().Cut(e[1]),this.hi=this.lwt,this.Byt=!0}lwt(){return this.Lut.tf()}}}{let e=function(i,e){for(let t=0,s=i.length;t<s;++t)e[t]=i[t].hi(0)};e;const Yo=self.js,Jo=[],Vo=function(){};Yo.Pmt=class extends Yo.rn{constructor(t,i,s){if(super(),this.xyt=t,this.cf=t.P3(),this.Xg=s,this.oyt=this.cf.ryt(i[1]),this.cwt=0<i[3],this.fwt=2===i[3],this.dwt=!!i[4],this.pwt=!!i[5],this.Sb=!!i[6],this.uJ=i[7],this.mwt=this.xyt.xft(),this.Hct=null,this.bMt=null,this.vMt=-1,this.iMt=null,this._G=Vo,this.X1t=Vo,this.Ks=[],this.gwt=[],this.ywt=!1,this.Mwt=null,this.wwt=null,this._mt=this.cf._q()?{Emt:i[8][0],Swt:i[8][1]}:null,-1===i[0]?this.iMt=this.cf.eMt():(this.Hct=this.cf.uV(i[0]),i[2]&&(this.bMt=this.Hct.yht(i[2]),this.vMt=this.Hct.Vst(i[2])),this.xyt.m5()&&this.xyt.m5().hgt()),10===i.length){let s=i[9];for(let t of s)this.Ks.push(Yo.DMt.X2(this,t,this.Ks.length)),this.gwt.push(0)}0===this.Ks.length&&(this.Ks=Jo,this.gwt=Jo),this.xyt.ZO().n1t(this)}static X2(t,s,i){return Yo.un(Yo.Pmt,t,s,i)}t1t(){for(const t of this.Ks)t.t1t(),t.LMt()&&(this.ywt=!0);this.fwt?(this._G=this.Twt,this.X1t=this.bwt):this.iMt?(this.vwt(),this.X1t=this.xwt):this.Hct.TP().q4()?(this.Iwt(),this.X1t=this.Gwt):this.Sb?(this._G=this.Cwt,this.X1t=this._wt):(this._G=this.Ewt,this.X1t=this.Awt)}vwt(){const t=this.iMt,s=this.iMt;this.Dwt(t,s,this.Nwt)}Iwt(){const t=this.Hct.TP(),s=this.Hct.MP().cz();this.Dwt(t,s,this.Lwt)}Dwt(t,s,i){const e=this.oyt,h=this.pwt,n=this.Ks;if(0===n.length){const r=t.oMt(e,s);h?this._G=function(){return Yo.xor(r(),h)}:this._G=r}else if(1===n.length){const o=n[0];if(!h&&o.ept())this._G=t.Owt(e,s,o.hi(0));else{const a=t.oMt(e,s);this._G=function(){return Yo.xor(a(o.hi(0)),h)}}}else if(2===n.length){const u=n[0],l=n[1];if(!h&&u.ept()&&l.ept())this._G=t.Rwt(e,s,u.hi(0),l.hi(0));else{const c=t.oMt(e,s);this._G=function(){return Yo.xor(c(u.hi(0),l.hi(0)),h)}}}else if(3===n.length){const f=n[0],d=n[1],p=n[2];if(!h&&f.ept()&&d.ept()&&p.ept())this._G=t.Pwt(e,s,f.hi(0),d.hi(0),p.hi(0));else{const m=t.oMt(e,s);this._G=function(){return Yo.xor(m(f.hi(0),d.hi(0),p.hi(0)),h)}}}else this._G=i}BV(){return this.uJ}kpt(){return this.oyt}CF(){return this.Hct}Tz(){return this.bMt}kwt(){return this.bMt?this.bMt.Mz():this.Hct?this.Hct.TP():null}WMt(){const t=this.kwt();return t?t.Fwt():1}sR(){return this.xyt}P3(){return this.cf}SO(){return this.Xg}bgt(){return this.SO()}Apt(){return this.cwt}Fpt(){return this.fwt}jwt(){return this.pwt}Oz(){return this.dwt}Hb(){return this.Sb}zwt(){return this._mt.Emt}Bwt(){return!!this.iMt}ygt(){return this.Bwt()||this.Hct.TP().q4()}Mgt(){for(const t of this.Ks)if(t.OMt())return t.CF();return null}Uwt(t){this._mt.Emt=!!t,this.xyt.sgt()}Wwt(){return this._mt.Swt}$pt(){return!this.zwt()&&!this.cf.Dgt()&&!this.Wwt()}Qwt(){return this.Mwt||(this.Mwt=new Map),this.Mwt}Ywt(){return this.wwt||(this.wwt=new Map),this.wwt}Nwt(){const t=this.gwt;return e(this.Ks,t),Yo.xor(this.oyt.apply(this.iMt,t),this.pwt)}*xwt(){if((this.zwt()||this.cf.Dgt())&&(yield this),this.Wwt()){const s=this.gwt;e(this.Ks,s);let t=this.oyt.apply(this.iMt,s);return Yo.Qo(t)&&(t=yield*t),Yo.xor(t,this.pwt)}return this._G()}Lwt(){const t=this.gwt,s=(e(this.Ks,t),this.Hct.MP().cz());return Yo.xor(this.oyt.apply(s,t),this.pwt)}*Gwt(){if((this.zwt()||this.cf.Dgt())&&(yield this),this.Wwt()){let t=this.gwt,s=(e(this.Ks,t),this.Hct.MP().cz()),i=this.oyt.apply(s,t);return Yo.Qo(i)&&(i=yield*i),Yo.xor(i,this.pwt)}return this._G()}Twt(){return!0}*bwt(){return(this.zwt()||this.cf.Dgt())&&(yield this),!0}Jwt(){if(this.bMt){if(2<=this.bMt.Mz().Fwt())throw new Error("not yet implemented");return this.bMt}return 2<=this.Hct.TP().Fwt()?this.Hct.mP():this.Hct}Cwt(){const t=this.gwt,s=(e(this.Ks,t),this.oyt.apply(this.Jwt(),t));return this.Hct.Zgt(),s}*_wt(){if((this.zwt()||this.cf.Dgt())&&(yield this),this.Wwt()){const s=this.gwt;e(this.Ks,s);let t=this.oyt.apply(this.Jwt(),s);return Yo.Qo(t)&&(t=yield*t),this.Hct.Zgt(),t}return this._G()}Ewt(){const i=this.Ks,e=this.gwt,t=this.Hct.LP();for(let t=0,s=i.length;t<s;++t){const h=i[t];h.LMt()||(e[t]=h.hi(0))}return t.oft()?this.Vwt(t):this.Hwt(t)}*Awt(){return(this.zwt()||this.cf.Dgt())&&(yield this),this.Ewt()}qwt(i){const e=this.Ks,h=this.gwt;for(let t=0,s=e.length;t<s;++t){const n=e[t];n.LMt()&&(h[t]=n.hi(i))}}Vwt(i){const t=this.Hct,e=t.LV(),h=t.SMt(),n=this.vMt,r=0<=n,o=t.NP(),a=this.ywt,u=this.gwt,l=this.oyt,c=this.pwt,f=this.mwt&&!this.cwt;i.rft();for(let s=0,t=o.length;s<t;++s){const d=o[s];a&&this.qwt(s);let t;if(r){const p=e?d.CF().IMt(h):0;t=l.apply(d.ght()[n+p].cz(),u)}else t=l.apply(d.cz(),u);Yo.xor(t,c)?i.fft(d):f&&i.dft(d)}return t.Xwt(!0),i.pft(!1),t.Zgt(),i.aft()}Hwt(t){let s=this.Hct,i=s.LV(),e=s.SMt(),h=s.jF(),n=this.vMt,r=0<=n,o=this.ywt,a=this.gwt,u=this.oyt,l=this.pwt,c=this.mwt&&!this.cwt,f=t.mft(),d=t.gft(),p=c&&!this.xyt.ggt(this),m=p?d:f,g=0,y=!1;for(let s=0,t=m.length;s<t;++s){const w=m[s];o&&this.qwt(s);let t;if(r){const S=i?w.CF().IMt(e):0;t=u.apply(w.ght()[n+S].cz(),a)}else t=u.apply(w.cz(),a);Yo.xor(t,l)?(y=!0,p?(f.push(w),h&&w.Zwt()):(m[g]=w,h&&w.Kwt(g),++g)):p?(m[g]=w,h&&w.$wt(g),++g):c&&(d.push(w),h)&&w.tSt()}Yo.zr(m,g),h&&s.sSt(p,g);const M=y;return p&&!y&&(y=this.iSt(f)),s.Xwt(M||c),c?y:t.aft()}iSt(i){const t=this.Hct,e=t.LV(),h=t.SMt(),n=this.ywt,r=this.vMt,o=0<=r,a=this.gwt,u=this.oyt,l=this.pwt;for(let s=0,t=i.length;s<t;++s){const c=i[s];n&&this.qwt(s);let t;if(o){const f=e?c.CF().IMt(h):0;t=u.apply(c.ght()[r+f].cz(),a)}else t=u.apply(c.cz(),a);if(Yo.xor(t,l))return!0}return!1}eSt(t,s){return this.Ks[t].hi(s)}jpt(){const t=this.Ks;if(t.length)return t[0].UMt();throw new Error("no parameters")}n7(){if(!this.Mwt||!this.Mwt.size)return null;const s={};for(const[i,e]of this.Mwt.entries()){let t=e;"collmemory"===i&&(t=[...e.entries()].map(t=>[t[0].BF(),t[1].BF(),t[2]])),s[i]=t}return{ex:s}}r7(t){if(this.Mwt&&(this.Mwt.clear(),this.Mwt=null),t){const s=this.cf,i=t.ex;if(i){const e=this.Qwt();e.clear();for(const[h,n]of Object.entries(i)){let t=n;"collmemory"===h&&(t=Yo.un(Yo.$l,n.map(t=>[s.a3(t[0]),s.a3(t[1]),t[2]]).filter(t=>t[0]&&t[1]))),e.set(h,t)}}}}}}{let h=function(i,e){for(let t=0,s=i.length;t<s;++t)e[t]=i[t].hi(0)};h;const Ho=self.js,qo=[],Xo=function(){},Zo=function*(){};Ho.Fmt=class extends Ho.rn{constructor(t,s,i){super();const e=(this.xyt=t).P3(),h=(this.cf=e,this.Xg=i,this.uJ=4<=s.length?s[3]:-1,this.hSt=5<=s.length?255&s[4]:0,this.nSt=5<=s.length?s[4]>>8:0,this.oyt=null,this.Hct=null,this.bMt=null,this.vMt=-1,this.iMt=null,this.rSt="",this.oSt=null,this.aSt=null,this._G=Xo,this.X1t=Xo,this.Ks=[],this.gwt=[],this.ywt=!1,this.Mwt=null,this.wwt=null,-3===s[0]),n=h?s[2]:s[5];if(this._mt=e._q()||h?{Emt:n[0],Swt:n[1],index:n[2]}:null,-1===s[0])this.iMt=e.eMt(),this.oyt=e.ryt(s[1]);else if(-2===s[0])this.rSt=s[1];else if(h){const r=e.ryt(s[1]);this.oyt=r,this._G=this.uSt,this.X1t=this.lSt,this.nSt|=8}else this.Hct=e.uV(s[0]),4&this.nSt?(this.rSt=s[1],this.oSt=e.uV(s[2])):(s[2]&&(this.bMt=this.Hct.yht(s[2]),this.vMt=this.Hct.Vst(s[2])),this.oyt=e.ryt(s[1]));if(7===s.length){const o=s[6];for(const a of o)this.Ks.push(Ho.DMt.X2(this,a,this.Ks.length)),this.gwt.push(0)}0===this.Ks.length&&(this.Ks=qo,this.gwt=qo),this.cSt()&&(this.xyt.Ymt(),this.xyt.hgt()),this.xyt.ZO().r1t(this)}static X2(t,s,i){return Ho.un(Ho.Fmt,t,s,i)}t1t(){for(const t of this.Ks)t.t1t(),t.LMt()&&(this.ywt=!0);if(this.iMt)this.vwt(),this.X1t=this.xwt;else if(this.rSt)4&this.nSt?this.fSt():this.dSt(),this.rSt="",this.oSt=null;else if(this._G===this.uSt){const s=this.oyt,i=this.cf.ZO().v1t(this.xyt);this.oyt=s.bind(null,this.cf.V4(),i)}else this.bMt?this.Rgt()?(this._G=this.pSt,this.X1t=this.mSt):(this._G=this.gSt,this.X1t=this.ySt):this.Hct.TP().q4()?(this.Iwt(),this.X1t=this.Gwt):this.Hb()?(this._G=this.MSt,this.X1t=this.wSt):this.Rgt()?(this._G=this.SSt,this.X1t=this.TSt):this.bSt()?(this._G=this.vSt,this.X1t=this.xSt):this.Ks.length?this.Ks.every(t=>t.LMt())?(this._G=this.ISt,this.X1t=this.GSt):this.ywt?(this._G=this.CSt,this.X1t=this._St):this.Ks.every(t=>t.ept())?(h(this.Ks,this.gwt),this._G=this.ESt,this.X1t=this.ASt):(this._G=this.DSt,this.X1t=this.NSt):(this._G=this.ESt,this.X1t=this.ASt)}vwt(){const t=this.iMt,s=this.iMt;this.Dwt(t,s,this.Nwt)}Iwt(){const t=this.Hct.TP(),s=this.Hct.MP().cz();this.Dwt(t,s,this.Lwt)}dSt(){const t=this.xyt.ZO(),i=t.KO(this.rSt);if(i.Kl()){const e=0!=(2&this.nSt);this.aSt=i.sR();let s=[...new Set([...this.xyt.iR(),...this.aSt.iR()])];s=t.c1t(s);const h=!i.rR()&&this.LSt()?{tyt:!0}:null;if(this._G=Ho._pt.prototype.Hgt.bind(this.aSt,s,this.Ks,e,h),this.cf._q()){const n=this;this.X1t=function*(){(n.zwt()||n.cf.Dgt())&&(yield n);const t=yield*n.aSt.eyt(s,n.Ks,e,h);return t}}else this.X1t=Zo}else this._G=Xo,this.X1t=Zo}fSt(){const n=this.xyt.ZO(),r=n.A1t(this.oSt,this.rSt);if(r.Kl()){const o=0!=(2&this.nSt);this.aSt=r.sR();let s=[...new Set([...this.xyt.iR(),...this.aSt.iR(),this.Hct,r.CF()])],t=(s=n.c1t(s),!this.Hct.LV()&&!r.CF().LV()),i=!this.Hct.LV()&&r.CF().LV(),e=this.Hct.LV(),h=null;if(!r.rR()&&this.LSt()&&((h=h||{}).tyt=!0),!i&&o||((h=h||{}).qgt=this.Hct,h.Xgt=r.CF()),t||i||e&&!r.Lyt()?this._G=Ho._pt.prototype.Hgt.bind(this.aSt,s,this.Ks,o,h):e&&(this._G=Ho.upt.prototype.kyt.bind(r,s,this.Ks)),this.cf._q()){const a=this;t||i||e&&!r.Lyt()?this.X1t=function*(){(a.zwt()||a.cf.Dgt())&&(yield a);const t=yield*a.aSt.eyt(s,a.Ks,o,h);return t}:e&&(this.X1t=function*(){(a.zwt()||a.cf.Dgt())&&(yield a);const t=yield*r.jyt(s,a.Ks);return t})}else this.X1t=Zo}else this._G=Xo,this.X1t=Zo}Dwt(t,s,i){const e=this.oyt,h=this.Ks;if(0===h.length)this._G=t.oMt(e,s);else if(1===h.length){const n=h[0];if(n.ept())this._G=t.Owt(e,s,n.hi(0));else{const r=t.oMt(e,s);this._G=function(){return r(n.hi(0))}}}else if(2===h.length){const o=h[0],a=h[1];if(o.ept()&&a.ept())this._G=t.Rwt(e,s,o.hi(0),a.hi(0));else{const u=t.oMt(e,s);this._G=function(){return u(o.hi(0),a.hi(0))}}}else if(3===h.length){const l=h[0],c=h[1],f=h[2];if(l.ept()&&c.ept()&&f.ept())this._G=t.Pwt(e,s,l.hi(0),c.hi(0),f.hi(0));else{const d=t.oMt(e,s);this._G=function(){return d(l.hi(0),c.hi(0),f.hi(0))}}}else this._G=i}BV(){return this.uJ}Rgt(){return 0!=(8&this.nSt)}Ogt(){return 0!=(16&this.nSt)}bSt(){return 1===this.hSt}Hb(){return 2===this.hSt}cSt(){return 0!=(1&this.nSt)}Hmt(){return this.Rgt()||this.Ogt()}CF(){return this.Hct}kwt(){return this.bMt?this.bMt.Mz():this.Hct?this.Hct.TP():null}WMt(){const t=this.kwt();return t?t.Fwt():1}sR(){return this.xyt}LSt(){let t=this.xyt;do{if(t instanceof Ho.upt&&t.rR())return!0}while(t=t.T1t());return!1}P3(){return this.cf}SO(){return this.Xg}bgt(){return this._mt.index}zwt(){return this._mt.Emt}Uwt(t){this._mt.Emt=!!t,this.xyt.sgt()}Wwt(){return this._mt.Swt}$pt(){return!this.zwt()&&!this.cf.Dgt()&&!this.Wwt()}Qwt(){return this.Mwt||(this.Mwt=new Map),this.Mwt}Ywt(){return this.wwt||(this.wwt=new Map),this.wwt}Nwt(){const t=this.gwt;return h(this.Ks,t),this.oyt.apply(this.iMt,t)}*xwt(){if((this.zwt()||this.cf.Dgt())&&(yield this),this.Wwt()){const t=this.gwt,s=(h(this.Ks,t),yield*this.oyt.apply(this.iMt,t));return s}return this._G()}Lwt(){const t=this.gwt;return h(this.Ks,t),this.oyt.apply(this.Hct.MP().cz(),t)}*Gwt(){if((this.zwt()||this.cf.Dgt())&&(yield this),this.Wwt()){const t=this.gwt,s=(h(this.Ks,t),yield*this.oyt.apply(this.Hct.MP().cz(),t));return s}return this._G()}ESt(){const i=this.gwt,e=this.Hct.LP().NP();for(let t=0,s=e.length;t<s;++t)this.oyt.apply(e[t].cz(),i)}*ASt(){if((this.zwt()||this.cf.Dgt())&&(yield this),this.Wwt()){const i=this.gwt,e=this.Hct.LP().NP();for(let t=0,s=e.length;t<s;++t)yield*this.oyt.apply(e[t].cz(),i)}else this.ESt()}DSt(){const i=this.gwt,e=(h(this.Ks,i),this.Hct.LP().NP());for(let t=0,s=e.length;t<s;++t)this.oyt.apply(e[t].cz(),i)}*NSt(){if((this.zwt()||this.cf.Dgt())&&(yield this),this.Wwt()){const i=this.gwt,e=(h(this.Ks,i),this.Hct.LP().NP());for(let t=0,s=e.length;t<s;++t)yield*this.oyt.apply(e[t].cz(),i)}else this.DSt()}ISt(){const e=this.Ks,h=this.gwt,s=this.oyt,n=this.Hct.LP().NP();for(let i=0,t=n.length;i<t;++i){const r=n[i];for(let t=0,s=e.length;t<s;++t)h[t]=e[t].hi(i);s.apply(r.cz(),h)}}*GSt(){if((this.zwt()||this.cf.Dgt())&&(yield this),this.Wwt()){const e=this.Ks,h=this.gwt,s=this.oyt,n=this.Hct.LP().NP();for(let i=0,t=n.length;i<t;++i){const r=n[i];for(let t=0,s=e.length;t<s;++t)h[t]=e[t].hi(i);yield*s.apply(r.cz(),h)}}else this.ISt()}CSt(){const e=this.Ks,h=this.gwt,s=this.oyt,n=this.Hct.LP().NP();for(let t=0,s=e.length;t<s;++t){const i=e[t];i.LMt()||(h[t]=i.hi(0))}for(let i=0,t=n.length;i<t;++i){const r=n[i];for(let t=0,s=e.length;t<s;++t){const o=e[t];o.LMt()&&(h[t]=o.hi(i))}s.apply(r.cz(),h)}}*_St(){if((this.zwt()||this.cf.Dgt())&&(yield this),this.Wwt()){const e=this.Ks,h=this.gwt,s=this.oyt,n=this.Hct.LP().NP();for(let t=0,s=e.length;t<s;++t){const i=e[t];i.LMt()||(h[t]=i.hi(0))}for(let i=0,t=n.length;i<t;++i){const r=n[i];for(let t=0,s=e.length;t<s;++t){const o=e[t];o.LMt()&&(h[t]=o.hi(i))}yield*s.apply(r.cz(),h)}}else this.CSt()}vSt(){const e=this.Ks,h=this.gwt,s=this.oyt,t=this.Hct,i=t.OSt(),n=t.LP().NP();i.RSt(s);for(let i=0,t=n.length;i<t;++i){const r=n[i];for(let t=0,s=e.length;t<s;++t)h[t]=e[t].hi(i);s.apply(r.cz(),h)}i.PSt(s)}*xSt(){if((this.zwt()||this.cf.Dgt())&&(yield this),this.Wwt()){const e=this.Ks,h=this.gwt,s=this.oyt,t=this.Hct,i=t.OSt(),n=t.LP().NP();i.RSt(s);for(let i=0,t=n.length;i<t;++i){const r=n[i];for(let t=0,s=e.length;t<s;++t)h[t]=e[t].hi(i);yield*s.apply(r.cz(),h)}i.PSt(s)}else this.vSt()}MSt(){const t=this.gwt;return h(this.Ks,t),this.oyt.apply(this.bMt||this.Hct,t)}*wSt(){if((this.zwt()||this.cf.Dgt())&&(yield this),this.Wwt()){const s=this.gwt;h(this.Ks,s);let t=this.oyt.apply(this.bMt||this.Hct,s);return Ho.Qo(t)?yield*t:t}return this.MSt()}gSt(){const t=this.Hct,s=t.LV(),e=t.SMt(),h=this.Ks,n=this.ywt,r=this.gwt,o=this.oyt,a=this.vMt,u=t.LP().NP();for(let t=0,s=h.length;t<s;++t){const i=h[t];i.LMt()||(r[t]=i.hi(0))}for(let i=0,t=u.length;i<t;++i){const l=u[i];if(n)for(let t=0,s=h.length;t<s;++t){const f=h[t];f.LMt()&&(r[t]=f.hi(i))}const c=s?l.CF().IMt(e):0;o.apply(l.ght()[a+c].cz(),r)}}*ySt(){if((this.zwt()||this.cf.Dgt())&&(yield this),this.Wwt()){const t=this.Hct,s=t.LV(),e=t.SMt(),h=this.Ks,n=this.ywt,r=this.gwt,o=this.oyt,a=this.vMt,u=t.LP().NP();for(let t=0,s=h.length;t<s;++t){const i=h[t];i.LMt()||(r[t]=i.hi(0))}for(let i=0,t=u.length;i<t;++i){const l=u[i];if(n)for(let t=0,s=h.length;t<s;++t){const f=h[t];f.LMt()&&(r[t]=f.hi(i))}const c=s?l.CF().IMt(e):0;yield*o.apply(l.ght()[a+c].cz(),r)}}else this.gSt()}SSt(){const e=this.Ks,h=this.gwt,s=this.oyt,n=this.Hct.LP().NP(),r=[];for(let i=0,t=n.length;i<t;++i){const o=n[i];for(let t=0,s=e.length;t<s;++t)h[t]=e[t].hi(i);r.push(s.apply(o.cz(),h))}return Promise.all(r)}*TSt(){if((this.zwt()||this.cf.Dgt())&&(yield this),this.Wwt()){const e=this.Ks,h=this.gwt,s=this.oyt,n=this.Hct.LP().NP(),r=[];for(let i=0,t=n.length;i<t;++i){const o=n[i];for(let t=0,s=e.length;t<s;++t)h[t]=e[t].hi(i);r.push(yield*s.apply(o.cz(),h))}return Promise.all(r)}return this.SSt()}pSt(){const t=this.Hct,s=t.LV(),e=t.SMt(),h=this.Ks,n=this.gwt,r=this.oyt,o=this.vMt,a=t.LP().NP(),u=[];for(let i=0,t=a.length;i<t;++i){const l=a[i];for(let t=0,s=h.length;t<s;++t)n[t]=h[t].hi(i);const c=s?l.CF().IMt(e):0;u.push(r.apply(l.ght()[o+c].cz(),n))}return Promise.all(u)}*mSt(){if((this.zwt()||this.cf.Dgt())&&(yield this),this.Wwt()){const t=this.Hct,s=t.LV(),e=t.SMt(),h=this.Ks,n=this.gwt,r=this.oyt,o=this.vMt,a=t.LP().NP(),u=[];for(let i=0,t=a.length;i<t;++i){const l=a[i];for(let t=0,s=h.length;t<s;++t)n[t]=h[t].hi(i);const c=s?l.CF().IMt(e):0;u.push(yield*r.apply(l.ght()[o+c].cz(),n))}return Promise.all(u)}return this.pSt()}async uSt(){try{await this.oyt()}catch(t){console.error(`Unhandled exception running script %c${this.xyt.s9().tf()}, event ${this.xyt.ogt()}, action ${this.bgt()+1}:`,"font-size: 1.2em; font-weight: bold;",t),self.C3Debugger&&self.C3Debugger._SetLastErrorScript(this),Ho.Ppt.uyt()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),Ho.Ppt.lyt())}}*lSt(){return(this.zwt()||this.cf.Dgt())&&(yield this),this.uSt()}n7(){return this.Mwt&&this.Mwt.size?{ex:Ho.Bo(this.Mwt)}:null}r7(t){if(this.Mwt&&(this.Mwt.clear(),this.Mwt=null),t){const s=t.ex;s&&(this.Mwt=Ho.Uo(s))}}}}{let d=function(t){return t instanceof r?M.dk(t):t.jB()},l=function(t){return d(t).m3()},h=function(t){return M.dk(t)},_=function(t,s,i,e){const h=s.BF(),n=i.BF();h<n?t.Set(s,i,e):t.Set(i,s,e)},E=function(t,s,i){const e=s.BF(),h=i.BF();e<h?t.hc(s,i):t.hc(i,s)},A=function(t,s){t.nc(s)},D=function(t,s,i){const e=s.BF(),h=i.BF();return e<h?t.hi(s,i):t.hi(i,s)},e=function(t,s,i,e){if(!s)return!1;const h=0!==i||0!==e,n=t.m3(),r=M.CO(),o=M.m1t(),a=o.sR().xft(),u=o.CF(),l=o.jwt(),c=s.LP(),f=u!==s;G=s,I=f&&!l;let d,p=0,m=0,g=C=!1;c.oft()?(w.C(n.qj()),w.offset(i,e),r.kSt(n.g3(),s,w,S),d=S):!a||M.FSt()&&!c.gft().length&&c.mft().length?d=c.mft():(d=c.gft(),C=!0),h&&(p=n.fT(),m=n.mT(),n.Yj(i,e),n.Bj());for(const y of d)if(r.r4(t,y)){if(g=!0,l)break;f&&O.add(y)}return h&&(n.Uj(p,m),n.Bj()),N.Br(S),g},i=function(t){const s=M.eR().xft(),i=G.LP(),e=i.mft(),h=i.gft();i.oft()?(i.wft(O),s&&(N.Br(h),i.Sft(O,G.NP()))):s?C?i.Tft(O):(i.Sft(O,e),i.wft(O)):i.wft(O),G.Zgt()},T=function(t,s){I&&(s&&i(),O.clear(),G=null,I=!1)},s=function(t,s){const i=M.a3(s);if(i){const e=t.LP();if(e.oft()||e.mft().includes(i))if(t.LV()){if(i.CF().jSt(t))return e.vft(i),t.Zgt(),!0}else if(i.CF()===t)return e.vft(i),t.Zgt(),!0}return!1},n=function(t,h){const n=t.LP();if(n.oft()){n.pft(!1),n.rft();const i=t.NP();for(let t=0,s=i.length;t<s;++t){const e=i[t];e.BF()===h?n.dft(e):n.fft(e)}return t.Zgt(),!!n.mft().length}{let i=n.mft(),e=0;for(let t=0,s=i.length;t<s;++t){const r=i[t];(i[e]=r).BF()===h?n.dft(r):++e}return N.zr(i,e),t.Zgt(),!!i.length}},N=(d,l,h,_,E,A,D,e,i,T,s,n,self.js),u=new N.Jo,b={},v={},x={},M=null,r=(N.zSt=function(t){M=t},self.IF),w=(v.BSt=function(t,s){return N.compare(this.m3().fT(),t,s)},x.BSt=function(t,s){return N.compare(this.x,t,s)},v.USt=function(t,s){return N.compare(this.m3().mT(),t,s)},x.USt=function(t,s){return N.compare(this.y,t,s)},v.WSt=function(){return this.m3().$j()},x.WSt=function(){return this.Kj()},b.QSt=function(){const t=l(this),s=t.HR(),i=t.qj();return i.Gu()<0||i.Cu()<0||i.xu()>s.lm()||i.Iu()>s.xm()},b.YSt=function(i,e,h){const t=this.LP(),n=t.NP();if(!n.length)return!1;let r=n[0],o=r.m3(),a=r,u=N.Tn(o.fT(),o.mT(),e,h);for(let t=1,s=n.length;t<s;++t){r=n[t],o=r.m3();const l=N.Tn(o.fT(),o.mT(),e,h);(0===i&&l<u||1===i&&l>u)&&(u=l,a=r)}return t.vft(a),!0},v.dT=function(t){const s=this.m3();s.fT()!==t&&(s.dT(t),s.Bj())},x.dT=function(t){this.x=+t},v.gT=function(t){const s=this.m3();s.mT()!==t&&(s.gT(t),s.Bj())},x.gT=function(t){this.y=+t},v.JSt=function(t,s){const i=this.m3();i.VSt(t,s)||(i.Uj(t,s),i.Bj())},x.JSt=function(t,s){this.setPosition(t,s)},b.HSt=function(t,s){if(t){const i=d(this),e=t.AP(i);if(e){const[h,n]=e.qSt(s),r=i.m3();r.fT()===h&&r.mT()===n||(r.Uj(h,n),r.Bj())}}},b.XSt=function(t){if(0!==t){const s=l(this);s.Yj(s.ZSt()*t,s.KSt()*t),s.Bj()}},v.$St=function(t,s){if(0!==s){const i=this.m3();t=N.Mn(t),i.Yj(Math.cos(t)*s,Math.sin(t)*s),i.Bj()}},x.$St=function(t,s){0!==s&&(t=N.Mn(t),this.Qj(Math.cos(t)*s,Math.sin(t)*s))},v.fT=function(){return this.m3().fT()},x.fT=function(){return this.x},v.mT=function(){return this.m3().mT()},x.mT=function(){return this.y},b.wR=function(){return M.wR(d(this))},v.tTt=function(t,s){return N.compare(this.m3().lm(),t,s)},x.tTt=function(t,s){return N.compare(this.width,t,s)},v.sTt=function(t,s){return N.compare(this.m3().xm(),t,s)},x.sTt=function(t,s){return N.compare(this.height,t,s)},v.Sm=function(t){const s=this.m3();s.lm()!==t&&(s.Sm(t),s.Bj())},x.Sm=function(t){this.width=t},v.fm=function(t){const s=this.m3();s.xm()!==t&&(s.fm(t),s.Bj())},x.fm=function(t){this.height=t},v.KC=function(t,s){const i=l(this);i.lm()===t&&i.xm()===s||(i.KC(t,s),i.Bj())},x.KC=function(t,s){this.HP(t,s)},v.lm=function(){return this.m3().lm()},x.lm=function(){return this.width},v.xm=function(){return this.m3().xm()},x.xm=function(){return this.height},b.iTt=function(){return l(this).qj().xu()},b.eTt=function(){return l(this).qj().Iu()},b.hTt=function(){return l(this).qj().Gu()},b.nTt=function(){return l(this).qj().Cu()},b.rTt=function(){const t=l(this).qj();return(t.xu()+t.Gu())/2},b.oTt=function(){const t=l(this).qj();return(t.Iu()+t.Cu())/2},b.aTt=function(t,s){return N.vn(l(this).KP(),N.Mn(s))<=N.Mn(t)},b.uTt=function(t){return N.In(l(this).KP(),N.Mn(t))},b.lTt=function(t,s){const i=N.Mn(t),e=N.Mn(s),h=l(this).KP(),n=!N.In(e,i);return n?!(!N.In(h,i)&&N.In(h,e)):N.In(h,i)&&!N.In(h,e)},v.ZP=function(t){const s=this.m3(),i=N.yn(N.Mn(t));isNaN(i)||s.KP()===i||(s.ZP(i),s.Bj())},x.ZP=function(t){this.Hj=t},b.cTt=function(t){if(!isNaN(t)&&0!==t){const s=l(this);s.ZP(s.KP()+N.Mn(t)),s.Bj()}},b.fTt=function(t){if(!isNaN(t)&&0!==t){const s=l(this);s.ZP(s.KP()-N.Mn(t)),s.Bj()}},b.dTt=function(t,s){const i=l(this),e=i.KP(),h=N.xn(e,N.Mn(s),N.Mn(t));isNaN(h)||e===h||(i.ZP(h),i.Bj())},b.pTt=function(t,s,i){const e=l(this),h=e.KP(),n=s-e.fT(),r=i-e.mT(),o=Math.atan2(r,n),a=N.xn(h,o,N.Mn(t));isNaN(a)||h===a||(e.ZP(a),e.Bj())},b.mTt=function(t,s){const i=l(this),e=i.KP(),h=t-i.fT(),n=s-i.mT(),r=Math.atan2(n,h);isNaN(r)||e===r||(i.ZP(r),i.Bj())},v.KP=function(){return N.wn(this.m3().KP())},x.KP=function(){return this.Hj},b.gTt=function(t,s){return N.compare(N.jn(100*l(this)._A(),6),t,s)},v.Fk=function(){return this.m3().Fk()},x.Fk=function(){return this.isVisible},b.Pk=function(t){const s=l(this);t=2===t?!s.Fk():0!==t,s.Fk()!==t&&(s.Pk(t),M.b3())},b.AA=function(t){const s=N.gn(t/100,0,1),i=l(this);if(i.W5()){if(i.Wnt().yTt()===s)return}else if(i._A()===s)return;i.AA(s),M.b3()},b.MTt=function(t){u.Ia(t);const s=l(this);s.s5().ga(u)||(s.i5(u),M.b3())},b.NA=function(){const t=l(this).s5();return N.Un(t.ua(),t.la(),t.ca(),t.fa())},b._A=function(){return N.jn(100*l(this)._A(),6)},b.wTt=function(t){return!!t&&l(this).g3()===t},b.STt=function(i){const t=this.LP(),e=t.NP();if(!e.length)return!1;let s=e[0],h=s;for(let t=1,s=e.length;t<s;++t){const n=e[t],r=n.m3(),o=h.m3(),a=r.g3().SO(),u=o.g3().SO();0===i?(u<a||a===u&&r.y3()>o.y3())&&(h=n):(a<u||a===u&&r.y3()<o.y3())&&(h=n)}return t.vft(h),!0},v.TTt=function(t,s,i){const e=this.m3(),h=0===t?e.yT():e.Vj();return N.compare(h,s,i)},x.TTt=function(t,s,i){const e=0===t?this.sF:this.Jj;return N.compare(e,s,i)},v.bTt=function(){this.m3().h5()},x.bTt=function(){this.e5()},v.vTt=function(){this.m3().r5()},x.vTt=function(){this.n5()},b.xTt=function(t){t&&l(this).a5(t)},b.ITt=function(t,s){const i=0===t;if(s){const e=d(this),h=s.GTt(e);h&&e.m3().l5(h,i)}},v.MT=function(t){const s=this.m3();s.yT()!==t&&(s.MT(t),M.b3())},x.MT=function(t){this.sF=t},b.CTt=function(){return l(this).g3().SO()},b._Tt=function(){return l(this).g3().tf()},v.ETt=function(){return this.m3().y3()},x.ETt=function(){return this.zIndex},v.ATt=function(){return this.m3().yT()},x.ATt=function(){return this.sF},v.DTt=function(){return this.m3().Vj()},x.DTt=function(){return this.Jj},b.NTt=function(t){const s=d(this),i=s.CF().YP().wht(t);if(i){const e=i.SO(),h=s.m3().jj();return h.Cz(e)}},b.LTt=function(t,s){const i=d(this),e=i.CF().YP().wht(s);if(e){const h=e.SO(),n=1===t,r=i.m3().jj();r.Cz(h)!==n&&(r._z(h,n),r.Ez(),M.b3())}},b.OTt=function(t,s,i){const e=d(this),h=e.CF().YP().wht(t);if(h){s=Math.floor(s);const n=h.$v().ix(s);if(n){"color"===n?(u.Ia(i),i=u):"percent"===n&&(i/=100);const r=h.SO(),o=e.m3().jj(),a=o.Dz(r,s,i);a&&o.Cz(r)&&M.b3()}}},N.un(N.Rect)),L=[],S=[],I=!1,G=null,C=!1,O=new Set;b.RTt=function(M){if(this.cf.PTt())return function*(M){if(M){let t=this.cf,s=t.CO(),e=t.ZO(),i=e.lR(),h=e.m1t(),n=h.CF(),r=h.Qwt(),o=h.Ywt(),a=i.D6(),u=t.ytt(),l=u-1,c=a.eR(),f=i.N6(c),d=r.get("collmemory"),p=(d||(d=N.un(N.$l),r.set("collmemory",d)),o.get("collisionCreatedDestroyCallback")||(o.set("collisionCreatedDestroyCallback",!0),t.Qf().addEventListener("instancedestroy",t=>A(d,t.bz))),n.LP()),m=M.LP(),g=p.NP(),y=null;for(let t=0;t<g.length;++t){const w=g[t];m.oft()?(s.kSt(w.m3().g3(),M,w.m3().qj(),L),y=L,s.kTt(w,M,y)):y=m.NP();for(let t=0;t<y.length;++t){const S=y[t];if(s.r4(w,S)||s.FTt(w,S)){let t=D(d,w,S),s=!1,i=-2;"number"==typeof t&&(s=!0,i=t);const T=!s||i<l;if(_(d,w,S,u),T){const b=c.A6(),v=(e.k6(b),n.LP()),x=M.LP();if(v.pft(!1),x.pft(!1),n===M){const I=v.mft();N.Br(I),I.push(w),I.push(S),n.Zgt()}else{const G=v.mft(),C=x.mft();N.Br(G),N.Br(C),G.push(w),C.push(S),n.Zgt(),M.Zgt()}yield*c.Ugt(a,f),e.j6(b)}}else E(d,w,S)}N.Br(L)}i.W6()}return!1}.call(this,M);if(M){let t=this.cf,s=t.CO(),e=t.ZO(),i=e.lR(),h=e.m1t(),n=h.CF(),r=h.Qwt(),o=h.Ywt(),a=i.D6(),u=t.ytt(),l=u-1,c=a.eR(),f=i.N6(c),d=r.get("collmemory"),p=(d||(d=N.un(N.$l),r.set("collmemory",d)),o.get("collisionCreatedDestroyCallback")||(o.set("collisionCreatedDestroyCallback",!0),t.Qf().addEventListener("instancedestroy",t=>A(d,t.bz))),n.LP()),m=M.LP(),g=p.NP(),y=null;for(let t=0;t<g.length;++t){const w=g[t];m.oft()?(s.kSt(w.m3().g3(),M,w.m3().qj(),L),y=L,s.kTt(w,M,y)):y=m.NP();for(let t=0;t<y.length;++t){const S=y[t];if(s.r4(w,S)||s.FTt(w,S)){let t=D(d,w,S),s=!1,i=-2;"number"==typeof t&&(s=!0,i=t);const T=!s||i<l;if(_(d,w,S,u),T){const b=c.A6(),v=(e.k6(b),n.LP()),x=M.LP();if(v.pft(!1),x.pft(!1),n===M){const I=v.mft();N.Br(I),I.push(w),I.push(S),n.Zgt()}else{const G=v.mft(),C=x.mft();N.Br(G),N.Br(C),G.push(w),C.push(S),n.Zgt(),M.Zgt()}c.F6(a,f),e.j6(b)}}else E(d,w,S)}N.Br(L)}i.W6()}return!1},b.jTt=function(t){return e(d(this),t,0,0)},b.zTt=function(t,s,i){return e(d(this),t,s,i)},b._5=function(){return l(this)._5()},b.u7=function(){return l(this).u7()},b.BTt=function(i,e){const t=this.LP(),h=t.NP();if(0===h.length)return!1;let s=i.LP(),n=s.NP();if(s.oft()){const a=[...this.cf.UTt(i)];0<a.length&&(n=n.concat(a))}if(0===n.length)return!1;const r=s.oft()?null:new Set(n),o=new Set;for(let t=0,s=h.length;t<s;++t){const u=h[t];if(1===e)for(const l of u.M5())l.WTt(i)&&(null===r||r.has(l))&&o.add(l);else{let t;if(0===e){if(null===(t=u.m5()))continue}else t=u.y5();t.WTt(i)&&(null===r||r.has(t))&&o.add(t)}}return 0!==o.size&&(s.wft(o),i.Zgt(),!0)},b.QTt=function(i,e){const t=this.LP(),h=t.NP();if(0===h.length)return!1;let s=i.LP(),n=s.NP();if(s.oft()){const a=[...this.cf.UTt(i)];0<a.length&&(n=n.concat(a))}if(0===n.length)return!1;const r=s.oft()?null:new Set(n),o=new Set;for(let t=0,s=h.length;t<s;++t){const u=h[t];2!==e||u.u7()||!u.WTt(i)||null!==r&&!r.has(u)||o.add(u);for(const l of 0===e?u.children():u.v5())2===e&&l.u7()||l.WTt(i)&&(null===r||r.has(l))&&o.add(l)}return 0!==o.size&&(s.wft(o),i.Zgt(),!0)},b.YTt=function(i,e,h){const t=this.LP(),n=t.NP();if(0===n.length)return!1;let s=i.LP(),r=s.NP();if(s.oft()){const u=[...this.cf.UTt(i)];0<u.length&&(r=r.concat(u))}if(0===r.length)return!1;const o=s.oft()?null:new Set(r),a=[];for(let t=0,s=n.length;t<s;++t){const l=n[t];if(0===e){const c=l.b5(h);null!==c&&c.WTt(i)&&(null===o||o.has(c))&&a.push(c)}else if(1===e)for(const f of l.children())if(f.WTt(i)){if(0===h){null!==o&&!o.has(f)||a.push(f);break}--h}}return 0!==a.length&&(s.Mft(a),i.Zgt(),!0)},b.JTt=function(t,s,i){const e=d(this);switch(t){case 0:default:return N.compare(e.S5(),s,i);case 1:return N.compare(e.VTt(),s,i)}},b.I5=function(t,s,i,e,h,n,r,o,a,u){const l=d(this),c=M.y1t().CF();for(const f of t.HTt(l,c)){if(!f.TP().aP())return;l.I5(f,{A5:s,N5:i,O5:e,P5:h,F5:n,U5:r,z5:o,Q5:a,J5:u})}},b.G5=function(t){const s=d(this),i=M.y1t().CF();for(const e of t.HTt(s,i))s.G5(e)},b.qTt=function(){const t=d(this);if(t._5()){const s=t.m5();s.G5(t)}},b.XTt=function(){return d(this).S5()},b.ZTt=function(){return d(this).VTt()},b.KTt=function(t,s){t=Math.floor(t),s=Math.floor(s);const i=l(this);t<2||s<2||!isFinite(t)||!isFinite(s)?(i.Z5(),i.Bj()):i.q5(t,s)},b.sz=function(t,s,i,e,h,n,r,o){const a=l(this),u=a.sz(t,s,{mode:0===i?"absolute":"relative",x:e,y:h,sF:n,u:r,v:o});u&&a.Bj()},b.$Tt=function(){const t=l(this);return t.ez()?t.hz().BT():0},b.tbt=function(){const t=l(this);return t.ez()?t.hz().UT():0},b.sbt=function(t){const s=l(this);t=2===t?!s.Fk():0!==t,s.Fk()!==t&&s.Pk(t)},b.mz=function(t,s){this instanceof self.IF?this.HU(t,s):this.mz(t,s)},b.ibt=function(t,s){this instanceof self.IF?this.qU(t,""+s):this.ibt(t,""+s)},b.ebt=function(t){this instanceof self.IF?this.XU(t):this.ebt(t)},b.hbt=function(){this instanceof self.IF?this.YU():this.fz()},b.nbt=function(){this instanceof self.IF?this.JU():this.dz()},b.rbt=function(){return this instanceof self.IF?this.VU():this.rbt()},b.obt=function(t){this instanceof self.IF?this._setEnabled(0!==t):this.abt(0!==t)},b.ubt=function(){return this instanceof self.IF?this.myt():this.lbt()},v.cbt=function(t,s,i){return N.compare(this.jB().Nnt(t),s,i)},x.cbt=function(t,s,i){return N.compare(h(this).Nnt(t),s,i)},v.fbt=function(t){return!!this.jB().Nnt(t)},x.fbt=function(t){return!!h(this).Nnt(t)},b.dbt=function(i,e){const t=this.LP(),h=t.NP();if(!h.length)return!1;let n=this.LV(),r=null,o=0;for(let t=0,s=h.length;t<s;++t){const a=h[t],u=n?a.CF().wMt(this.SMt()):0,l=a.Nnt(u+e);(null===r||0===i&&l<o||1===i&&l>o)&&(o=l,r=a)}return t.vft(r),!0},b.pbt=function(t){return(this.cf.m1t().jwt()?n:s)(this,t)},b.wB=function(t){const s=new Set(N.no(t)),i=d(this).HF();return s.pe(i)},b.mbt=function(){return d(this).gbt()},b.ybt=function(){return d(this).HF().size},b.Mbt=function(t){return d(this).wbt(t)},b.Sbt=function(t,s){const i=N.no(s);if(0!==i.length){const e=d(this),h=new Set(e.HF());if(0===t)for(const n of i)h.add(n);else if(1===t)for(const r of i)h.delete(r);e.XF(h)}},b.Tbt=function(){M.OF(d(this))},b.bbt=function(){return!0},b.vbt=function(){return!0},v.xbt=function(t,s){this.jB().Lnt(t,s)},x.xbt=function(t,s){h(this).Lnt(t,s)},v.Ibt=function(t,s){const i=this.jB(),e=i.Nnt(t);"number"==typeof e&&"number"!=typeof s?s=parseFloat(s):"string"==typeof e&&"string"!=typeof s&&(s=s.toString()),i.Lnt(t,e+s)},x.Ibt=function(t,s){const i=h(this),e=i.Nnt(t);"number"==typeof e&&"number"!=typeof s?s=parseFloat(s):"string"==typeof e&&"string"!=typeof s&&(s=s.toString()),i.Lnt(t,e+s)},v.Gbt=function(t,s){const i=this.jB(),e=i.Nnt(t);"number"==typeof e&&("number"!=typeof s&&(s=parseFloat(s)),i.Lnt(t,e-s))},x.Gbt=function(t,s){const i=h(this),e=i.Nnt(t);"number"==typeof e&&("number"!=typeof s&&(s=parseFloat(s)),i.Lnt(t,e-s))},v.Cbt=function(t,s){this.jB().Lnt(t,s?1:0)},x.Cbt=function(t,s){h(this).Lnt(t,s?1:0)},v._bt=function(t){const s=this.jB();s.Lnt(t,0===s.Nnt(t)?1:0)},x._bt=function(t){const s=h(this);s.Lnt(t,0===s.Nnt(t)?1:0)},b.Ebt=function(t){let s;try{s=JSON.parse(t)}catch(t){return void console.error("Failed to load from JSON string: ",t)}const i=d(this);M.Abt(),i.xX("state"),i.GT(s,"state"),M.Dbt("state",{Nbt:!0})},b.Lbt=function(){return JSON.stringify(d(this).IT("state"))},b.Obt=function(){return d(this).CF().tf()},b.Rbt=function(){let t=M.p1t().t0t(),s=t.RP();for(const i of M.UTt(t))++s;return s},b.Pbt=function(){return M.p1t().t0t().LP().NP().length},v.K9=function(){return this.jB().K9()},x.K9=function(){return h(this).K9()},v.BF=function(){return this.jB().BF()},x.BF=function(){return h(this).BF()},b.zdt=function(t){const s=d(this);return t.toLowerCase()===M.ZO().Qdt(s)},b.KF=function(t){const s=d(this);M.ZO().KF(s,t)},b.kbt=function(t){return M.ZO().gdt().Fbt(this.LP().NP(),t),!0},b.jbt=function(){return d(this).WF()},N.zbt=function(t,s,i){const e=t[1],h=t[3],n=t[4],r=t[5],o=t[6],a=t[7],u=t[8],l=t[10],c=t[11],f=t[12],d=t[13],p=t[14],m=t[15],g=t[16],y=s.V9,M=s.jht,w=s.zht,S=Object.assign({},b,2<=i?x:v);h&&(y.BSt=S.BSt,y.USt=S.USt,y.WSt=S.WSt,y.QSt=S.QSt,y.YSt=S.YSt,M.dT=S.dT,M.gT=S.gT,M.JSt=S.JSt,M.HSt=S.HSt,M.XSt=S.XSt,M.$St=S.$St,w.Bbt=S.fT,w.Ubt=S.mT,w.MR=S.wR),n&&(y.tTt=S.tTt,y.sTt=S.sTt,M.Sm=S.Sm,M.fm=S.fm,M.KC=S.KC,w.Wbt=S.lm,w.Qbt=S.xm,w.Ybt=S.iTt,w.Jbt=S.eTt,w.Vbt=S.hTt,w.Hbt=S.nTt,w.qbt=S.rTt,w.Xbt=S.oTt),r&&(y.Zbt=S.aTt,y.Kbt=S.uTt,y.lTt=S.lTt,M.ZP=S.ZP,M.cTt=S.cTt,M.fTt=S.fTt,M.dTt=S.dTt,M.pTt=S.pTt,M.mTt=S.mTt,w.$bt=S.KP),o&&(y.Fk=S.Fk,y.gTt=S.gTt,M.Pk=S.Pk,M.AA=S.AA,M.MTt=S.MTt,w.Opacity=S._A,w.t2t=S.NA),a&&(y.wTt=S.wTt,y.STt=S.STt,y.TTt=S.TTt,M.bTt=S.bTt,M.vTt=S.vTt,M.xTt=S.xTt,M.ITt=S.ITt,M.MT=S.MT,w.CTt=S.CTt,w._Tt=S._Tt,w.ETt=S.ETt,w.ATt=S.ATt,w.DTt=S.DTt),u&&(y.NTt=S.NTt,M.LTt=S.LTt,M.OTt=S.OTt),d&&(y._5=S._5,y.u7=S.u7,y.BTt=S.BTt,y.QTt=S.QTt,y.YTt=S.YTt,y.JTt=S.JTt,M.I5=S.I5,M.G5=S.G5,M.qTt=S.qTt,w.XTt=S.XTt,w.ZTt=S.ZTt),p&&(M.KTt=S.KTt,M.sz=S.sz,w.$Tt=S.$Tt,w.tbt=S.tbt),l&&(y.Fk=S.Fk,M.Pk=S.sbt,M.s2t=S.mz,M.i2t=S.ibt,M.e2t=S.ebt),c&&(y.h2t=S.rbt,M.n2t=S.hbt,M.r2t=S.nbt),f&&(y.Kl=S.ubt,M.o2t=S.obt),m&&(y.RTt=S.RTt,y.jTt=S.jTt,y.zTt=S.zTt,s.a2t=T),e||(y.cbt=S.cbt,y.fbt=S.fbt,y.dbt=S.dbt,y.pbt=S.pbt,y.wB=S.wB,M.xbt=S.xbt,M.Ibt=S.Ibt,M.Gbt=S.Gbt,M.Cbt=S.Cbt,M._bt=S._bt,M.Sbt=S.Sbt,y.bbt=S.bbt,y.vbt=S.vbt,M.Tbt=S.Tbt,M.Ebt||(M.Ebt=S.Ebt),w.Lbt||(w.Lbt=S.Lbt),w.Rbt=S.Rbt,w.Pbt=S.Pbt,w.u2t=S.K9,w.l2t=S.BF,w.Obt=S.Obt,w.mbt=S.mbt,w.ybt=S.ybt,w.Mbt=S.Mbt,y.zdt=S.zdt,M.KF=S.KF,M.kbt=S.kbt),g&&(w.jbt=S.jbt)}}{const Ko=self.js;Ko.ydt=class extends Ko.rn{constructor(t){super(),this.Gft=t,this.wf="",this.$N=-1,this.c2t="",this.f2t=!1,this.d2t=null,this.Rft=0,this.umt=[],this.Bft=null,this.p2t=new Map,this.m2t=null,this.g2t=null,this.y2t=-1,this.pyt=null,this.M2t=null,this.w2t=!1}ln(){this.wf="",this.$N=-1,this.c2t="",this.d2t=null,this.g2t=null,this.pyt=null,this.M2t=null,this.y2t=-1,Ko.Br(this.umt),this.Bft&&(this.Bft.clear(),this.Bft=null);for(const t of this.p2t.values())t.ln();this.p2t.clear(),this.m2t=null}cT(){const t=this.Gft,s=t.P3().NV(),i=t.p1t(),e=(this.d2t=i.eR(),this.Rft=i.Vft()+1,t.apt(this.d2t));e&&(this.g2t=e,this.pyt=e.Dyt(),this.M2t=e.Ayt().map(t=>t.uet()),e.Rgt())&&(this.y2t=e.Ryt());for(const n of s){const r=n.LP();r.oft()&&!this.d2t.ngt(n)||(this.umt.push(n),this.p2t.set(n,Ko.un(Ko.S2t,r)))}const h=t.hR();this.Bft=0<h.size?h:null}T2t(t){this.wf="timer",this.cT(),this.$N=this.Gft.P3().bR()+t}b2t(t){this.wf="signal",this.cT(),this.c2t=t.toLowerCase()}Fbt(t,s){this.wf="instance-signals",this.cT(),this.c2t=s.toLowerCase(),this.m2t=new Set(t)}v2t(t){this.wf="promise",this.cT(),t.then(()=>this.Pdt()).catch(t=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",t),this.Pdt()})}x2t(){return"timer"===this.wf}Odt(){return"signal"===this.wf}Udt(){return"instance-signals"===this.wf}hpt(){return"promise"===this.wf}Rdt(){return this.c2t}I2t(){return this.f2t}Pdt(){this.f2t=!0}Wdt(t){this.m2t.delete(t),0===this.m2t.size&&this.Pdt()}Sdt(){return this.x2t()?this.$N<=this.Gft.P3().bR():this.I2t()}G2t(t){t.Uft(this.d2t,this.Rft);for(const[i,e]of this.p2t.entries()){const h=i.LP();e.Uft(h)}this.Bft&&t.r0t([...this.Bft]);const s=this.g2t;s&&(s.Jgt(this.pyt),s.Ayt().map((t,s)=>t.Vet(this.M2t[s])),s.Rgt())&&s.Pyt(this.y2t)}Tdt(t){this.G2t(t),this.d2t.Pgt(t),this.g2t&&this.g2t.Rgt()&&this.g2t.iyt(this.y2t),this.Gft.fdt(this.umt),this.w2t=!0}async Idt(t){this.G2t(t);for(const s of this.d2t.kgt(t))await this.Gft.P3().q1t(s);this.g2t&&this.g2t.Rgt()&&this.g2t.iyt(this.y2t),this.Gft.fdt(this.umt),this.w2t=!0}bdt(){return this.w2t}ift(t){for(const s of this.p2t.values())s.ift(t);if("instance-signals"===this.wf){for(const i of t)this.m2t.delete(i);0===this.m2t.size&&this.Pdt()}}n7(){const t={},s={wt:this.wf,t:this.$N,st:this.c2t,s:this.f2t,ev:this.d2t.BV(),sm:this.umt.map(t=>t.BV()),dsm:this.Bft?[...this.Bft].map(t=>t.BV()):null,sols:t};this.d2t.vgt(this.Rft)&&(s.act=this.d2t.M1t(this.Rft).BV());for(const[i,e]of this.p2t)t[i.BV().toString()]=e.n7();return"instance-signals"===this.wf&&(s.pi=[...this.m2t].map(t=>t.BF())),s}static npt(t,s){const i=t.P3(),e=t.C1t(s.ev);if(!e)return null;let h=0;if(s.hasOwnProperty("act")){const r=t.E1t(s.act);if(!r)return null;h=r.SO()}const n=Ko.un(Ko.ydt,t);n.$N=s.t,s.hasOwnProperty("wt")?n.wf=s.wt:n.wf=-1===n.$N?"signal":"timer",n.c2t=s.st,n.f2t=s.s,n.d2t=e,n.Rft=h;for(const o of s.sm){const a=i.v6(o);a&&n.umt.push(a)}if(Array.isArray(s.dsm))for(const u of s.dsm){const l=i.v6(u);l&&(n.Bft||(n.Bft=new Set),n.Bft.add(l))}for(const[c,f]of Object.entries(s.sols)){const d=parseInt(c,10),p=i.v6(d);if(p){const m=Ko.un(Ko.S2t,null);m.r7(t,f),n.p2t.set(p,m)}}if("instance-signals"===n.wf){n.m2t=new Set;for(const g of s.pi){const y=i.a3(g);y&&n.m2t.add(y)}}return n}}}{const $o=self.js;$o.S2t=class extends $o.rn{constructor(t){super(),this.Hct=null,this.C2t=!0,this.DY=[],t&&(this.Hct=t.CF(),this.C2t=t.oft(),$o.Yr(this.DY,t.mft()))}ln(){this.Hct=null,$o.Br(this.DY)}Uft(t){t.pft(this.C2t),$o.Yr(t.mft(),this.DY)}ift(t){$o.Xr(this.DY,t)}n7(){return{sa:this.C2t,insts:this.DY.map(t=>t.BF())}}r7(t,s){const i=t.P3();this.C2t=!!s.sa,$o.Br(this.DY);for(const e of s.insts){const h=i.a3(e);h&&this.DY.push(h)}}}}{let u=function(t,s){let i=t.get(s);return i||(i=new Map,t.set(s,i)),i};u;const ta=self.js;ta._2t=class extends ta.rn{constructor(t){super(),this.cf=t.runtime,this.E2t=!!t.H4,this.A2t=!!t.D2t,this.N2t=!!t.sP,this.L2t=!!t.O2t,this.R2t=!!t.eP,this.P2t=!!t.k2t,this.F2t=!!t.uP,this.j2t=!!t.K4,this.z2t=!!t.nP,this.B2t=t.U2t,this.W2t=null,this.Q2t=new Map,this.Y2t=new Map,this.J2t=new Map,this.V2t=new Map,this.H2t=t.q2t,this.X2t=null}ln(){this.cf=null}P3(){return this.cf}Z2t(){}Bdt(){return(2<=this.Fwt()?this.X2t:this).constructor}Fwt(){return this.B2t}K2t(t=!1){let s=this.H2t;return t&&"function"!=typeof s&&2<=this.Fwt()?globalThis.JB:s}q4(){return this.E2t}Z4(){return this.A2t}tP(){return this.j2t}rP(){return this.z2t}iP(){return this.N2t}zS(){return this.L2t}hP(){return this.R2t}aP(){return this.P2t}lP(){return this.F2t}oMt(t,s){if(!s)throw new Error("missing 'this' binding");let i=this.Q2t.get(t);return i||(i=t.bind(s),this.Q2t.set(t,i)),i}Owt(t,s,i){if(!s)throw new Error("missing 'this' binding");let e=u(this.Y2t,t),h=e.get(i);return h||(h=t.bind(s,i),e.set(i,h)),h}Rwt(t,s,i,e){if(!s)throw new Error("missing 'this' binding");let h=u(this.J2t,t),n=u(h,i),r=n.get(e);return r||(r=t.bind(s,i,e),n.set(e,r)),r}Pwt(t,s,i,e,h){if(!s)throw new Error("missing 'this' binding");let n=u(this.V2t,t),r=u(n,i),o=u(r,e),a=o.get(h);return a||(a=t.bind(s,i,e,h),o.set(h,a)),a}$2t(t){if(!this.q4())throw new Error("must be single-global plugin");this.W2t=t}gP(){if(this.q4())return this.W2t;throw new Error("must be single-global plugin")}MP(){if(this.q4())return this.W2t.MP();throw new Error("must be single-global plugin")}tvt(){const t=this.Fwt(),s=(ta.J4.svt(this,t),this.K2t(!0));if(s){if(this.X2t=new s,!(this.X2t instanceof self.W4))throw new TypeError("plugin class must derive from IPlugin")}else this.X2t=new self.W4;ta.J4.ivt(t)}dP(){return this.X2t}}}{const sa=self.js;sa.evt=class extends sa._2t{constructor(t,s){super(t),this.hvt=s,this.nvt=0,this.rvt=new Map,this.ovt("elem-focused",t=>t.avt()),this.ovt("elem-blurred",t=>{t&&t.uvt()})}ln(){super.ln()}lvt(t){const s=this.nvt++;return this.rvt.set(s,t),s}cvt(t){this.rvt.delete(t)}ovt(t,i){this.cf.gj(this.hvt,t,t=>{const s=this.rvt.get(t.elementId);i(s,t)})}}}{const ia=self.js;ia.fvt=class extends ia.rn{constructor(t){super(),this.Hct=t,this.cf=t.P3(),this.dvt=t.TP()}ln(){this.Hct=null,this.cf=null,this.dvt=null}CF(){return this.Hct}P3(){return this.cf}TP(){return this.dvt}qz(){return this.Hct.qz()}Z2t(){}Xwt(t){}RSt(t){}PSt(t){}y9(t){}v9(){}S9(){}W9(t){}pvt(){}K2t(){return null}mvt(t,s,i){const e=ia.un(ia.Event,t,s);e.gvt=this,i&&Object.assign(e,i),this.CF().Cq(e)}}}{const ea=self.js;ea.yvt=class extends ea.rn{constructor(t,s){super(),this.Gi=t,this.hvt=s,this.Mvt=null,this.cf=t.P3(),this.Hct=this.Gi.CF(),this.wvt=this.Hct.OSt(),this.dX=null,this.mX=null,this.bj=!1,this.xj=!1,this.b0=null,this.vC=!1}ln(){this.vC=!0,this.Svt(),this.Tvt(),this.dX=null,this.mX=null,this.b0&&(this.b0.ln(),this.b0=null),this.Gi=null,this.cf=null,this.Hct=null,this.wvt=null}cn(){return this.vC}jB(){return this.Gi}P3(){return this.cf}CF(){return this.Hct}TP(){return this.wvt.TP()}OSt(){return this.wvt}bvt(){return this.Gi.u3()}fj(t){return this.cf.fj(t,this.Gi,null)}vvt(t){return this.cf.vvt(t,this.Gi,null)}pj(t){return this.cf.pj(t,this.Gi,null)}xvt(t,s){return this.cf.xvt(t,this.Gi,s)}Ivt(t,s){return this.cf.Ivt(t,this.Gi,s)}Gvt(t){return this.cf.Gvt(t)}Cvt(t,s){this.cf.gj(this.hvt,t,s)}_vt(t){for(const[s,i]of t)this.Cvt(s,i)}Evt(t,s){this.cf.pf(this.hvt,t,s)}Avt(t,s){return this.cf.x3(this.hvt,t,s)}Dvt(t,s){if(!this.cf.RO())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.hvt,handler:t,data:s,responseId:null});this.Evt(t,s)}Nvt(t){if(!t)throw new Error("cannot set empty component id");this.Mvt=t}Lvt(){if(this.Mvt)return this.cf.Ej(this.Mvt);throw new Error("wrapper extension component id not set")}Dj(t,s){if(!this.Mvt)throw new Error("wrapper extension component id not set");this.cf.Dj(this.Mvt,t,s)}Ovt(t){for(const[s,i]of t)this.Dj(s,i)}d6(t,s){if(!this.Mvt)throw new Error("wrapper extension component id not set");this.cf.d6(this.Mvt,t,s)}p6(t,s){if(this.Mvt)return this.cf.p6(this.Mvt,t,s);throw new Error("wrapper extension component id not set")}bZ(){}Rvt(){}Pvt(){this.bj||(this.dX||(this.dX=()=>this.bZ()),this.cf.Qf().addEventListener("tick",this.dX),this.bj=!0)}Svt(){this.bj&&(this.cf.Qf().removeEventListener("tick",this.dX),this.bj=!1)}kvt(){return this.bj}Fvt(){this.xj||(this.mX||(this.mX=()=>this.Rvt()),this.cf.Qf().addEventListener("tick2",this.mX),this.xj=!0)}Tvt(){this.xj&&(this.cf.Qf().removeEventListener("tick2",this.mX),this.xj=!1)}jvt(){return this.xj}zvt(){return[]}IT(){return null}GT(t){}vnt(t){}Ent(t,s){}vrt(t,s,i){if(0!==s){const e=this.vnt(t);if("number"!=typeof e)throw new Error("expected number");this.Ent(t,e+s,i)}}Bvt(t,s,i,e){}Uvt(t,...s){t.call(this,...s)}Wvt(t,...s){return t.call(this,...s)}K2t(){return null}mvt(t,s,i){if(this.Gi.Qvt()){const e=this.bvt(),h=ea.un(ea.Event,t,s);h.bz=e,i&&Object.assign(h,i),e.dispatchEvent(h)}}zS(){return!1}}}{const ha=self.js;ha.Yvt=class extends ha.yvt{constructor(t,s){super(t,s),this.gst=t.m3(),this.Jvt=null,this.Vvt=null}ln(){if(this.Jvt){const t=this.cf.Qf();t.removeEventListener("renderercontextlost",this.Jvt),t.removeEventListener("renderercontextrestored",this.Vvt),this.Jvt=null,this.Vvt=null}this.gst=null,super.ln()}Hvt(){this.qvt()}Xvt(){}Zvt(){}qvt(){if(!this.Jvt){this.Jvt=()=>this.vY(),this.Vvt=()=>this.Kvt();const t=this.cf.Qf();t.addEventListener("renderercontextlost",this.Jvt),t.addEventListener("renderercontextrestored",this.Vvt)}}vY(){this.Xvt()}Kvt(){this.Zvt()}m3(){return this.gst}rit(){return!1}nit(){if(!this.rit())throw new Error("original size not known");const t=this.$vt();if(t)return t.lm()}ait(){if(!this.rit())throw new Error("original size not known");const t=this.$vt();if(t)return t.xm()}$vt(){return null}txt(){const t=this.$vt();if(t){const s=t.E2();if(s)return[s.lm(),s.xm()]}return[100,100]}sxt(){const t=this.$vt();return t?t.E_():null}ixt(){const t=this.$vt();return t?t.hxt():null}nxt(){const t=this.$vt();return!!t&&t.rxt()}qSt(t){const s=this.Gi.m3();return[s.fT(),s.mT(),s.Vj()]}pvt(t,s,i){}oxt(t,s){}kH(){return!0}}}{const na=self.js,ra=na.un(na.Rect);na.axt=class extends na.Yvt{constructor(t,s){super(t,s),this.uxt=this.TP().lvt(this),this.lxt=!0,this.cxt=!1,this.fxt=!1,this.dxt=-.2,this.pxt=na.un(na.Rect,0,0,-1,-1);const i=this.cf._4();this.mxt=i.EU(),this.gxt=i.AU(),this.yxt=-1,this.Mxt=-1,this.wxt=!1,this.Pvt()}ln(){this.TP().cvt(this.uxt),this.Sxt("destroy"),this.uxt=-1,super.ln()}lz(){if(this.cf.RO())throw new Error("not valid in worker mode");return this.Txt("get-element")}Sxt(t,s){(s=s||{}).elementId=this.uxt,this.Evt(t,s)}Txt(t,s){return(s=s||{}).elementId=this.uxt,this.Dvt(t,s)}bxt(t,s){return(s=s||{}).elementId=this.uxt,this.Avt(t,s)}vxt(t){t=t||{};const s=this.m3();t.elementId=this.uxt,t.isVisible=s.Fk(),t.htmlIndex=s.g3().PU(),t.htmlZIndex=s.kU(),Object.assign(t,this.xxt()),this.lxt=!!t.isVisible,this.Dvt("create",t),this.Ixt(!0)}sbt(t){this.lxt!==(t=!!t)&&(this.lxt=t,this.Sxt("set-visible",{isVisible:t}))}bZ(){this.Ixt(!1)}Gxt(){const t=this.cf._4().UU();return"Android"===na.ci.fi&&("scale-inner"===t||"scale-outer"===t||"crop"===t)}Ixt(l){if(!this.jB().WU()){let t=this.m3(),s=t.g3(),i=t.qj(),[e,h]=s.MF(i.xu(),i.Iu()),[n,r]=s.MF(i.Gu(),i.Cu()),o=this.cf._4(),a=o.N4(),u=o.O4();if(t.Fk()&&s.Fk())if(!this.Gxt()&&(n<=0||r<=0||a<=e||u<=h))this.sbt(!1);else{ra.set(e,h,n,r);const c=o.EU(),f=o.AU(),d=s.PU(),p=t.kU();if(!l&&ra.equals(this.pxt)&&this.mxt===c&&this.gxt===f&&this.yxt===d&&this.Mxt===p)this.sbt(!0);else{this.pxt.C(ra),this.mxt=c,this.gxt=f,this.yxt=d,this.Mxt=p,this.sbt(!0);let t=null;this.fxt&&(t=s.QU()+this.dxt),this.Sxt("update-position",{left:Math.round(this.pxt.xu()),top:Math.round(this.pxt.Iu()),width:Math.round(this.pxt.width()),height:Math.round(this.pxt.height()),htmlIndex:d,htmlZIndex:p,fontSize:t})}}else this.sbt(!1)}}fz(){this.Txt("focus",{focus:!0})}dz(){this.Txt("focus",{focus:!1})}avt(){this.cxt=!0}uvt(){this.cxt=!1}rbt(){return this.cxt}mz(t,s){this.Sxt("set-css-style",{prop:na.Wo(t),val:s})}ibt(t,s){this.Sxt("set-attribute",{name:t,val:s})}ebt(t){this.Sxt("remove-attribute",{name:t})}Cxt(){this.wxt||(this.wxt=!0,Promise.resolve().then(()=>{this.wxt=!1,this.Sxt("update-state",this.xxt())}))}xxt(){}_xt(){return this.uxt}}}{const oa=self.js,aa=self.Iz;oa.Ext=class extends oa.rn{constructor(t){super(),this.cf=t.runtime,this.Axt=oa.un(oa.ac),this.Dxt=oa.un(oa.ac),this.B2t=t.U2t,this.H2t=t.q2t,this.Nxt=null}ln(){this.Dxt.ln(),this.Axt.ln(),this.cf=null}P3(){return this.cf}Z2t(){}Fwt(){return this.B2t}K2t(t=!1){let s=this.H2t;return t&&"function"!=typeof s&&2<=this.Fwt()?globalThis.$U:s}Lxt(t){this.Axt.fc(t)}qX(){return this.Axt.mc()}SV(t){this.Dxt.fc(t)}vV(t){this.Dxt.hc(t)}NP(){return this.Dxt.mc()}tvt(){const t=this.Fwt(),s=(oa.J4.svt(this,t),this.K2t(!0));if(s){if(this.Nxt=new s,!(this.Nxt instanceof aa))throw new TypeError("behavior class must derive from IBehavior")}else this.Nxt=new aa;oa.J4.ivt(t)}yz(){return this.Nxt}}}{const ua=self.js;ua.Oxt=class extends ua.rn{constructor(t){super(),this.cf=t.P3(),this.bMt=t,this.Hct=t.CF(),this.Rxt=t.Mz(),this.Rxt.Lxt(this.Hct)}ln(){this.cf=null,this.bMt=null,this.Hct=null,this.Rxt=null}Z2t(){}Tz(){return this.bMt}CF(){return this.Hct}P3(){return this.cf}Mz(){return this.Rxt}}}{const la=self.js;la.Pxt=class extends la.rn{constructor(t,s){super(),this.kxt=t,this.hvt=s,this.Gi=t.vz(),this.cf=t.P3(),this.bMt=t.Tz(),this.wvt=this.bMt.OSt(),this.bj=!1,this.xj=!1,this.c6=!1,this.b0=null}ln(){this.Svt(),this.Tvt(),this.Fxt(),this.b0&&(this.b0.ln(),this.b0=null),this.kxt=null,this.Gi=null,this.cf=null,this.bMt=null,this.wvt=null}Mz(){return this.bMt.Mz()}jxt(){return this.kxt}vz(){return this.Gi}CF(){return this.Gi.CF()}m3(){return this.Gi.m3()}P3(){return this.cf}Tz(){return this.bMt}OSt(){return this.wvt}bvt(){return this.kxt.bvt()}fj(t){return this.cf.fj(t,this.Gi,this.bMt)}vvt(t){return this.cf.vvt(t,this.Gi,this.bMt)}pj(t){return this.cf.pj(t,this.Gi,this.bMt)}zxt(){}bZ(){}Rvt(){}Bxt(){}Pvt(){this.bj||(this.cf.n6(this),this.bj=!0)}Svt(){this.bj&&(this.cf.r6(this),this.bj=!1)}kvt(){return this.bj}Fvt(){this.xj||(this.cf.o6(this),this.xj=!0)}Tvt(){this.xj&&(this.cf.a6(this),this.xj=!1)}jvt(){return this.xj}Uxt(){this.c6||(this.cf.u6(this),this.c6=!0)}Fxt(){this.c6&&(this.cf.l6(this),this.c6=!1)}Wxt(){return this.c6}zvt(){return[]}Cvt(t,s){this.cf.gj(this.hvt,t,s)}Qxt(t,s){}IT(){return null}GT(t){}vnt(t){}Ent(t,s){}vrt(t,s){if(0!==s){const i=this.vnt(t);if("number"!=typeof i)throw new Error("expected number");this.Ent(t,i+s)}}Bvt(t,s,i,e){}Uvt(t,...s){t.call(this,...s)}Wvt(t,...s){return t.call(this,...s)}K2t(){return null}mvt(t,s,i){if(this.kxt.Qvt()){const e=this.bvt(),h=la.un(la.Event,t,s);h.Yxt=e,h.bz=e.bz,i&&Object.assign(h,i),e.dispatchEvent(h)}}}}{let s=function(t){if(t!==i)throw new Error("invalid internal API token")},n=(s,self.js),i=(n.q9={},n.Dat={},n.zs()),e=[],h=[],r=[],o=null,a=null,t=null,u=null,l=new Map,c=new Map;n.J4=class extends n.rn{constructor(t,s){super(),this.cf=t,this.Jxt=[],this.iMt=null,this.Vxt=[],this.Hxt=new Map,this.qxt=null,this.Xxt=null,this.Zxt=new Set(s)}Kxt(t){const s=t[19],i=this.cf.ryt(t[0]);if(!i)throw new Error("missing plugin");n.zbt(t,i,s);const e=2<=s?n._2t:i,h=n.un(e,{runtime:this.cf,H4:t[1],D2t:t[2],sP:t[5],eP:t[8],O2t:t[9],k2t:t[13],uP:t[14],K4:t[17],nP:t[18],U2t:s,q2t:2<=s?i:null});h.Z2t(),this.Jxt.push(h),l.set(i,h)}$xt(){this.iMt=n.un(n.q9.H9,{runtime:this.cf,H4:!0}),this.iMt.Z2t()}tIt(t){const i=t[1],e=this.cf.ryt(t[0]);if(!e)throw new Error("missing behavior");this.Hxt.set(e,()=>{const t=2<=i?n.Ext:e,s=n.un(t,{runtime:this.cf,U2t:i,q2t:2<=i?e:null});s.Z2t(),this.Vxt.push(s),c.set(e,s),!this.qxt&&n.Dat.solid&&s instanceof n.Dat.solid?this.qxt=s:!this.Xxt&&n.Dat.jumpthru&&s instanceof n.Dat.jumpthru&&(this.Xxt=s),s.tvt()})}sIt(t){const s=this.Hxt.get(t);s&&(s(),this.Hxt.delete(t))}static svt(t,s=1){if(n.J4.svt!==o)throw new Error("invalid method");1===s&&e.push(t),h.push(t)}static ivt(t=1){if(n.J4.ivt!==a)throw new Error("invalid method");1===t&&e.pop(),h.pop()}static DF(){if(n.J4.DF!==t)throw new Error("invalid method");if(0===e.length)throw new Error("no init object set");return e.at(-1)}static Y4(t){if(n.J4.Y4!==u)throw new Error("invalid method");if(s(t),0===h.length)throw new Error("no init object set");return h.at(-1)}static iIt(t){r.push(t)}static eIt(){r.pop()}static lj(){if(0===r.length)throw new Error("no init properties set");return r.at(-1)}hIt(){for(const t of this.Jxt)t.tvt()}static fP(t){return l.get(t)||null}static Gz(t){return c.get(t)||null}eMt(){return this.iMt}nIt(){return this.qxt}rIt(){return this.Xxt}Ej(t){return this.Zxt.has(t)}},o=n.J4.svt,a=n.J4.ivt,t=n.J4.DF,u=n.J4.Y4}{const ca=self.js,fa=new Set;ca.oIt=class extends ca.rn{constructor(){super(),this.aIt=0,this.fY="",this.dY=0,this.uIt=0,this.lIt=0,this.Xm=0,this.Zm=0,this.cIt=!1,this.fIt=!1,this.dIt=null,this.pIt="",this.yC=ca.un(ca.Rect),this.mIt=ca.un(ca.tl),this.gIt="",this.yIt=new self.O3(this),fa.add(this)}ln(){this.SC(),this.dIt&&0===this.dIt.GY()&&this.dIt.ln(),this.dIt=null,fa.delete(this),this.MIt()}static vY(){for(const t of fa)t.pIt="",t.yC.set(0,0,0,0),t.mIt.Tl(t.yC)}wIt(t){this.fY=t[0],this.dY=t[1],this.uIt=t[2],this.lIt=t[3],this.Xm=t[4],this.Zm=t[5],this.cIt=t[6],this.fIt=!0}SIt(t,s){if(this.dIt)throw new Error("already loaded asset");this.fY=s;const i={};return ca.To(s)&&(i.UQ="remote"),this.R3(t,i),this.dIt.YQ()}TIt(t,s){if(this.dIt)throw new Error("already loaded asset");this.fY="",this.dY=s.size,this.dIt=ca.un(ca.WQ,t.xO(),{blob:s,size:this.dY,UQ:"local"})}bIt(t){if(t===this)throw new Error("cannot replace with self");this.aIt++,this.SC(),this.fY=t.fY,this.dY=t.dY,this.uIt=t.uIt,this.lIt=t.lIt,this.Xm=t.Xm,this.Zm=t.Zm,this.cIt=t.cIt,this.fIt=t.fIt,this.dIt=t.dIt,this.pIt=t.pIt,this.yC=t.yC,this.mIt=t.mIt,this.MIt()}QQ(){return this.fY}rc(){return this.dY}vIt(){return this.uIt}xIt(){return this.lIt}rxt(){return this.cIt}lm(){return this.Xm}xm(){return this.Zm}IIt(){return this.dIt.lm()}GIt(){return this.dIt.xm()}R3(t,s){if(this.dIt)throw new Error("already got asset");s=Object.assign({},s,{url:this.QQ(),size:this.rc()}),this.dIt=t.BQ(s)}yY(){return this.dIt&&this.dIt.yY()}async bW(t,s){if(!this.dIt)throw new Error("no asset");if(this.pIt)throw new Error("already loaded texture");const i=this.aIt,e=(this.pIt="loading",await this.dIt.bW(t,s));if(this.aIt!==i)return null;if(!e)return this.pIt="",null;this.pIt="loaded",this.fIt||(this.Xm=e.lm(),this.Zm=e.xm(),this.fIt=!0);const h=this.cIt?this.Zm:this.Xm,n=this.cIt?this.Xm:this.Zm;return this.yC.set(this.uIt,this.lIt,this.uIt+h,this.lIt+n),this.yC._t(e.lm(),e.xm()),this.mIt.Tl(this.yC),this.cIt&&this.mIt.Cl(),e}SC(){this.pIt&&(this.dIt&&this.dIt.SC(),this.pIt="",this.yC.set(0,0,0,0),this.mIt.Tl(this.yC))}E2(){return this.dIt&&"loaded"===this.pIt?this.dIt.E2():null}E_(){return this.yC}hxt(){return this.mIt}nU(){return this.yIt}CIt(){return this.dIt}async _It(t){t=t||await this.dIt.CY();const s=ca.Oo(this.Xm,this.Zm),i=s.getContext("2d");return this.cIt?(i.rotate(Math.PI/-2),i.translate(-this.Zm,0),i.drawImage(t,this.uIt,this.lIt,this.Zm,this.Xm,0,0,this.Zm,this.Xm)):i.drawImage(t,this.uIt,this.lIt,this.Xm,this.Zm,0,0,this.Xm,this.Zm),s}async EIt(t){if(!this.gIt){const s=await this._It(t),i=await ca.Ro(s);this.gIt=URL.createObjectURL(i)}return this.gIt}MIt(){this.gIt&&(URL.revokeObjectURL(this.gIt),this.gIt="")}}}{const da=self.js;da.AIt=class extends da.rn{constructor(t){super(),this.pn=t[0],this.DIt=t[1],this.dwt=!!t[2],this.$rt=t[3],this.NIt=t[4],this.LIt=!!t[5],this.uJ=t[6],this.OIt=t[7].map(t=>da.un(da.RIt,t)),this.PIt=new self.Nz(this)}static kIt(t,s){const i=da.un(da.AIt,[s,0,!1,0,0,!1,Math.floor(1e15*Math.random()),[]]);return i.OIt.push(da.RIt.kIt(t)),i}ln(){for(const t of this.OIt)t.ln();da.Br(this.OIt)}FIt(t){for(const s of this.OIt)s.qz().R3(t)}jIt(s,i){return Promise.all(this.OIt.map(t=>t.qz().bW(s,i)))}zIt(){for(const t of this.OIt)t.qz().SC()}tf(){return this.pn}BV(){return this.uJ}zz(){return this.OIt.length}Uz(){return this.OIt}BIt(t){if((t=Math.floor(t))<0||t>=this.OIt.length)throw new RangeError("invalid frame");return this.OIt[t]}UIt(t,s){(s=Math.floor(s))<0?this.OIt.unshift(t):s>=this.OIt.length?this.OIt.push(t):this.OIt.splice(s,0,t)}WIt(t){if((t=Math.floor(t))<0||t>=this.OIt.length)throw new RangeError("invalid frame");this.OIt[t].ln(),this.OIt.splice(t,1)}QIt(i){for(let t=0,s=this.OIt.length;t<s;++t)if(da.wh(this.OIt[t].pB(),i))return t;return-1}YIt(t){if("string"!=typeof t)return t;{const s=this.QIt(t);if(-1===s)throw new Error("cannot find animation frame with tag "+t);return s}}Lz(){return this.DIt}Oz(){return this.dwt}Rz(){return this.$rt}kz(){return this.NIt}jz(){return this.LIt}JIt(){return this.PIt}}}{const pa=self.js,ma=(()=>{const i=atob("iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IArs4c6QAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAATSURBVBgZYxgFo2AUjIJRQFcAAAV4AAHcRQIbAAAAAElFTkSuQmCC"),e=new Uint8Array(i.length);for(let t=0,s=i.length;t<s;++t)e[t]=i.charCodeAt(t);return new Blob([e],{type:"image/png"})})();pa.RIt=class extends pa.rn{constructor(t){super(),this.VIt=pa.un(pa.oIt),this.VIt.wIt(t),this.HIt=t[7],this.qIt=pa.un(pa.tu,t[8],t[9]),this.XIt=t[10].map(t=>pa.un(pa.ZIt,this,t)),this.KIt=new Map;for(const i of this.XIt)this.KIt.set(i.tf().toLowerCase(),i);this.$It=null;const s=t[11];6<=s.length&&(this.$It=pa.un(pa.Ol,s)),this.Zg=t[12]||"",this.tGt=new self.Vz(this)}static kIt(t){const s=pa.un(pa.RIt,["",0,0,0,100,100,!1,1,0,0,[],[],""]);return s.VIt.TIt(t,ma),s}ln(){this.$It&&(this.$It.ln(),this.$It=null),this.VIt.ln(),this.VIt=null}qz(){return this.VIt}Xz(){return this.HIt}Kz(){return this.qIt.nu()}tB(){return this.qIt.ou()}lB(){return this.$It}aB(t){return this.KIt.get(t.toLowerCase())||null}oB(t){return(t=Math.floor(t))<0||t>=this.XIt.length?null:this.XIt[t]}eB(){return this.XIt.length}pB(){return this.Zg}Wz(){return this.tGt}}}{const ga=self.js;ga.ZIt=class extends ga.rn{constructor(t,s){super(),this.sGt=t,this.pn=s[0],this.iGt=ga.un(ga.tu,s[1],s[2])}ln(){}tf(){return this.pn}fT(){return this.iGt.nu()}mT(){return this.iGt.ou()}eGt(){return this.iGt}}}{const b=self.js,ya=self.C3Debugger,Ma=self.wP;b.Tut=class extends b.rn{constructor(s,t,i){super();const e=s.ryt(i[1]),[h,n]=(this.cf=s,this.dvt=b.J4.fP(e),this.wvt=null,this.hGt=e.Instance,this.Xg=t,this.uJ=i[11],this.pn=i[0],this.Wyt=this.cf.x1t(i[14]),this.nGt=!!i[9],this.rGt=!!i[2],this.oGt=!!i[10],this.aGt=i[3].map(t=>({sid:t[0],type:t[1],name:t[2],uGt:s.x1t(t[3])})),this.lGt=i[4],this.cGt=i[5],this.A2t=this.dvt.Z4(),this.fGt=b.un(b.Event.Qf),this.QJ=null,s.CO().d4());if(this.dGt=b.un(b.pGt,h,n),this.mGt=!0,this.gGt=null,this.yGt=null,this.MGt=-1,this.wGt=null,this.SGt=null,this.TGt=null,this.bGt=null,this.vGt=null,this.xGt=!1,this.IGt=null,this.GGt=i[8].map(t=>b.CGt.X2(this,t)),this._Gt=[],this.EGt=new Map,this.AGt=new Map,this.DGt=new Set,this.NGt=new Map,this.LGt=b.un(b.Vct,this),this.OGt=null,this.RGt=0,this.PGt=!1,this.IGt=null,this.VIt=null,this.kGt=null,this.FGt=null,this.jGt=null,this.zGt=0,this.Mwt=new Map,this.wwt=new Map,this.DY=[],this.BGt=new Map,this.UGt=!0,this.dvt.hP()&&(this.QJ=b.un(b.YJ,this,i[12])),i[6]&&(this.VIt=b.un(b.oIt),this.VIt.wIt(i[6])),i[7]){this.kGt=i[7].map(t=>b.un(b.AIt,t)),this.FGt=new Map,this.jGt=new Map;for(const a of this.kGt)this.FGt.set(a.tf().toLowerCase(),a),this.jGt.set(a.BV(),a)}this.rGt?(this.gGt=[],this.yGt=new Set,this.MGt=this.cf.WGt()):(this.wGt=[],this.SGt=new Set,this.TGt=[],this.bGt=[],this.vGt=[]);const r=this.dvt.Fwt();if(r<2&&(this.wvt=b.un(e.QGt,this,i[15]),!(this.wvt instanceof b.fvt)))throw new Error("v1 sdk type must derive from SDKTypeBase");this.YGt=null,this.JGt=null,this.U7=b.un(b.Event.Qf),b.J4.svt(this,r);let o;if(o=2<=r?(o=e.QGt)||globalThis.iU:this.wvt.K2t()){if(this.YGt=new o(r<2?this:null),r<2&&!(this.YGt instanceof Ma))throw new TypeError("script interface class must derive from IObjectClass");if(2<=r&&!(this.YGt instanceof globalThis.iU))throw new TypeError("script interface class must derive from ISDKObjectTypeBase")}else this.YGt=new Ma;if(b.J4.ivt(r),i[13]){const u=i[13];if(u){const l=u[0],c=u[1],f=u[2];this.wvt.pvt(l,c,f)}}this.cf.VGt()&&!this.rGt&&!this.oGt&&this.A2t||this.Z2t(),this.dvt.q4()&&(this.dvt.$2t(this),this.HGt(i)),this.qGt=null}static X2(t,s,i){return b.un(b.Tut,t,s,i)}ln(){if(this.fGt.ln(),this.fGt=null,this.VIt&&(this.VIt.ln(),this.VIt=null),this.kGt){for(const t of this.kGt)t.ln();b.Br(this.kGt),this.FGt.clear(),this.jGt.clear()}this.qGt=null,this.LGt.ln(),this.LGt=null,this.Mwt.clear(),this.wwt.clear(),this.IGt=null,this.cf=null}XGt(i){for(let t=1,s=i.length;t<s;++t){const e=this.cf.uV(i[t]);this.gGt.push(e),this.yGt.add(e),e.wGt.push(this),e.SGt.add(this)}}ZGt(t){this.xGt=!0,this.IGt=t}jF(){return this.xGt}p9(){return this.IGt}KGt(){let t=0;if(!this.rGt)for(const s of this.wGt)for(const i of s.$Gt()){const e=i.tf().toLowerCase();this.EGt.set(e,i),this.AGt.set(e,t),this._Gt.push(i),++t}for(const h of this.$Gt()){const n=h.tf().toLowerCase();this.EGt.set(n,h),this.AGt.set(n,t),this._Gt.push(h),++t}for(const r of this._Gt)this.DGt.add(r.Mz().constructor);if(!this.rGt&&this.wGt.length){let t=this.cf.tCt(),s=(b.Wr(this.TGt,t,0),b.Wr(this.bGt,t,0),b.Wr(this.vGt,t,0),[]),i=0,e=0,h=0;for(const o of this.wGt){const a=o.SMt(),u=(this.TGt[a]=i,i+=o.sCt(),this.bGt[a]=e,e+=o.iCt(),this.vGt[a]=h,h+=o.eCt(),o.YP());if(u&&this.QJ)for(const l of u.JP())s.push(l.hCt(this.QJ))}this.QJ&&this.QJ.nCt(s)}}HGt(t){const s=this.cf.rCt(),i=b.un(b.Instance,{runtime:this.cf,GF:this,uid:s});i.oCt(t[16],[]),this.cf.aCt(s,i),this.DY.push(i)}OSt(){return this.wvt}uCt(){return this.oGt}Qf(){return this.fGt}Z2t(){this.rGt||(this.wvt?this.wvt.Z2t():this.YGt.eU())}lCt(){return 0<this.zGt}async y9(t){this.rGt||(this.zGt++,1===this.zGt&&(this.wvt?await this.wvt.y9(t):await this.YGt.rU(this.cf._4().cCt())))}v9(){if(!this.rGt){if(this.zGt--,this.zGt<0)throw new Error("released textures too many times");0===this.zGt&&(this.wvt?this.wvt.v9():this.YGt.oU(this.cf._4().cCt()))}}S9(){if(this.rGt)throw new Error("not applicable to family");this.wvt?this.wvt.S9():this.YGt.aU()}async W9(t){this.rGt||(this.wvt?await this.wvt.W9(t):await this.YGt.uU(this.cf._4().cCt()))}P3(){return this.cf}TP(){return this.dvt}fCt(){return this.hGt}tf(){return this.pn}x1t(){return this.Wyt}SO(){return this.Xg}BV(){return this.uJ}LV(){return this.rGt}wV(){return this.nGt}Z4(){return this.A2t}SMt(){return this.MGt}$Gt(){return this.GGt}iCt(){return this.lGt}dCt(t){return t&&this.DGt.has(t)}sCt(){return this.aGt.length}pCt(){return this.aGt.map(t=>t.sid)}mCt(s){return this.aGt.findIndex(t=>t.sid===s)}Wst(s){return this.aGt.findIndex(t=>t.name===s)}gCt(){return this.aGt.map(t=>t.name)}yCt(){return this.aGt.map(t=>t.uGt)}Yst(t){if((t=Math.floor(t))<0||t>=this.aGt.length)throw new RangeError("invalid instance variable index");return this.aGt[t].type}Qst(t){if((t=Math.floor(t))<0||t>=this.aGt.length)throw new RangeError("invalid instance variable index");return this.aGt[t].name}eCt(){return this.cGt}MCt(){return this._Gt}yht(t){return this.EGt.get(t.toLowerCase())||null}Vst(t){const s=this.AGt.get(t.toLowerCase());return void 0===s?-1:s}YP(){return this.QJ}hP(){return this.dvt.hP()}wCt(){return this.QJ&&this.QJ.SCt()}ddt(){return this.LGt}LP(){return this.LGt.LP()}qz(){return this.VIt}fV(t){this.OGt=t}cV(){return this.OGt}dV(t){this.RGt=t}TCt(){return this.RGt}bCt(){return this.kGt}vCt(){return this.kGt.length}D1t(){return this.wGt}jSt(t){return this.SGt.has(t)}Wmt(){return this.gGt}OV(t){return this.yGt.has(t)}IMt(t){return this.bGt[t]}wMt(t){return this.TGt[t]}Cyt(t){this.NGt.set(t.Nyt().toLowerCase(),t)}_yt(t){return!!this.Fyt(t)}Fyt(t){const s=this.NGt.get(t.toLowerCase());return s&&s.Kl()?s:null}xCt(){return this.kGt}ICt(t){if(this.kGt)return this.FGt.get(t.toLowerCase())||null;throw new Error("no animations")}GCt(t){if(this.kGt)return this.jGt.get(t)||null;throw new Error("no animations")}CCt(t){if(this.ICt(t))throw new Error(`animation name '${t}' already exists`);const s=b.AIt.kIt(this.P3(),t);return this.kGt.push(s),this.FGt.set(s.tf().toLowerCase(),s),this.jGt.set(s.BV(),s),s}_Ct(t){const s=this.ICt(t);if(!s)throw new Error(`animation name '${t}' does not exist`);if(1===this.kGt.length)throw new Error("cannot remove last animation");const i=this.kGt.indexOf(s);this.kGt.splice(i,1),this.FGt.delete(s.tf().toLowerCase()),this.jGt.delete(s.BV()),s.ln()}ECt(){if(this.kGt)return this.kGt[0];throw new Error("no animations")}ACt(){return this.ECt().BIt(0)}DCt(){if(this.kGt){const t=this.ACt().qz();return[t.lm(),t.xm()]}return this.VIt?[this.VIt.lm(),this.VIt.xm()]:[100,100]}MP(){if(this.dvt.q4())return this.DY[0];throw new Error("not a single-global plugin")}NP(){return this.DY}*instances(){yield*this.DY}*DP(){yield*this.DY,yield*this.cf.UTt(this)}RP(){return this.DY.length}SV(t){this.DY.push(t)}NCt(){this.UGt=!0}iq(){if(this.UGt&&!this.rGt){let s=this.DY,i=0;for(let t=s.length;i<t;++i)s[i].LCt(i);const t=this.cf.OCt();for(const e of t)e.CF()===this&&e.LCt(i++);this.UGt=!1}}RCt(t){const s=this.DY;if(t<s.length)return s[t];t-=s.length;const i=this.cf.OCt();for(const e of i)if(e.CF()===this){if(0===t)return e;--t}return null}GTt(t){if(t&&t.jF()&&t.CF()!==this)for(const i of t.zF())if(i.CF()===this)return i;const s=this.LP().NP();return s.length?s[0]:null}AP(t){const s=this.LP().NP();return 0<s.length?s[t.K9()%s.length]:null}*HTt(t,s){let i=this.LP().NP(),e=i.length,h=s.LP(),n=s.LP().NP(),r=n.length,o=t.K9(),a=(!s.LV()&&h.oft()||(o=n.indexOf(t)),Math.ceil(e/r)),u=e%r,l=0,c;c=0==u||o<u?(l=o*a,a):(l=u*a+(o-u)*(a-1),a-1);for(let t=l,s=l+c;t<s;++t)yield i[t]}Xwt(t){this.wvt?.Xwt(t)}Zgt(){if(this.xGt&&!this.rGt){this.iq();const t=this.LP(),s=t.mft(),i=t.oft(),e=this.cf.p1t(),h=e&&e.eR()&&e.eR().xft();for(const n of this.IGt.tq())if(n!==this){n.iq();const r=n.LP();if(r.pft(i),!i){const o=r.mft();b.Br(o);for(const a of s)o.push(n.RCt(a.K9()));if(h){const u=t.gft(),l=r.gft();b.Br(l);for(const c of u)l.push(n.RCt(c.K9()))}}}}}sSt(t,s){for(const i of this.p9().tq()){const e=i.LP();t?b.zr(e.gft(),s):b.zr(e.mft(),s)}}PCt(){return this.dGt}kCt(t){this.mGt=!!t}FCt(){if(this.mGt&&this.A2t){for(const t of this.DY)t.m3().jCt();for(const s of this.cf.OCt())s.CF()===this&&s.m3().jCt();this.mGt=!1}}zCt(s,t,i){if(t){const e=this.BGt.get(t);e&&(e.delete(s),0===e.size)&&this.BGt.delete(t)}if(i){let t=this.BGt.get(i);t||(t=new Set,this.BGt.set(i,t)),t.add(s)}}BCt(){if(this.LV()){const t=new Set;for(const s of this.gGt)for(const i of s.BCt())t.add(i);return t.values()}return this.BGt.keys()}Qwt(){return this.Mwt||(this.Mwt=new Map),this.Mwt}Ywt(){return this.wwt||(this.wwt=new Map),this.wwt}UCt(){return this.dCt(b.Dat.solid)}WCt(){return this.dCt(b.Dat.jumpthru)}QCt(){return this.dCt(b.Dat.NoSave)}yV(){return this.dCt(b.Dat.Persist)}n7(){const t={instances:this.DY.map(t=>t.IT())};return this.Mwt&&this.Mwt.size&&(t.ex=b.Bo(this.Mwt)),t}r7(t,e){this.Mwt&&(this.Mwt.clear(),this.Mwt=null);const s=t.ex,h=(s&&(this.Mwt=b.Uo(s)),this.DY),n=t.instances;for(let t=0,s=Math.min(h.length,n.length);t<s;++t)h[t].GT(n[t]);for(let t=n.length,s=h.length;t<s;++t)this.cf.OF(h[t]);for(let i=h.length,t=n.length;i<t;++i){let t=n[i],s=null;if(!this.Z4()||(s=this.cf.QR().h9(t.w.l))){const r=this.cf.MV(this.OGt||this,s,!1,0,0,!0);r.GT(t),e&&e.add(r)}}this.qGt=n,this.NCt()}YCt(){return this.qGt}JCt(){this.qGt=null}VCt(){for(let t=0,s=this.DY;t<s;++t)this.DY[t].VCt()}mP(){return this.YGt}VO(){return this.U7}HCt(){return this.JGt}PP(t){this.JGt=t}Cq(t){const s=this.cf,i=s._q()&&!s.ZO().BP();i&&ya.StartMeasuringScriptTime(),this.U7.dispatchEvent(t),i&&ya.AddScriptTime()}}}{const wa=self.js;wa.qCt=class extends wa.rn{constructor(t,s){super(),this.cf=t,this.XCt=s;for(const i of this.XCt)i.ZGt(this)}ln(){this.cf=null}P3(){return this.cf}d9(){return this.XCt}tq(){return this.XCt}hq(){return this.XCt.some(t=>t.Z4())}}}{let w=self.js,h=self.C3Debugger,r=w.J4,o=[],a=0,S=new WeakMap,e=new WeakMap;w.Instance=class extends w.rn{constructor(t){if(w.J4!==r)throw new Error("invalid addon manager");super(),this.cf=t.runtime,this.ZCt=t.GF,this.gst=null,this.KCt=null,this.$Ct=null,this.t_t=0,this.s_t=t.uid,this.i_t=a++,this.nSt=0,this.e_t=null;const s=w.no(t.tags),i=(0<s.length&&(this.e_t=new Set(s)),this.h_t=o,this.n_t=o,this.ZCt.MCt()),e=(0<i.length&&(this.n_t=i.map((t,s)=>w.un(w.r_t,{runtime:this.cf,wz:t,bz:this,index:s}))),this.o_t=this.ZCt.jF()?[]:null,this.a_t=-1,this.fGt=null,this.TP());if(e.zS()&&(this.nSt|=4),e.Z4())if(this.gst=w.un(w.u_t,this,t.zj),t.l_t)this.gst.c_t(t.l_t);else{this.gst.f_t();const[h,n]=this.ZCt.DCt();this.gst.KC(h,n),this.CF().wCt()&&this.gst.jj().d_t()}t.p_t?this.m_t(t.p_t):this.g_t()}ln(){if(this.$Ct&&(this.$Ct.NF(),this.$Ct=null),0<this.n_t.length){for(const i of this.n_t)i.ln();w.Br(this.n_t)}this.KCt&&(this.KCt.ln(),this.KCt=null);const t=S.get(this),s=(t&&(t.clear(),S.delete(this)),e.get(this));s&&(s.clear(),e.delete(this)),this.o_t&&w.Br(this.o_t),this.fGt&&(this.fGt.ln(),this.fGt=null),this.e_t&&this.e_t.clear(),this.e_t=null,this.cf=null,this.ZCt=null,0<this.h_t.length&&w.Br(this.h_t),this.gst&&(this.gst.ln(),this.gst=null)}m_t(t){0<t.length&&(this.h_t=[],w.Yr(this.h_t,t))}g_t(){const s=this.ZCt.sCt();if(0!==s){this.h_t=[];const i=[0,0,""];for(let t=0;t<s;++t)this.h_t.push(i[this.ZCt.Yst(t)])}}oCt(t,i){if(this.KCt)throw new Error("already got sdk instance");for(let t=0,s=this.n_t.length;t<s;++t){const e=this.n_t[t];e.oCt(i?i[t]:null)}const s=this.TP().Fwt();if(s<2){if(this.KCt=w.un(this.ZCt.fCt(),this,t),!(this.KCt instanceof w.yvt))throw new Error("sdk type must derive from SDKInstanceBase");!this.TP().Z4()&&this.ZCt.HCt()&&this.u3()}else{const h=this.TP().K2t();this.y_t(h.Instance,t)}}cz(){return this.KCt??this.$Ct}m3(){return this.gst}P3(){return this.cf}IR(){return this.a_t}QF(){const t=this.a_t;return-1===t?this.P3().IR():t}GR(t){((t=+t)<0||!isFinite(t))&&(t=0),this.a_t=t,this.CF().wCt()&&this.cf.M_t(this,!0)}JF(){this.a_t=-1,this.CF().wCt()&&this.cf.M_t(this,!1)}HH(){return this.cf.w_t(this)}Qf(){return this.fGt||(this.fGt=w.un(w.Event.Qf)),this.fGt}tb(t){this.KCt?this.KCt.tb(t):this.$Ct.gU(this.cf._4().cCt())}Z2t(t){this.KCt.Z2t(t)}S_t(){this.nSt|=2}T_t(){return 0!=(2&this.nSt)}b_t(){this.nSt|=1}WU(){return 0!=(1&this.nSt)}zS(){return 0!=(4&this.nSt)||this.KCt.zS()}v_t(){this.nSt|=32}jH(){return 0!=(32&this.nSt)}x_t(){return 0!=(8&this.nSt)}I_t(t){t?this.nSt|=8:this.nSt&=-9}G_t(){return 0!=(16&this.nSt)}C_t(t){t?this.nSt|=16:this.nSt&=-17}__t(){return 0!=(64&this.nSt)}E_t(t){t?this.nSt|=64:this.nSt&=-65}A_t(t,s){t<<=16,s?this.nSt|=t:this.nSt&=~t}D_t(t){return 0!=(this.nSt&t<<16)}$vt(){return this.KCt.$vt()}txt(){return this.KCt.txt()}sxt(){return this.KCt.sxt()}ixt(){return this.KCt.ixt()}nxt(){return this.KCt.nxt()}qSt(t){return this.KCt.qSt(t)}CF(){return this.ZCt}kH(){return this.KCt.kH()}WTt(t){return t.LV()?t.OV(this.CF()):this.CF()===t}N_t(h,t,s){const i=(t,s)=>{const i=s||t.CF(),e=h.get(i);e?e.add(t):h.set(i,new Set([t]))};if(i(this,t),this.jF())for(const e of this.zF())i(e);if(s)for(const n of this.v5())i(n)}L_t(){if(!this.TP().aP())throw new Error("object does not support scene graph")}_5(){return null!==this.m5()}m5(){const t=this.m3();if(!t)return null;const s=t.m5();return s?s.jB():null}y5(){const t=this.m3();if(!t)return null;const s=t.y5();return s?s.jB():null}*M5(){const t=this.m3();if(t)for(const s of t.M5())yield s.jB()}O_t(t){if(t)for(const s of this.children())if(s===t)return!0;return!1}u7(){const t=this.m3();return!!t&&t.u7()}R_t(t){const s=this.m3();if(!s)return[];const i=t.tf();return s.fq().map(t=>t.jB()).filter(t=>t.CF().tf()===i)}fq(){const t=this.m3();return t?t.fq().map(t=>t.jB()):[]}*children(){const t=this.m3();if(t)for(const s of t.children())yield s.jB()}*v5(){const t=this.m3();if(t)for(const s of t.v5())yield s.jB()}S5(){const t=this.m3();return t?t.S5():0}P_t(){return[...this.M5()].length}VTt(){const t=this.m3();return t?t.VTt():0}b5(t){const s=this.m3();if(!s)return null;const i=s.b5(t);return i?i.jB():null}k_t(){const t=this.m3();if(!t)return NaN;const s=t.m5();return s?s.F_t(t):NaN}j_t(t){for(const s of this.m3().fq())if(s.jB().BF()===t)return!0;return!1}I5(t,s){this.L_t(),t.L_t(),this.m3().I5(t.m3(),s||{})}G5(t){const s=this.m3();s&&s.G5(t.m3())}V5(){const t=this.m3();return!!t&&t.V5()}z9(){const t=this.m3();if(t){const s=t.z_t();if(s)for(const i of s){const e=this.cf.a3(i[2]);if(e){const h=i[3];this.I5(e,{A5:!!(h>>0&1),N5:!!(h>>1&1),O5:!!(h>>2&1),P5:!!(h>>3&1),F5:!!(h>>4&1),J5:!!(h>>5&1),z5:!!(h>>6&1),U5:!!(h>>7&1),Q5:!!(h>>8&1)})}}}}B9(t,s){const i=t.get(this);if(i)for(const e of i.sceneGraphJson.children){const h=s.get(e.index);if(h){const n=e.flags;this.I5(h,{A5:!!(n>>0&1),N5:!!(n>>1&1),O5:!!(n>>2&1),P5:!!(n>>3&1),F5:!!(n>>4&1),J5:!!(n>>5&1),z5:!!(n>>6&1),U5:!!(n>>7&1),Q5:!!(n>>8&1)})}}}WF(){const t=this.cf.B_t();return t?t.vut(this):""}jF(){return null!==this.o_t}sq(t){this.o_t.push(t)}kF(){return this.o_t}U_t(t){return!!this.W_t(t)}W_t(t){const s=this.zF();if(null===s||0===s.length)return!1;for(const i of s)if(i.CF()===t)return i;return null}zF(){return this.o_t}smt(){for(const t of this.zF())t.CF().LP().yft(t)}Zwt(){for(const t of this.zF())t.CF().LP().fft(t)}Kwt(t){for(const s of this.zF())s.CF().LP().mft()[t]=s}tSt(){for(const t of this.zF())t.CF().LP().dft(t)}$wt(t){for(const s of this.zF())s.CF().LP().gft()[t]=s}TP(){return this.ZCt.TP()}LCt(t){this.t_t=t}K9(){return this.ZCt.iq(),this.t_t}BF(){return this.s_t}Q_t(){return this.i_t}Y_t(t){t?this.XF(new Set(t)):this.e_t=null}XF(t){if(0===t.size)this.e_t=null;else{this.e_t?this.e_t.clear():this.e_t=new Set;for(const s of t)this.e_t.add(s)}}HF(){return this.e_t??new Set}gbt(){return Array.from(this.HF()).join(" ")}wbt(t){t=Math.floor(t);for(const s of this.HF()){if(0===t)return s;--t}return""}ght(){return this.n_t}J_t(t){if(t)for(const s of this.n_t)if(s.Mz()instanceof t)return s;return null}Nat(t){if(!t)return null;const s=this.J_t(t);return s?s.cz():null}mht(i){const e=this.n_t;for(let t=0,s=e.length;t<s;++t)if(e[t].Tz().BV()===i)return t;return-1}V_t(){return this.h_t}gCt(){return this.ZCt.gCt()}H_t(){return this.h_t.length}Nnt(t){const s=this.h_t;if((t|=0)<0||t>=s.length)throw new RangeError("invalid instance variable");return s[t]}yMt(t){return this.h_t[t]}q_t(t){const s=this.h_t[t];return 0===this.ZCt.Yst(t)?!!s:s}Lnt(t,s){const i=this.h_t;if((t|=0)<0||t>=i.length)throw new RangeError("invalid instance variable");const e=this.ZCt.Yst(t);switch(e){case 0:i[t]=s?1:0;break;case 1:i[t]="number"==typeof s?s:parseFloat(s);break;case 2:i[t]="string"==typeof s?s:s.toString();break;default:throw new Error("unknown instance variable type")}}xrt(t,s){if(0!==s){const i=this.h_t;if((t|=0)<0||t>=i.length)throw new RangeError("invalid instance variable");const e=i[t];if("number"!=typeof e)throw"boolean"==typeof e?new Error("can not set offset of boolean variable"):"string"==typeof e?new Error("can not set offset of string variable"):new Error("unknown instance variable type");i[t]+="number"==typeof s?s:parseFloat(s)}}Qwt(){let t=S.get(this);return t||(t=new Map,S.set(this,t)),t}Ywt(){let t=e.get(this);return t||(t=new Map,e.set(this,t)),t}X_t(t){const s=this.CF();if(s.VO().qf(t))return!0;for(const i of s.D1t())if(i.VO().qf(t))return!0;return!!this.cf.VO().qf(t)}zP(){const t=new Set,s=(t.add(this),this.m3());if(s&&s.u7())for(const i of this.v5())if(t.add(i),i.jF())for(const e of i.zF())t.add(e);if(this.jF())for(const h of this.zF())t.add(h);for(const n of t.values())n.U9()}Z_t(){this.ZCt.HCt()&&this.u3();for(const t of this.n_t)t.zxt()}K_t(){this.Z_t()}U9(){if(this.Z_t(),this.X_t("instancecreate")){const t=this.CF(),s=new w.Event("instancecreate");s.bz=this.u3(),t.Cq(s);for(const i of t.D1t())i.Cq(s);this.cf.Cq(s)}this.cf.fj(this.TP().Bdt().V9.bbt,this,null)}$_t(){this.cf.fj(this.TP().Bdt().V9.vbt,this,null)}tEt(t){if(this.$Ct){const s=new w.Event("destroy");s.sEt=t,this.Cq(s)}if(this.X_t("instancedestroy")){const i=this.CF(),e=new w.Event("instancedestroy");e.bz=this.u3(),e.sEt=t,i.Cq(e);for(const h of i.D1t())h.Cq(e);this.cf.Cq(e)}}iEt(){return this.KCt?this.KCt.zvt():this.$Ct.Ij()}IT(t="full",s=null){const i={},e=("full"===t?i.uid=this.BF():i.c3=!0,this.HF());if(0<e.size&&(i.tags=Array.from(e)),"visual-state"!==t){const n=S.get(this);if(n&&n.size&&(i.ex=w.Bo(n)),-1!==this.IR()&&(i.mts=this.IR()),0<this.ZCt.sCt()){const r={},o=this.ZCt.pCt();for(let t=0,s=this.h_t.length;t<s;++t)r[o[t].toString()]=this.h_t[t];i.ivs=r}if(this.n_t.length){const a={};for(const u of this.n_t){const l=u.IT(t);l&&(a[u.Tz().BV().toString()]=l)}i.behs=a}}this.gst&&(i.w=this.gst.n7(t,s));const h=this.KCt?this.KCt.IT():this.$Ct.Gj();return h&&(i.data=h),i}xX(t="full",s){this.gst&&this.gst.xX(t)}GX(t,s="full",i=null){this.gst&&this.gst.GX(t,s,i)}eEt(t,s="full",i=null){this.gst&&this.gst.eEt(t,s,i)}VCt(){this.TP().Z4()&&this.gst.VCt()}GT(s,t="full",i){if("full"===t)this.s_t=s.uid;else if(!s.c3)return;if(this.Y_t(s.tags),"visual-state"!==t){let t=S.get(this);t&&(t.clear(),S.delete(this));const h=s.ex,n=(h&&(t=w.Uo(h),S.set(this,t)),this.a_t=s.hasOwnProperty("mts")?s.mts:-1,s.ivs);if(n)for(const[r,o]of Object.entries(n)){const a=parseInt(r,10),u=this.ZCt.mCt(a);if(!(u<0||u>=this.h_t.length)){let t=o;null===t&&(t=NaN),this.h_t[u]=t}}}if(this.TP().Z4()){const l=s.w;if(l){const c=l.l;if(this.gst.g3().BV()!==c){const f=this.gst.g3(),d=f.HR().h9(c);d?(this.gst.S3(d),f.vV(this,!0),d.SV(this,!0),d.T3(this),this.gst.Bj()):"full"===t&&this.cf.OF(this)}this.gst.r7(l,t)}}if("visual-state"!==t){const p=s.behs;if(p)for(const[m,g]of Object.entries(p)){const y=parseInt(m,10),M=this.mht(y);M<0||M>=this.n_t.length||this.n_t[M].GT(g,t)}}const e=s.data;e&&(this.KCt?this.KCt.GT(e,t):this.$Ct.Cj(e))}u3(){return this.$Ct||this.y_t()}Qvt(){return!!this.$Ct}y_t(t,s){const i=this.gst?t?self.lU:self.rz:t?self.tj:self.IF,e=t||this.KCt.K2t(),h=this.ZCt.HCt(),n=h||e||i,r=this.TP().Fwt();if(w.J4.svt(this,r),w.J4.iIt(s),this.$Ct=new n,w.J4.eIt(),w.J4.ivt(r),e&&!(this.$Ct instanceof i))throw new TypeError(`script interface class '${e.name}' does not extend the right base class '${i.name}'`);if(h){const o=e||i;if(!(this.$Ct instanceof o))throw new TypeError(`setInstanceClass(): class '${h.name}' does not extend the right base class - check it extends the right class, e.g. globalThis.InstanceType.MyObjectName`)}return this.$Ct}_F(t){if(0!==this.h_t.length){const i={},e=this.ZCt.yCt();for(let t=0,s=e.length;t<s;++t)i[e[t]]={configurable:!1,enumerable:!0,get:w.Instance.prototype.q_t.bind(this,t),set:w.Instance.prototype.Lnt.bind(this,t)};const s=Object.create(Object.prototype,i);t.hEt={value:s,writable:!1}}}EF(t){const s=this.n_t;if(0!==s.length){const i={};for(const h of s)i[h.Tz().x1t()]={value:h.bvt(),writable:!1};const e=Object.create(Object.prototype,i);t.Bpt={value:e,writable:!1}}}Cq(t){if(this.Qvt()){const s=this.u3(),i=(t.bz=s,this.cf),e=i._q()&&!i.ZO().BP();e&&h.StartMeasuringScriptTime(),s.dispatchEvent(t),e&&h.AddScriptTime()}}}}{const Sa=self.js;Sa.mq=class extends Sa.rn{constructor(e){super(),this.LT=e,this.omt=null,this.nEt=[],this.rEt=e.lm(),this.oEt=e.xm(),this.aEt=1,this.uEt=1,this.lEt=0,this.cEt=1,this.fEt=e._A(),this.dEt=null,this.pEt=null,this.mEt=NaN,this.gEt=!1,this.f7=NaN,this.d7=NaN,this.yEt=t=>{if(t.bz===this.omt.jB()){const s=e.P3(),i=(s.Qf().removeEventListener("instancecreate",this.yEt),this.omt.jB().cz());this.gEt=!!i.rit(),this.f7=this.gEt?i.nit():NaN,this.d7=this.gEt?i.ait():NaN}}}ln(){this.omt=null,this.dEt=null,this.pEt=null,this.mEt=NaN,this.gEt=!1,this.f7=NaN,this.d7=NaN,Sa.Br(this.nEt)}MEt(t){if(this.cEt=this.LT._A(),this.fEt=this.cEt,this.omt=t,this.lEt=t?t.KP():0,this.omt){const s=this.LT,i=s.P3(),e=this.omt.jB().TP().Fwt();if(e<2){const h=this.omt.jB().cz();h?(this.gEt=!!h.rit(),this.f7=this.gEt?h.nit():NaN,this.d7=this.gEt?h.ait():NaN):this.omt.jB().WU()||i.Qf().addEventListener("instancecreate",this.yEt)}else this.gEt=!1,this.f7=NaN,this.d7=NaN}else this.gEt=!1,this.f7=NaN,this.d7=NaN}m5(){return this.omt}u7(){return 0<this.nEt.length}fq(){return this.nEt}wEt(){this.u7()&&1!==this.nEt.length&&(this.pEt?this.nEt.sort((t,s)=>{const i=this.pEt.get(t.jB()),e=this.pEt.get(s.jB());return Sa.ye(i)&&Sa.ye(e)?i-e:0}):this.nEt.sort((t,s)=>{const i=t.Wnt().SEt(),e=s.Wnt().SEt();return Sa.ye(i)&&Sa.ye(e)?i-e:0}))}SEt(){return this.mEt}Qnt(){return this.aEt}TEt(t){this.aEt=t}Jnt(){return this.uEt}bEt(t){this.uEt=t}trt(){return this.fEt}yTt(){return this.cEt}vEt(t){this.cEt=t}Unt(){return 0===this.rEt?Number.EPSILON:this.rEt}Ynt(){return 0===this.oEt?Number.EPSILON:this.oEt}xEt(){if(this.LT.R5()){let t=this.omt,s=t.lm(),i=t.Wnt().Unt();return 0===s&&(s=Number.EPSILON),i===Number.EPSILON&&s===Number.EPSILON?1:i===Number.EPSILON&&s!==Number.EPSILON&&this.gEt?1+s/this.f7:s/i}return 1}IEt(){if(this.LT.k5()){let t=this.omt,s=t.xm(),i=t.Wnt().Ynt();return 0===s&&(s=Number.EPSILON),i===Number.EPSILON&&s===Number.EPSILON?1:i===Number.EPSILON&&s!==Number.EPSILON&&this.gEt?1+s/this.d7:s/i}return 1}GEt(){return 0}CEt(){return{sw:this.rEt,sh:this.oEt,sx:this.aEt,sy:this.uEt,psa:this.lEt,oo:this.cEt,so:this.fEt,pi:this.LT.jB().k_t()}}n7(t,s=null){const i=this.CEt();return s&&s.selfOnly?Object.assign(i,{p:null,c:[]}):Object.assign(i,{p:this._Et(t),c:this.EEt(t)})}AEt(t){let s="";return t.D5()&&(s+="x"),t.L5()&&(s+="y"),t.R5()&&(s+="w"),t.k5()&&(s+="h"),t.j5()&&(s+="a"),t.B5()&&(s+="z"),t.V5()&&(s+="d"),t.W5()&&(s+="o"),t.Y5()&&(s+="v"),s}_Et(t){return this.omt&&this.omt.jB()&&!this.omt.jB().WU()?this.DEt(this.omt,this.LT,t):null}EEt(s){return this.nEt.map(t=>this.DEt(t,t,s)).filter(t=>t)}DEt(t,s,i){const e=t.jB();if(e&&e.WU())return null;const h={};return h.uid=e.BF(),h.f=this.AEt(s),h.offsets=s.NEt(),h.data=Sa.mq.LEt(e),h.oci=e.CF().SO(),"state"===i?(h.inst=e.IT("full",{selfOnly:!0}),h.instIndex=NaN):(h.instIndex=e.CF().NP().indexOf(e),h.inst=null),h}r7(t){this.rEt=t.sw,this.oEt=t.sh,this.aEt=t.sx,this.uEt=t.sy,this.lEt=t.psa,this.cEt=t.oo,this.fEt=t.so,this.mEt=Sa.ye(t.pi)?t.pi:NaN}OEt(t,s){if(!t&&!s&&this.dEt)for(const i of this.dEt)i.WU()||i._5()||i.P3().OF(i);this.dEt=t,this.pEt=s}GX(t,s){const i=this.LT,e=i.P3(),h=new Set;if(t.p&&!this.omt){const o=t.p.uid,a=e.a3(o);if(s?.Nbt,a){const u=a.m3();if(a.O_t(i.jB()))this.omt=u;else{a.j_t(i.jB().BF())?e.OF(i.jB()):a.I5(i.jB(),this.REt(t.p.f)),h.has(i)||(i.PEt(t.p.offsets),this.kEt(a,t.p,s)),h.add(i);const l=a.m3();l.Wnt().wEt()}}else if(Sa.ye(t.p.oci)){const c=e.uV(t.p.oci),f=(e.eMt(),e.kP(c,i.g3(),0,0,!0));if(s?.Nbt,f){const d=this.FEt(t.p,e),p=(d&&f.GT(d),f.m3()),m=(p.g3().FP(f),f.I5(i.jB(),this.REt(t.p.f)),f.m3());m.Wnt().wEt()}}}const n=[];for(const g of t.c){const y=g.uid,M=e.a3(y);M&&n.push(M)}let r=0;for(const w of t.c){const S=w.uid,T=e.a3(S);if(s?.Nbt,T){if(this.dEt){if(this.dEt.includes(T)){const I=T;if(I.CF()!==T.CF()){r++;continue}if(I.WU()){r++;continue}const G=t.c[r];if(!s?.Nbt&&this.jEt(I,n,i)){this.zEt(r,G,i,h,s),r++;continue}if(I._5()&&I.m5()!==i.jB()){const C=this.BEt(G,s);this.UEt(C,G,h,s),r++;continue}this.UEt(I.m3(),G,h,s,!0),r++;continue}if(this.dEt[r]){const _=this.dEt[r];if(_.CF()!==T.CF()){r++;continue}if(_.WU()){r++;continue}const E=t.c[r];if(!s?.Nbt&&this.jEt(_,n,i)){this.zEt(r,E,i,h,s),r++;continue}if(_._5()&&_.m5()!==i.jB()){const A=this.BEt(E,s);this.UEt(A,E,h,s),r++;continue}this.UEt(_.m3(),E,h,s,!0),r++;continue}}const b=T.CF(),v=this.WEt(n,b),x=i.jB().R_t(b).length;if(v===x){const D=i.jB().b5(r);if(D){const N=D.m3();N&&(h.has(N)||(N.PEt(w.offsets),this.kEt(D,w,s)),h.add(N))}r++;continue}if(T._5()&&T.m5()!==i.jB()){const L=this.BEt(w,s);this.UEt(L,w,h,s),r++;continue}this.UEt(T.m3(),w,h,s)}else if(this.dEt&&this.dEt[r]){const O=this.dEt[r],P=e.uV(this.QEt(w));if(O.CF()!==P){r++;continue}if(O.WU()){r++;continue}const R=t.c[r];if(!s?.Nbt&&this.jEt(O,n,i)){this.zEt(r,R,i,h,s),r++;continue}if(O._5()&&O.m5()!==i.jB()){const k=this.BEt(R,s);this.UEt(k,R,h,s),r++;continue}this.UEt(O.m3(),R,h,s)}else{const F=this.BEt(w,s);this.UEt(F,w,h,s)}r++}}jEt(t,s,i){const e=t.CF(),h=this.WEt(s,e),n=i.jB().R_t(e).length;return h===n}zEt(t,s,i,e,h){const n=i.jB().b5(t,s);if(n){const r=n.m3();r&&(e.has(r)||(r.PEt(s.offsets),this.kEt(n,s,h)),e.add(r))}}REt(t){const s={};return s.A5=t.includes("x"),s.N5=t.includes("y"),s.O5=t.includes("w"),s.P5=t.includes("h"),s.F5=t.includes("a"),s.z5=t.includes("z"),s.J5=t.includes("d"),s.U5=t.includes("o"),s.Q5=t.includes("v"),s}QEt(t){return Sa.ye(t.oci)?t.oci:t[1]}BEt(e,h){if(Sa.ye(e.oci)){let t=this.LT,s=t.P3(),i;if(e.data)i=s.MV(e.data,t.g3(),!1,0,0,!1,!0);else{const n=s.uV(e.oci);i=s.kP(n,t.g3(),0,0,!0)}if(h?.Nbt,i){const r=this.FEt(e,s),o=(r&&i.GT(r),i.m3());return o.g3().FP(i,!0),o}}}UEt(t,s,i,e,h=!0){const n=this.LT,r=n.I5(t,this.REt(s.f));r&&h&&(i.has(t)||(t.PEt(s.offsets),this.kEt(t.jB(),s,e)),i.add(t)),this.wEt()}kEt(t,s,i){let e=this.FEt(s,this.LT.P3());e&&((e=JSON.parse(JSON.stringify(e))).w=null,t.GT(e))}WEt(t,s){return t.filter(t=>t.CF().tf()===s.tf()).length}FEt(t,s){if(Sa.ye(t.instIndex)){const i=s.uV(t.oci),e=i.YCt();return e?e[t.instIndex]:null}return Sa.Ce(t.inst)?JSON.parse(t.inst):t.inst||void 0}static LEt(t){let s=t.m3().g3().pV(t.BF());if(!s)return null;s=JSON.parse(JSON.stringify(s));const i=[];for(const e of[...t.fq()]){const h=e.m3();i.push([h.HR().BV(),h.g3().SO(),e.BF(),Sa.mq.pq(h),e.CF().jF()?1:0,h.y3(),Sa.mq.LEt(e)])}return Sa.We(s[0][14])?s[0][14][1]=i:(s[0][14]=[],s[0][14][0]=Sa.mq.YEt(),s[0][14][1]=i,s[0][14][2]=t.m3().y3()),s}static pq(t){let s=0;return(s|=Number(t.Y5())<<8)|Number(t.W5())<<7|Number(t.B5())<<6|Number(t.V5())<<5|Number(t.j5())<<4|Number(t.k5())<<3|Number(t.R5())<<2|Number(t.L5())<<1|Number(t.D5())<<0}static YEt(t){let s=0;return s,511}}}{let d=self.js,t=self.bs,n=(t.As,d.un(d.Rect)),r=d.un(d.tl),s=d.un(d.Event,"bboxchange",!1),f=d.un(d.Jo,0,0,0,0),l=d.un(d.Ol),i=d.un(d.Jo,1,1,1,1),o=d.un(d.Rect,0,0,-1,-1),h=d.un(d.Rect,0,0,-1,-1),p=new Set(["absolute","relative"]),e=[],m=!0,g=new WeakMap,a=new WeakMap;d.u_t=class extends d.rn{constructor(t,s){super(),this.Gi=t,this.Hct=t.CF(),this.cf=t.P3(),this.JEt=s,this.Hct.zCt(this,null,s),this.VEt=-1,this.HEt=-1,this.nSt=196635,this.Hct.TP().iP()&&(this.nSt|=128),this.su=NaN,this.iu=NaN,this.$S=NaN,this.qEt=NaN,this.XEt=NaN,this.o2=NaN,this.Xo=NaN,this.ZEt=NaN,this.KEt=NaN,this.$Et=NaN,this.tAt=NaN,this.sAt=d.un(d.Rect),this.iAt=d.un(d.tl),this.eAt=h,this.hAt=o,this.nAt=null,this.rAt=null,this.oAt=null,this.KS=i,this.aAt=i,this.uAt=null,this.lAt=null,this.Gi.CF().wCt()&&(this.lAt=d.un(d.cAt,this.Gi,this)),this.fAt=null,this.dEt=null,this.pEt=null,this.dAt=-1,this.pAt=null}b_t(){this.nSt|=256}ln(){if(this.Hct.zCt(this,this.JEt,null),this.uAt&&(this.cf.RS().rw(this.uAt),this.uAt=null),this.nAt=null,this.rAt&&(this.rAt.mAt.ln(),this.rAt=null),this.oAt&&(this.oAt.clear(),this.oAt=null),this.Z5(),this.lAt&&this.lAt.ln(),this._5()&&this.m5().G5(this),this.u7()){const t=[...this.fq()];for(const s of t)this.G5(s)}this.gAt(),this.yAt(),g.delete(this),a.delete(this),this.Gi=null,this.Hct=null,this.cf=null,this.JEt=null}c_t(t){if(m=!1,this.Uj(t[0],t[1]),this.MT(t[2]),this.KC(t[3],t[4]),this.o2=0,this.iP()?this.ZP(t[6]):this.Xo=0,f.Qa(t[7]),this.MAt(f),this.irt(t[8]),this.hrt(t[9]),this.sT(t[10]),this.lAt&&this.lAt.wAt(t[12]),t[14]&&g.set(this,{SAt:t[14][1],TAt:t[14][2]}),t[15]){const s=t[15],e=(this.q5(s[0],s[1]),this.hz()),h=s[2];for(let i=0,t=h.length;i<t;++i){const n=h[i];for(let t=0,s=n.length;t<s;++t){const r=n[t],o=e.KT(t,i);o.dT(r[0]),o.gT(r[1]),o.MT(r[2]),o.ST(r[3]),o.bT(r[4])}}}if(t[16]){const i=t[16][0],a=t[16][1],u=!!a,l=!u,c=this.cf.B_t();u&&c&&c.but(this.jB(),a),l&&c&&c.but(this.jB(),i)}m=!0,this.bAt()}f_t(){this.su=0,this.iu=0,this.$S=0,this.qEt=0,this.XEt=0,this.o2=0,this.Xo=0,this.ZEt=0,this.KEt=1,this.$Et=0,this.tAt=0,this.bAt()}P3(){return this.cf}CF(){return this.Hct}jB(){return this.Gi}vAt(){return this.j5()?this.xAt(this.m5().IAt()-this.fAt.GEt()):0}dT(t){if(t=+t,this.D5()){const s=this.fAt,i=t-this.fT(),e=-this.vAt();0==e?this.su+=i/s.xEt():(this.su+=Math.cos(e)*i/s.xEt(),this.L5()&&(this.iu+=Math.sin(e)*i/s.IEt()))}else this.su=t}Fnt(t,s=!1){t=+t,!s&&this.D5()?this.dT(this.fT()+t):this.su+=t}fT(){if(this.D5()){let t=this.su,s=this.fAt,i=this.m5(),e=this.vAt();return 0===e?t*=s.xEt():(t=t*s.xEt()*Math.cos(e),this.L5()&&(t-=this.iu*s.IEt()*Math.sin(e))),i.fT()+t}return this.su}gT(t){if(t=+t,this.L5()){const s=this.fAt,i=t-this.mT(),e=-this.vAt();0==e?this.iu+=i/s.IEt():(this.D5()&&(this.su-=Math.sin(e)*i/s.xEt()),this.iu+=Math.cos(e)*i/s.IEt())}else this.iu=t}jnt(t,s=!1){t=+t,!s&&this.L5()?this.gT(this.mT()+t):this.iu+=t}mT(){if(this.L5()){let t=this.iu,s=this.fAt,i=this.m5(),e=this.vAt();return 0===e?t*=s.IEt():(t=t*s.IEt()*Math.cos(e),this.D5()&&(t+=this.su*s.xEt()*Math.sin(e))),i.mT()+t}return this.iu}Uj(t,s){if(t=+t,s=+s,this.GAt()){const i=this.D5(),e=this.L5(),h=this.fAt,n=t-this.fT(),r=s-this.mT(),o=-this.vAt();if(0==o)i?this.su+=n/h.xEt():this.su=t,e?this.iu+=r/h.IEt():this.iu=s;else{const a=Math.sin(o),u=Math.cos(o);i?this.su+=e?(u*n-a*r)/h.xEt():u*n/h.xEt():this.su=t,e?this.iu+=i?(a*n+u*r)/h.IEt():u*r/h.IEt():this.iu=s}}else this.su=t,this.iu=s}CAt(){return[this.fT(),this.mT()]}Yj(t,s){t=+t,s=+s,this.GAt()?this.Uj(this.fT()+t,this.mT()+s):(this.su+=t,this.iu+=s)}VSt(t,s){return this.fT()===t&&this.mT()===s}MT(t){if(t=+t,this.B5()&&(t-=this.m5().yT()),this.$S!==t){this.$S=t,this._At();const s=this.g3();0!==this.$S&&s.GV(),s.T3(this)}}_At(){if(this.bAt(),this.u7()){const i=this.fq();for(let t=0,s=i.length;t<s;t++){const e=i[t];e.B5()&&e._At()}}}nrt(t){this.MT(this.yT()+t)}yT(){return this.B5()?this.m5().yT()+this.$S:this.$S}Vj(){return this.g3().yT()+this.yT()}rit(){const t=this.jB().TP().Fwt();return t<2&&this.jB().cz().rit()}Sm(t){if(t=+t,this.R5()){const s=this.lm();0===s?this.qEt=Number.EPSILON:this.qEt*=t/s}else this.qEt=t;this.EAt()}Jm(t,s){t=+t,!s&&this.R5()?this.Sm(this.lm()+t):this.qEt+=t,this.EAt()}lm(){if(this.R5()){const t=this.m5(),s=t.lm(),i=t.Wnt().Unt();return i===Number.EPSILON?(this.Wnt().Unt()+s)*this.qEt:s*this.qEt}return this.qEt}fm(t){if(t=+t,this.k5()){const s=this.xm();0===s?this.XEt=Number.EPSILON:this.XEt*=t/s}else this.XEt=t;this.EAt()}Vnt(t,s){t=+t,!s&&this.k5()?this.fm(this.xm()+t):this.XEt+=t,this.EAt()}xm(){if(this.k5()){const t=this.m5(),s=t.xm(),i=t.Wnt().Ynt();return i===Number.EPSILON?(this.Wnt().Ynt()+s)*this.XEt:s*this.XEt}return this.XEt}KC(t,s){if(t=+t,s=+s,this.R5()){const i=this.lm();0===i?this.qEt=Number.EPSILON:this.qEt*=t/i}else this.qEt=t;if(this.k5()){const e=this.xm();0===e?this.XEt=Number.EPSILON:this.XEt*=s/e}else this.XEt=s;this.EAt()}rc(){return[this.lm(),this.xm()]}FH(){return this.o2}AAt(t){if(t<0)throw new RangeError("invalid depth");this.o2=t}DAt(){if(this._5()){const t=this.fAt;return Math.min(t.xEt(),t.IEt())}return 1}iP(){return 0!=(128&this.nSt)}ZP(t){t=+t,this.iP()&&(this.j5()&&(t-=this.m5().KP()),t=d.yn(t),this.Xo!==t)&&(this.Xo=t,this.EAt())}Hnt(t){0!=(t=+t)&&this.iP()&&(this.Xo=d.yn(this.Xo+t),this.EAt())}EAt(){if(this.nSt|=1<<18,this.u7()){const i=this.fq();for(let t=0,s=i.length;t<s;t++)i[t].EAt()}}KP(){return this.j5()&&this.iP()?this.xAt(d.yn(this.m5().IAt()+this.Xo)):this.Xo}IAt(){return this.j5()&&this.iP()?d.yn(this.m5().IAt()+this.Xo):this.Xo}xAt(t){return this.R5()&&this.y5().lm()<0&&(t=d.yn(d.En(t,this.y5().KP()+Math.PI))),this.k5()&&this.y5().xm()<0?d.En(t,this.y5().KP()):t}NAt(){const t=this.m5();return!!(this.R5()&&t.lm()<0)||!!(this.k5()&&t.xm()<0)}LAt(){const t=this.m5();return!!(this.R5()&&t.lm()<0&&this.k5()&&t.xm()<0)}OAt(){const t=this.nSt;if(0!=(t&1<<18)){const s=this.KP();this.ZEt=Math.sin(s),this.KEt=Math.cos(s),this.nSt=-262145&t}}KSt(){return this.OAt(),this.ZEt}ZSt(){return this.OAt(),this.KEt}irt(t){this.$Et=+t}srt(t){this.$Et+=+t}Kz(){return this.$Et}hrt(t){this.tAt=+t}ert(t){this.tAt+=+t}tB(){return this.tAt}MAt(t){this.KS.equals(t)||(this.KS===i?(this.KS=d.un(d.Jo,t),this.aAt=d.un(d.Jo,t),this.aAt.ba()):t.Ma(1,1,1,1)?(this.KS=i,this.aAt=i):(this.KS.set(t),this.aAt.set(t),this.aAt.ba()),this.bAt())}AA(t){if(t=d.gn(+t,0,1),this.W5()){if(this.Wnt().yTt()===t)return;this.Wnt().vEt(t),t=this._A()}else if(this.KS.a===t)return;this.RAt(t)}PAt(){if(this.u7()){const i=this.fq();for(let t=0,s=i.length;t<s;t++){const e=i[t];e.RAt(e._A())}}}RAt(t){f.aa(this.KS),f.a=t,this.MAt(f),this.PAt()}Znt(t){this.W5()?this.AA(this.Wnt().yTt()+t):this.AA(this._A()+t)}_A(){return this.W5()?this.m5()._A()*this.Wnt().yTt():this.KS.a}i5(t){this.KS.ga(t)||(f.aa(t),f.a=this._A(),this.MAt(f))}Ant(t,s,i){f.Ko(t,s,i),this.i5(f)}kAt(t,s,i){0===t&&0===s&&0===i||(f.aa(this.KS),f.r+=t,f.g+=s,f.b+=i,this.i5(f))}s5(){return this.KS}VJ(){return this.aAt}V5(){return 0!=(512&this.nSt)}FAt(t){this.jAt(512,t)}D5(){return 0!=(1024&this.nSt)}zAt(t){this.jAt(1024,t)}L5(){return 0!=(2048&this.nSt)}GAt(){return 0!=(3072&this.nSt)}BAt(t){this.jAt(2048,t)}R5(){return 0!=(4096&this.nSt)}UAt(t){this.jAt(4096,t)}k5(){return 0!=(8192&this.nSt)}WAt(t){this.jAt(8192,t)}j5(){return 0!=(16384&this.nSt)}QAt(t){this.jAt(16384,t)}B5(){return 0!=(32768&this.nSt)}YAt(t){this.jAt(32768,t)}W5(){return 0!=(this.nSt&1<<22)}JAt(t){this.jAt(1<<22,t)}Y5(){return 0!=(this.nSt&1<<23)}VAt(t){this.jAt(1<<23,t)}HAt(){this.nSt&=-12647937}I5(t,s){if(t===this)return!1;if(t._5())return!1;if(this.qAt(t))return!1;if(this.XAt(t))return!1;const i=t.fT(),e=t.mT(),h=t.lm(),n=t.xm(),r=t.KP(),o=t.yT(),a=t._A(),u=(t.ZAt(this),t.zAt(s.A5),t.BAt(s.N5),t.UAt(s.O5),t.WAt(s.P5),t.QAt(s.F5),t.YAt(s.z5),t.JAt(s.U5),t.VAt(s.Q5),t.FAt(s.J5),i-this.fT()),l=e-this.mT(),c=-this.KP(),f=Math.cos(c),d=Math.sin(c);if(s.A5&&(s.F5?t.su=u*f-l*d:t.su=u,s.O5)){const p=this.lm()/this.fAt.Unt();0!=p&&(t.su/=p)}if(s.N5&&(s.F5?t.iu=u*d+l*f:t.iu=l,s.P5)){const m=this.xm()/this.fAt.Ynt();0!=m&&(t.iu/=m)}if(s.O5){const g=this.lm();0===g||g===Number.EPSILON?(t.qEt=1,t.fAt.TEt(1)):(t.qEt=h/this.lm(),t.fAt.TEt(t.qEt))}if(s.P5){const y=this.xm();0===y||y===Number.EPSILON?(t.XEt=1,t.fAt.bEt(1)):(t.XEt=n/this.xm(),t.fAt.bEt(t.XEt))}return s.F5&&(t.Xo=r-this.KP()),s.z5&&(t.$S=o-this.yT()),s.U5&&t.fAt.vEt(a),s.Q5&&t.Pk(this.Fk()),this.KAt(t),this.Bj(),this.PAt(),!0}G5(t){if(t.m5()===this){const s=t.fT(),i=t.mT(),e=t.lm(),h=t.xm(),n=t.KP(),r=t.yT(),o=t._A();t.ZAt(null),t.HAt(),t.Uj(s,i),t.KC(e,h),t.ZP(n),t.MT(r),t.AA(o),this.$At(t),this.Bj()}}tDt(){return this.dAt}sDt(){this.iDt();const t=[...this.children()];for(const i of t)this.G5(i);const s=this.m5();s&&s.G5(this),this.HAt()}iDt(){if(this.eDt(),!this.dEt){const s=[...this.children()];s.length&&(this.dEt=[],this.pEt=new WeakMap);let t=0;for(const i of s){const e=i.jB();this.dEt.push(e),this.pEt.set(e,t),t++}}const t=this.m5();t&&t.iDt()}eDt(){if(-1===this.dAt){const t=[...this.M5()];this.dAt=t.length;for(const i of t)i.eDt();const s=[...this.children()];for(const e of s)e.eDt()}}yAt(){this.dEt&&(this.dEt.length=0),this.dEt=null,this.pEt=null;const t=this.m5();t&&t.yAt(),this.dAt=-1}_5(){return null!==this.m5()}m5(){const t=this.fAt;return null!==t?t.m5():null}y5(){let t=this;for(;t._5();)t=t.m5();return t}*M5(){let t=this.m5();for(;t;)yield t,t=t.m5()}O_t(t){return this.fq().includes(t)}u7(){const t=this.fAt;return null!==t&&t.u7()}fq(){const t=this.fAt;return null!==t?t.fq():e}children(){return this.fq()}*v5(){for(const t of this.children())yield t,yield*t.v5()}S5(){return this.fq().length}VTt(){return[...this.v5()].length}b5(t){const s=this.fq();return(t=Math.floor(+t))<0||t>=s.length?null:s[t]}F_t(s){if(s){const i=this.fq();if(i)for(let t=0;t<i.length;t++)if(s===i[t])return t}return NaN}hDt(t){this.fAt||(this.fAt=d.un(d.mq,this)),t&&this.fAt.MEt(t)}Wnt(){return this.fAt}gAt(){this.fAt&&(this.fAt.ln(),this.fAt=null)}ZAt(t){t?(t.hDt(null),this.hDt(t)):(this.fAt&&this.fAt.MEt(null),this.u7()||this.gAt())}XAt(t){if(!this._5())return!1;const s=this.m5();return s===t||s.XAt(t)}qAt(t){if(this.O_t(t))return!0;for(const s of this.fq())if(s.qAt(t))return!0;return!1}KAt(t){this.fAt.fq().push(t)}$At(t){const s=this.fAt.fq(),i=s.indexOf(t);-1!==i&&s.splice(i,1),0!==s.length||this._5()||this.gAt(),t.u7()||t.gAt()}z_t(){const t=g.get(this);return t?t.SAt:null}nDt(){const t=g.get(this);return t?t.TAt:NaN}a7(){const t=a.get(this);return d.ye(t)?t:NaN}rDt(t){a.set(this,t)}oDt(){this.jAt(1<<19,!0),this.bAt()}bAt(){if(m){const s=this.cf.RS();this.uAt&&s.rw(this.uAt);let t;t=0!=(this.nSt&1<<19)?s.jM()||"<point>":s.PM()||"<default>",this.uAt=s.$M(t,this.aF(),this.aAt,this.yT())}}YH(){return this.uAt}YV(){return this.KS===i}sT(t){if((t|=0)<0||31<t)throw new RangeError("invalid blend mode");this.aF()!==t&&(this.nSt=this.nSt&~(31<<26)|t<<26,this.bAt())}aF(){return(this.nSt&31<<26)>>26}S3(t,s){const i=s&&this.JEt!==t;i&&this.xV(),this.Hct.zCt(this,this.JEt,t),this.JEt=t,i&&this.aDt(),0!==this.yT()&&this.JEt.GV()}g3(){return this.JEt}HR(){return this.g3().HR()}_V(t){this.VEt=0|t}y3(){return this.JEt.F8(),this.VEt}U8(t){this.HEt=0|t}kU(){return this.JEt.z8(),this.HEt}_Y(){return this.VEt}jAt(t,s){s?this.nSt|=t:this.nSt&=~t}Fk(){return 0!=(1&this.nSt)}Pk(t){if(this.jAt(1,t),this.u7())for(const s of this.fq())s.Y5()&&s.Pk(t)}f5(){return 0!=(8&this.nSt)}d5(t){t=!!t,this.f5()!==t&&(this.jAt(8,t),t?this.Bj():this.uDt())}lDt(t,s){if(this.jAt(32,t),this.oAt&&this.oAt.clear(),s.trim()){this.oAt||(this.oAt=new Set);for(const i of s.split(" "))i&&this.oAt.add(i.toLowerCase())}else this.oAt=null}cDt(t){const s=0!=(32&this.nSt),i=this.oAt;if(t&&i)for(const e of i)if(t.has(e))return s;return!s}Bj(){if(this.nSt|=65554,this.Hct.kCt(!0),this.cf.b3(),this.JEt.nV()&&(this.fDt(this.sAt,this.iAt,!0),this.nSt&=-3,this.aDt()),0!=(4&this.nSt)&&this.Gi.Qf().dispatchEvent(s),null!==this.fAt){const i=this.fAt.fq();for(let t=0,s=i.length;t<s;++t)i[t].Bj()}}fDt(t,s,i){const e=this.fT(),h=this.mT(),n=this.lm(),r=this.xm(),o=this.KP();t.gu(e-this.$Et*n,h-this.tAt*r,n,r),i&&this.ez()&&this.dDt(t),0===o?s.Tl(t):(t.offset(-e,-h),s.vl(t,this.KSt(),this.ZSt()),s.offset(e,h),s.xl(t)),t.normalize()}pDt(){const t=this.nSt;0!=(2&t)&&(this.fDt(this.sAt,this.iAt,!0),this.nSt=-3&t)}qj(){return this.pDt(),this.sAt}Zj(){return this.pDt(),this.iAt}mDt(t){const s=this.fT(),i=this.mT(),e=Math.round(s)-s,h=Math.round(i)-i;return 0==e&&0==h?t:(r.C(t),r.offset(e,h),r)}gDt(t){this.sAt.C(t),this.iAt.Tl(this.sAt),this.nSt&=-3,this.jCt(),this.aDt()}yDt(t){this.jAt(4,t)}MDt(){return 0!=(4&this.nSt)}LH(t,s,i){return s&&0!==this.FH()?this.PH(this.g3().RH()):0===this.yT()||i?t.Hu(this.qj()):this.wDt()}wDt(){const t=this.g3(),s=this.Vj();return!(s>=t.u8())&&(t.o8(s,n),n.Hu(this.qj()))}PH(t){const s=this.qj(),i=s.xu(),e=s.Gu(),h=s.Iu(),n=s.Cu(),r=this.Vj(),o=r+this.FH();return t.vy(i,h,r,e,n,o)}$j(){const t=this.g3();if(t.T8())return this.PH(t.RH());{const s=t.HR();return this.LH(t.fF(),s.NH(),s.Ck())}}UH(t){this.jAt(1<<20,t)}BH(t){this.jAt(1<<21,t)}SDt(){return 0!=(this.nSt&1<<20)}TDt(){return 0!=(this.nSt&1<<21)}bDt(t){this.nAt=t,this.vDt(),this.ez()&&(this.pAt.xDt=null)}IDt(){return this.nAt}GDt(){return null!==this.nAt||this.ez()}CDt(){return this._Dt(this.lm(),this.xm(),this.KP(),this.KSt(),this.ZSt())}EDt(t,s,i){let e=0,h=1;return 0!==i&&(e=Math.sin(i),h=Math.cos(i)),this._Dt(t,s,i,e,h)}_Dt(h,n,t,r,o){let s=this.rAt;null===s&&(s={mAt:d.un(d.Ol),width:NaN,height:NaN,angle:NaN},this.rAt=s);const a=s.mAt;if(s.width!==h||s.height!==n||s.angle!==t){const u=this.nAt;if(this.ez()){let t=this.Kz(),s=this.tB(),i=this.hz(),e=this.pAt.xDt;e||(u?(l.C(u),l.offset(t,s)):l.Ul(),e=i.ib(l),this.pAt.xDt=e),i.eb(e,a),a.offset(-t,-s),a.Jl(h,n,r,o)}else u?(a.C(u),a.Jl(h,n,r,o)):a.Yl(this.Zj(),-this.fT(),-this.mT());s.width=h,s.height=n,s.angle=t}return a}vDt(){this.ADt(!0);const t=this.rAt;null!==t&&(t.width=NaN)}q5(t,s){if(t=Math.floor(t),s=Math.floor(s),!this.jB().TP().lP())throw new Error("object does not support mesh");this.Z5(),this.pAt={DDt:d.un(d.hy.AT,t,s),NDt:d.un(d.hy.AT,t,s),xDt:null}}ez(){return null!==this.pAt}hz(){if(this.ez())return this.pAt.DDt;throw new Error("no mesh")}LDt(){if(this.ez())return this.pAt.NDt;throw new Error("no mesh")}ODt(t){this.jAt(65536,t)}RDt(){return 0!=(65536&this.nSt)}ADt(t){this.jAt(1<<17,t)}PDt(){return 0!=(this.nSt&1<<17)}dDt(t){const s=this.pAt.DDt,i=Math.min(s.JT(),0),e=Math.min(s.VT(),0),h=Math.max(s.HT(),1),n=Math.max(s.qT(),1),r=t.width(),o=t.height();t.offsetLeft(i*r),t.offsetTop(e*o),t.Ou((h-1)*r),t.Ru((n-1)*o),this.o2=s.XT()}Z5(){this.pAt&&(this.pAt.DDt.ln(),this.pAt.NDt.ln(),this.pAt=null,this.vDt())}sz(t,s,i){t=Math.floor(t),s=Math.floor(s);const e=i.mode||"absolute";if(!p.has(e))throw new Error("invalid mode");let h="relative"===e,n=i.x,r=i.y,o=i.sF,a="number"==typeof i.u?i.u:h?0:-1,u="number"==typeof i.v?i.v:h?0:-1;if(!this.ez())return!1;const l=this.hz(),c=l.KT(t,s);if(null===c)return!1;let f=!1;return"number"==typeof o&&c.yT()!==o&&(c.MT(o),f=!0),h&&(n+=t/(l.BT()-1),r+=s/(l.UT()-1)),a=-1!==a||h?(h&&(a+=t/(l.BT()-1)),d.gn(a,0,1)):c.wT(),u=-1!==u||h?(h&&(u+=s/(l.UT()-1)),d.gn(u,0,1)):c.TT(),c.fT()===n&&c.mT()===r&&c.wT()===a&&c.TT()===u?f:(c.dT(n),c.gT(r),c.ST(a),c.bT(u),this.vDt(),!0)}T_t(){return this.Gi.T_t()}p5(t,s){return!!this.qj().Xu(t,s)&&!!this.Zj().Xu(t,s)&&(this.T_t()?this.Gi.cz().oxt(t,s):!this.GDt()||this.CDt().Xu(t-this.fT(),s-this.mT()))}kDt(){return 0!=(16&this.nSt)}jCt(){if(this.kDt()&&this.f5()&&0==(256&this.nSt)){const t=this.qj(),s=this.Hct.PCt(),i=this.eAt;if(n.set(s.YY(t.xu()),s.JY(t.Iu()),s.YY(t.Gu()),s.JY(t.Cu())),!i.equals(n)){const e=this.Gi;i===h?(s.VY(e,null,n),this.eAt=d.un(d.Rect,n)):(s.VY(e,i,n),i.C(n)),this.nSt&=-17}}}FDt(){this.nSt|=16}uDt(){const t=this.eAt;t!==h&&(this.Hct.PCt().VY(this.Gi,t,null),this.eAt=h)}aDt(){const t=this.g3();if(t.nV()&&0==(256&this.nSt)){const s=t.VV(),i=this.qj(),e=this.hAt;if(n.set(s.YY(i.xu()),s.JY(i.Iu()),s.YY(i.Gu()),s.JY(i.Cu())),!e.equals(n)){const h=this.Gi;e===o?(s.VY(h,null,n),this.hAt=d.un(d.Rect,n)):(s.VY(h,e,n),e.C(n)),t.HV()}}}xV(){const t=this.hAt;t!==o&&(this.g3().VV().VY(this.Gi,t,null),this.hAt=o)}j8(){return this.hAt}h5(){const t=this.Gi,s=this.JEt,i=s.w3();i.length&&i.at(-1)===t||(s.vV(t,!1),s.SV(t,!1),this.cf.b3())}r5(){const t=this.Gi,s=this.JEt,i=s.w3();i.length&&i[0]===t||(s.vV(t,!1),s.bV(t,!1),this.cf.b3())}a5(t){const s=this.Gi,i=this.JEt;if(i.HR()!==t.HR())throw new Error("layer from different layout");t!==i&&(i.vV(s,!0),this.S3(t),t.SV(s,!0),this.cf.b3())}l5(t,s){let i=this.Gi,e=!1,h=this.JEt;if(t.BF()!==i.BF()){const n=t.m3();if(!n)throw new Error("expected world instance");const r=n.g3(),o=(h.SO()!==r.SO()&&(h.vV(i,!0),this.S3(r),r.SV(i,!0),e=!0),r.Y8(i,t,!!s));(e||o)&&this.cf.b3()}}jj(){return this.lAt}jDt(t){this.jAt(64,t)}K8(){return 0!=(64&this.nSt)}n7(t,s=null){const i={x:this.fT(),y:this.mT(),w:this.lm(),h:this.xm(),l:this.g3().BV(),zi:this.y3()},e=(0!==this.yT()&&(i.ze=this.yT()),0!==this.KP()&&(i.a=this.IAt()),this.YV()||(i.c=this.KS.toJSON()),.5!==this.Kz()&&(i.oX=this.Kz()),.5!==this.tB()&&(i.oY=this.tB()),0!==this.aF()&&(i.bm=this.aF()),this.Fk()||(i.v=this.Fk()),this.f5()||(i.ce=this.f5()),this.MDt()&&(i.be=this.MDt()),this.lAt&&(i.fx=this.lAt.n7()),0!=(32&this.nSt));return e&&(i.sfi=e),this.oAt&&(i.sft=[...this.oAt].join(" ")),this.fAt&&"visual-state"!==t&&(i.sgi=this.fAt.n7(t,s),g.has(this))&&(i.sgcd=g.get(this).SAt,i.sgzid=g.get(this).TAt),this.ez()&&(i.mesh=this.hz().IT()),i}NEt(){return{x:this.su,y:this.iu,z:this.$S,w:this.qEt,h:this.XEt,a:this.Xo,sgi:this.Wnt()?this.Wnt().CEt():null}}PEt(t){t&&(this.su=t.x,this.iu=t.y,this.$S=t.z,this.qEt=t.w,this.XEt=t.h,this.Xo=t.a,t.sgi&&this.Wnt()&&this.Wnt().r7(t.sgi),this.EAt(),this.Bj())}VCt(){this.yAt(),this.sDt(),this.hDt(null),this.fAt&&this.fAt.OEt(this.dEt,this.pEt)}xX(t){"visual-state"!==t&&this.sDt()}GX(t,s="full",i=null){t.hasOwnProperty("sgi")&&"visual-state"!==s&&0==(256&this.nSt)&&this.fAt.GX(t.sgi,i)}eEt(t,s="full",i){t.hasOwnProperty("sgi")&&"visual-state"!==s&&0==(256&this.nSt)&&(this.fAt.OEt(null,null),this.yAt(),this.Bj())}r7(t,s){if(m=!1,this.dT(t.x),this.gT(t.y),this.Sm(t.w),this.fm(t.h),this._V(t.zi),this.MT(t.hasOwnProperty("ze")?t.ze:0),this.ZP(t.hasOwnProperty("a")?t.a:0),t.hasOwnProperty("c")?f.Qa(t.c):t.hasOwnProperty("o")?(f.aa(this.KS),f.a=t.o):f.Zo(1,1,1,1),this.MAt(f),this.irt(t.hasOwnProperty("oX")?t.oX:.5),this.hrt(t.hasOwnProperty("oY")?t.oY:.5),this.sT(t.hasOwnProperty("bm")?t.bm:0),this.Pk(!t.hasOwnProperty("v")||t.v),this.d5(!t.hasOwnProperty("ce")||t.ce),this.yDt(!!t.hasOwnProperty("be")&&t.be),this.lDt(!!t.hasOwnProperty("sfi")&&t.sfi,t.hasOwnProperty("sft")?t.sft:""),this.lAt&&t.hasOwnProperty("fx")&&this.lAt.r7(t.fx),!t.hasOwnProperty("sgi")&&"visual-state"!==s&&this.dEt)for(const i of this.dEt)i.WU()||this.cf.OF(i);if(t.hasOwnProperty("sgi")&&"visual-state"!==s){this.hDt(null);const e=this.fAt,h=t.sgi;e.r7(h),e.OEt(this.dEt,this.pEt),t.sgcd&&d.ye(t.sgzid)&&g.set(this,{SAt:t.sgcd,TAt:t.sgzid})}if(t.hasOwnProperty("mesh")){const n=t.mesh;this.q5(n.cols,n.rows),this.hz().GT(n)}else this.Z5();this.Bj(),m=!0,this.bAt(),"visual-state"!==s&&this.cf.zDt(this.jB(),t)}}}{const Ta=self.js;Ta.CGt=class extends Ta.rn{constructor(t,s){super();const i=t.P3(),e=i.ryt(s[1]),h=(i.BDt().sIt(e),this.cf=i,this.Hct=t,this.Rxt=Ta.J4.Gz(e),this.wvt=null,this.UDt=null,this.hGt=e.Instance,this.uJ=s[2],this.pn=s[0],this.Wyt=this.cf.x1t(s[3]),this.Rxt.Fwt());if(h<2&&(this.wvt=Ta.un(e.QGt,this),!(this.wvt instanceof Ta.Oxt)))throw new Error("v1 sdk type must derive from SDKBehaviorBase");if(Ta.J4.svt(this,h),2<=h){const n=e.QGt??globalThis.t6;if(this.UDt=new n,!(this.UDt instanceof globalThis.t6))throw new Error("script interface class must derive from ISDKBehaviorTypeBase")}else this.UDt=new globalThis.xz;Ta.J4.ivt(h),this.Z2t()}static X2(t,s){return Ta.un(Ta.CGt,t,s)}ln(){this.cf=null,this.Rxt=null,this.wvt&&(this.wvt.ln(),this.wvt=null),this.hGt=null}OSt(){return this.wvt}Z2t(){this.wvt?this.wvt.Z2t():this.UDt&&this.UDt.eU()}P3(){return this.cf}CF(){return this.Hct}Mz(){return this.Rxt}fCt(){return this.hGt}tf(){return this.pn}BV(){return this.uJ}Sz(){return this.UDt}x1t(){return this.Wyt}}}{const ba=self.js,va=self.gz;ba.r_t=class extends ba.rn{constructor(t){super(),this.cf=t.runtime,this.bMt=t.wz,this.Rxt=this.bMt.Mz(),this.Gi=t.bz,this.Xg=t.index,this.KCt=null,this.$Ct=null,this.Rxt.SV(this.Gi)}ln(){this.$Ct&&(this.$Ct.NF(),this.$Ct=null),this.Rxt.vV(this.Gi),this.KCt&&(this.KCt.ln(),this.KCt=null),this.cf=null,this.bMt=null,this.Rxt=null,this.Gi=null}oCt(t){if(this.KCt)throw new Error("already got sdk instance");const s=this.Mz().Fwt();if(s<2){if(this.KCt=ba.un(this.bMt.fCt(),this,t),!(this.KCt instanceof ba.Pxt))throw new Error("v1 sdk type must derive from SDKBehaviorInstanceBase")}else{const i=this.Mz().K2t();this.tvt(i.Instance,t)}}cz(){return this.KCt??this.$Ct}vz(){return this.Gi}P3(){return this.cf}Tz(){return this.bMt}Mz(){return this.Rxt}gnt(){return this.Xg}zxt(){this.KCt?this.KCt.zxt():this.$Ct.h6()}Qxt(t,s){this.KCt&&this.KCt.Qxt(t,s)}iEt(){return this.KCt?this.KCt.zvt():this.$Ct.Ij()}IT(t="full"){return this.KCt?this.KCt.IT(t):this.$Ct.Gj(t)}GT(t,s="full"){if(this.KCt)return this.KCt.GT(t,s);this.$Ct.Cj(t,s)}static WDt(t,s,i){let e=globalThis.s6,h,n;h=s instanceof e?t.dk(s):s.jxt(),n=i instanceof e?t.dk(i):i.jxt();const r=h.vz(),o=n.vz(),a=r.CF().SO(),u=o.CF().SO();if(a!==u)return a-u;const l=r.Q_t(),c=o.Q_t();return l!==c?l-c:h.gnt()-n.gnt()}tvt(t,s){const i=va,e=t??this.KCt.K2t(),h=e||i,n=this.Mz().Fwt();if(ba.J4.svt(this,n),ba.J4.iIt(s),this.$Ct=new h,ba.J4.eIt(),ba.J4.ivt(n),!e||this.$Ct instanceof i)return this.$Ct;throw new TypeError(`script interface class '${e.name}' does not extend the right base class '${i.name}'`)}bvt(){return this.$Ct||this.tvt()}Qvt(){return!!this.$Ct}}}{const xa=self.js;xa.YJ=class extends xa.rn{constructor(t,s){super(),this.LT=t,this.QDt=[],this.YDt=[],this.JDt=new Map,this.VDt=[],this.HDt=[],this.qDt=new Set,this._S=!0;for(const i of s){const e=xa.un(xa.XDt,this,i,this.QDt.length);this.QDt.push(e),this.JDt.set(e.tf().toLowerCase(),e),3<=i.length&&this.VDt.push(this.ZDt(e,i[2]))}this.P3().KDt(this)}ln(){this.P3().$Dt(this);for(const t of this.HDt)t.ln();xa.Br(this.HDt),xa.Br(this.QDt),xa.Br(this.YDt),this.JDt.clear(),xa.Br(this.VDt),this.LT=null}tNt(t){this.qDt.add(t)}sNt(t){this.qDt.delete(t)}iNt(t){t.EM()&&(this.HDt=this.QDt.map(t=>{const s=t.$v();return 0<s.GetCustomParametersByteSize()?xa.un(xa.hy.WebGPUEffectCustomParamsBuffer,s):null}),this.eNt());for(const s of this.qDt)s.iNt(t)}nCt(t){if(t.length){this.QDt=t.concat(this.QDt);for(const s of t)this.JDt.set(s.tf().toLowerCase(),s);for(let t=0,s=this.QDt.length;t<s;++t)this.QDt[t].PV(t)}}ZDt(t,s){t.hNt(s[0]);const i=s.slice(1);for(let t=0,s=i.length;t<s;++t){const e=i[t];if(Array.isArray(e)){const h=xa.un(xa.Jo);h.Qa(e),i[t]=h}}return i}WT(){return this.LT}P3(){return this.LT.P3()}Ez(){xa.Br(this.YDt);let t=!0;for(const s of this.QDt)s.Jpt()&&(this.YDt.push(s),s.$v().BS()||(t=!1));this._S=t}JP(){return this.QDt}SCt(){return 0<this.QDt.length}wht(t){return this.JDt.get(t.toLowerCase())||null}nNt(t){if((t=Math.floor(+t))<0||t>=this.QDt.length)throw new RangeError("invalid effect type index");return this.QDt[t]}Cz(t){return this.nNt(t).Jpt()}_z(t,s){this.nNt(t).hNt(s)}JV(){return this.YDt}K8(){return 0<this.YDt.length}BS(){return this._S}Mht(t){return this.VDt[t]}qJ(t){return(t<this.HDt.length?this.HDt:this.VDt)[t]}Az(t,s){if(t<0||t>=this.VDt.length)return null;const i=this.VDt[t];return s<0||s>=i.length?null:i[s]}Dz(t,s,i){if(t<0||t>=this.VDt.length)return!1;const e=this.VDt[t];if(s<0||s>=e.length)return!1;const h=e[s];if(h instanceof xa.Jo){if(h.ga(i))return!1;h.aa(i)}else{if(h===i)return!1;e[s]=i}return t<this.HDt.length&&this.HDt[t].SetParameterValue(s,i),!0}eNt(){const i=this.VDt,e=this.HDt;for(let t=0,s=Math.min(i.length,e.length);t<s;++t){const h=e[t],n=i[t];for(let t=0,s=n.length;t<s;++t)h.SetParameterValue(t,n[t])}}static rNt(t){return t&&t instanceof xa.Jo?{t:"color",v:t.toJSON()}:t}static oNt(t){if(null===t)return NaN;if("object"!=typeof t)return t;{const s=t.t;if("color"!==s)throw new Error("invalid effect parameter type");{const i=xa.un(xa.Jo);return i.Qa(t.v),i}}}static aNt(t){return t.map(xa.YJ.rNt)}static uNt(t){return t.map(xa.YJ.oNt)}IT(){return this.QDt.map(t=>({name:t.tf(),active:t.Jpt(),params:xa.YJ.aNt(this.VDt[t.SO()])}))}GT(t){for(const s of t){const i=this.wht(s.name);i&&(i.hNt(s.active),this.VDt[i.SO()]=xa.YJ.uNt(s.params))}this.Ez(),this.eNt()}}}{const Ia=self.js;Ia.XDt=class extends Ia.rn{constructor(t,s,i){super(),this.QJ=t,this.df=s[0],this.pn=s[1],this.Xg=i,this.qS=null,this.l0=!0}ln(){this.QJ=null,this.qS=null}hCt(t){const s=Ia.un(Ia.XDt,t,[this.df,this.pn],-1);return s.qS=this.qS,s.l0=this.l0,s}iNt(t){const s=t.RM(this.df);if(!s)throw new Error("failed to find shader program '"+this.df+"'");this.qS=s}YP(){return this.QJ}tf(){return this.pn}PV(t){this.Xg=t}SO(){return this.Xg}WT(){return this.QJ.WT()}P3(){return this.QJ.P3()}hNt(t){this.l0=!!t}Jpt(){return this.l0}$v(){return this.qS}lNt(){const i=[];for(let t=0,s=this.qS.tx();t<s;++t){const e=this.qS.ix(t);if("float"===e||"percent"===e)i.push(0);else{if("color"!==e)throw new TypeError("unknown effect parameter type");i.push(Ia.un(Ia.Jo,1,1,1,1))}}return i}}}{const Ga=self.js;Ga.cAt=class extends Ga.rn{constructor(t,s){super(),this.Gi=t,this.cNt=s,this.QJ=t.CF().YP(),this.fNt=!0,this.ZJ=!0,this.dNt=!1,this.pNt=!1,this.mNt=!1,this.gNt=!1,this.gO=Ga.un(Ga.hy.gN,t.P3()._4().JJ(),{nN:(t,s)=>{const i=s.aO(),e=i.m3();t.iT(e.VJ()),t.Sw(e.Vj()),i.tb(t),t.Sw(0)},rN:t=>{const s=t.sxt(),[i,e]=t.txt();return{sO:s,iO:i,eO:e}},oN:t=>this.qJ(t)}),this.yNt=[],this.YDt=[],this._S=!0,this.VDt=[],this.HDt=[],this.iNt(t.P3().RS());for(let t=0,s=this.QJ.JP().length;t<s;++t)this.yNt.push(!0);this.Ez(),this.QJ.tNt(this)}ln(){this.QJ.sNt(this);for(const t of this.HDt)t&&t.ln();Ga.Br(this.HDt),this.gO.ln(),this.gO=null,Ga.Br(this.yNt),Ga.Br(this.YDt),Ga.Br(this.VDt),this.Gi=null,this.QJ=null}iNt(t){t.EM()&&(this.HDt=this.QJ.JP().map(t=>{const s=t.$v();return 0<s.GetCustomParametersByteSize()?Ga.un(Ga.hy.WebGPUEffectCustomParamsBuffer,s):null}))}wAt(t){let s=0;for(const i of t)this.VDt.push(this.ZDt(s,i)),++s;this.eNt(),this.Ez()}ZDt(t,s){this.yNt[t]=s[0];const i=s.slice(1);for(let t=0,s=i.length;t<s;++t){const e=i[t];if(Array.isArray(e)){const h=Ga.un(Ga.Jo);h.Qa(e),i[t]=h}}return i}d_t(){for(const t of this.QJ.JP())this.VDt.push(t.lNt());this.eNt()}WT(){return this.LT}YP(){return this.QJ}wO(){return this.QV(),this.gO}P3(){return this.Gi.P3()}Ez(){Ga.Br(this.YDt);let t=this.cNt,i=this.QJ.JP(),e=this.YDt,h=this.yNt,n=!0;for(let t=0,s=i.length;t<s;++t)if(h[t]){const r=i[t];e.push(r),r.$v().BS()||(n=!1)}this._S=n,t.jDt(!!e.length),this.fNt=!0}QV(){const t=this.Gi,s=this.cNt,i=s.YV(),e=t.TP().rP(),h=0!==s.KP()||0!==s.g3().KP()||s.lm()<0||s.xm()<0,n=t.nxt(),r=t.zS();(this.fNt||i!==this.ZJ||e!==this.dNt||h!==this.pNt||n!==this.mNt||r!==this.gNt||this.gO.rL())&&(this.gO.oL(this.YDt.map(t=>t.$v()),{uN:this.YDt.map(t=>t.SO()),lN:!i||r,fN:e,dN:n,pN:h}),this.fNt=!1,this.ZJ=i,this.dNt=e,this.pNt=h,this.mNt=n,this.gNt=r)}JV(){return this.YDt}Mht(t){return this.VDt[t]}qJ(t){return(t<this.HDt.length?this.HDt:this.VDt)[t]}Az(t,s){if(t<0||t>=this.VDt.length)return null;const i=this.VDt[t];return s<0||s>=i.length?null:i[s]}Dz(t,s,i){if(t<0||t>=this.VDt.length)return!1;const e=this.VDt[t];if(s<0||s>=e.length)return!1;const h=e[s];if(h instanceof Ga.Jo){if(h.ga(i))return!1;h.aa(i)}else{if(h===i)return!1;e[s]=i}return t<this.HDt.length&&this.HDt[t].SetParameterValue(s,i),!0}eNt(){const i=this.VDt,e=this.HDt;for(let t=0,s=e.length;t<s;++t){const h=e[t],n=i[t];for(let t=0,s=n.length;t<s;++t)h.SetParameterValue(t,n[t])}}BS(){return this._S}MNt(){return this.YDt.some(t=>t.$v().QS())}Cz(t){return this.yNt[t]}_z(t,s){this.yNt[t]=!!s}JP(){return this.QJ.JP()}n7(){return this.QJ.JP().map(t=>({name:t.tf(),active:this.yNt[t.SO()],params:Ga.YJ.aNt(this.VDt[t.SO()])}))}r7(t){for(const s of t){const i=this.QJ.wht(s.name);i&&(this.yNt[i.SO()]=s.active,this.VDt[i.SO()]=Ga.YJ.uNt(s.params))}this.Ez(),this.eNt()}}}{let G=self.js,n=[],S=[],r=[],T=G.un(G.Ol),M=G.un(G.Ol),b=G.un(G.tl),d=G.un(G.Rect),p=G.un(G.Rect),m=null,g=null,y=null;G.wNt=class extends G.rn{constructor(t){super(),this.cf=t,this.SNt=0,this.TNt=0,this.bNt=[],this.vNt=0,this.xNt=0,this.INt=0,this.GNt=0,this.CNt=new self.h4(this)}ln(){this.cf=null}P3(){return this.cf}GO(){return this.CNt}_Nt(){this.xNt=this.vNt,this.vNt=0,this.GNt=this.INt,this.INt=0}ENt(){return this.xNt}ANt(){return this.GNt}DNt(t,s){const i=t.m3(),e=s.m3();i&&e&&i.f5()&&e.f5()&&this.bNt.push([t,s])}kTt(s,i,e){for(const[h,n]of this.bNt){let t=null;if(s===h)t=n;else{if(s!==n)continue;t=h}t.WTt(i)&&!e.includes(t)&&e.push(t)}}FTt(t,s){if(this.bNt.length)for(const[i,e]of this.bNt)if(t===i&&s===e||t===e&&s===i)return!0;return!1}NNt(){G.Br(this.bNt)}r4(t,s){if(!t||!s||t===s)return!1;const i=t.m3(),e=s.m3();if(!i.f5()||!e.f5())return!1;this.vNt++;const h=i.g3(),n=e.g3(),r=h.L8(n);return r?this.LNt(i,e):this.ONt(i,e)}LNt(t,s){if(!t.qj().Hu(s.qj()))return!1;if(this.INt++,!t.Zj().Gl(s.Zj()))return!1;if(t.T_t()&&s.T_t())return!1;if(t.T_t())return this.RNt(t,s);if(s.T_t())return this.RNt(s,t);if(!t.GDt()&&!s.GDt())return!0;const i=t.CDt(),e=s.CDt();return i.Vl(e,s.fT()-t.fT(),s.mT()-t.mT())}ONt(i,e){const t=i.T_t(),s=e.T_t();if(t&&!s)return this.PNt(i,e);if(s&&!t)return this.PNt(e,i);if(s||t)return!1;{const h=i.g3(),n=e.g3(),r=(T.C(i.CDt()),M.C(e.CDt()),T.jl());for(let t=0,s=r.length;t<s;t+=2){const a=t+1,u=r[t],l=r[a],[c,f]=h.MF(u+i.fT(),l+i.mT());r[t]=c,r[a]=f}const o=M.jl();for(let t=0,s=o.length;t<s;t+=2){const d=t+1,p=o[t],m=o[d],[g,y]=n.MF(p+e.fT(),m+e.mT());o[t]=g,o[d]=y}return T.Wl(),M.Wl(),this.INt++,T.Vl(M,0,0)}}PNt(t,s){const i=t.g3(),e=s.g3(),h=(m=m||G.un(G.Ol),g=g||G.un(G.Rect),y=y||G.un(G.tl),s.fT()),n=s.mT(),[r,o]=e.MF(h,n),[a,u]=i.pF(r,o),l=a-h,c=u-n;if(g.C(s.qj()),g.offset(l,c),!t.qj().Hu(g))return!1;if(y.C(s.Zj()),y.offset(l,c),this.INt++,!t.Zj().Gl(y))return!1;m.C(s.CDt());const f=m.jl();for(let t=0,s=f.length;t<s;t+=2){const d=t+1;f[t]+=l,f[d]+=c}return m.Wl(),this.RNt(t,s,a,u,m,g,y)}RNt(t,e,s,i,h,n,r){const o=void 0!==n?n:e.qj(),a=t.fT(),u=t.mT(),l=t.jB().cz(),c=void 0!==s?s:e.fT(),f=void 0!==i?i:e.mT(),d=e.GDt(),p=void 0!==r?r:e.Zj(),m=S;l.GetCollisionRectCandidates(o,m);for(let t=0,s=m.length;t<s;++t){const g=m[t],y=g.GetRect();if(this.vNt++,o.qu(y,a,u)&&(b.Tl(y),b.offset(a,u),b.Gl(p)))if(d){let t=void 0!==h?h:e.CDt(),s=c,i=f;void 0!==h&&(s=e.fT(),i=e.mT());const M=g.GetPoly();if(M){if(this.INt++,M.Vl(t,s-(a+y.xu()),i-(u+y.Iu())))return G.Br(m),!0}else if(T.Yl(b,0,0),T.Vl(t,s,i))return G.Br(m),!0}else{const w=g.GetPoly();if(!w)return G.Br(m),!0;if(T.Yl(p,0,0),w.Vl(T,-(a+y.xu()),-(u+y.Iu())))return G.Br(m),!0}}return G.Br(m),!1}kNt(t,o,a){const u=t.LP(),s=this.cf.eR();if(!s)throw new Error("cannot call outside event");const l=s.xft(),i=new Map,c=t=>{let s=i.get(t);return void 0===s&&(s=t.Yk(),i.set(t,s)),s};if(u.oft()){a||(u.pft(!1),G.Br(u.mft())),l&&G.Br(u.gft());for(const e of t.NP()){let h=e.m3(),n=h.g3();if(!(!c(n)||!h.$j())&&o.some(([t,s])=>{const[i,e]=n.pF(t,s,h.Vj());return h.p5(i,e)})){if(a)return!1;u.fft(e)}else l&&u.dft(e)}}else{let i,e=!1,r=(!l||s.ggt(this.cf.m1t())||this.cf.FSt()&&!u.gft().length&&u.mft().length?i=u.mft():(i=u.gft(),e=!0),0);for(let s=0,t=i.length;s<t;++s){let t=i[s],h=t.m3(),n=h.g3();if(!(!c(n)||!h.$j())&&o.some(([t,s])=>{const[i,e]=n.pF(t,s,h.Vj());return h.p5(i,e)})){if(a)return!1;e?u.fft(t):i[r++]=t}else e?i[r++]=t:l&&u.dft(t)}a||(i.length=r)}return t.Zgt(),i.clear(),!!a||u.aft()}FNt(t,s){if(t)for(const i of s.BCt())if(!t.L8(i))return!1;return!0}kSt(t,s,i,e){if(s.LV())for(const h of s.Wmt())this.FNt(t,h)?(h.FCt(),h.PCt().HY(i,e)):G.qh(e,h.NP());else this.FNt(t,s)?(s.FCt(),s.PCt().HY(i,e)):G.qh(e,s.NP())}y4(t,s,i,e){for(const h of s)this.kSt(t,h,i,e)}jNt(t,s,i){const e=this.cf.nIt();e&&this.y4(t,e.qX(),s,i)}zNt(t,s,i){const e=this.cf.rIt();e&&this.y4(t,e.qX(),s,i)}cDt(t,s){return t.x_t()&&(!s||s.m3().cDt(t.Qwt().get("solidTags")))}u4(t){const s=t.m3();this.jNt(s.g3(),s.qj(),n);for(const i of n)if(this.cDt(i,t)&&this.r4(t,i))return G.Br(n),i;return G.Br(n),null}BNt(t,s){this.jNt(null,t,n);for(const i of n)if(this.cDt(i,s)&&this.UNt(t,i))return G.Br(n),i;return G.Br(n),null}WNt(t,s){let i=null;s&&(i=r,G.Br(i));const e=t.m3();this.zNt(e.g3(),e.qj(),n);for(const h of n)if(h.G_t()&&this.r4(t,h)){if(!s)return G.Br(n),h;i.push(h)}return G.Br(n),i}QNt(s,i,e,h,n){h=h||50;const r=s.m3(),o=r.fT(),a=r.mT();for(let t=0;t<h;++t)if(r.Uj(o+i*t,a+e*t),r.Bj(),!this.r4(s,n))return!0;return r.Uj(o,a),r.Bj(),!1}YNt(s,i,e,h,n,r){h=h||50;let o=s.m3(),a=o.fT(),u=o.mT(),l=null,c=null;for(let t=0;t<h;++t)if(o.Uj(a+i*t,u+e*t),o.Bj(),!this.r4(s,l))if(l=this.u4(s))c=l;else if(n&&(l=r?this.r4(s,r)?r:null:this.WNt(s))&&(c=l),!l)return c&&this.JNt(s,i,e,c,16,!0),!0;return o.Uj(a,u),o.Bj(),!1}VNt(i,e,h,t){t=t||50;let n=i.m3(),r=n.fT(),o=n.mT(),a=null,u=null;for(let s=0;s<t;++s)for(let t=0;t<2;++t){const l=2*t-1;if(n.Uj(r+e*s*l,o+h*s*l),n.Bj(),!this.r4(i,a)){if(!(a=this.u4(i)))return u&&this.JNt(i,e*l,h*l,u,16,!0),!0;u=a}}return n.Uj(r,o),n.Bj(),!1}JNt(t,s,i,e,h,n){let r=2,o=!1,a=!1,u=t.m3(),l=u.fT(),c=u.mT();for(;r<=h;){const f=1/r;r*=2,u.Yj(s*f*(o?1:-1),i*f*(o?1:-1)),u.Bj(),this.r4(t,e)||n&&this.u4(t)?(o=!0,a=!0):(o=!1,a=!1,l=u.fT(),c=u.mT())}a&&(u.Uj(l,c),u.Bj())}HNt(i,t=100){let e=0,h=i.m3(),n=h.fT(),r=h.mT(),o=0,a=this.u4(i);if(!a)return!0;for(;e<=t;){let t=0,s=0;switch(o){case 0:t=0,s=-1,e++;break;case 1:t=1,s=-1;break;case 2:t=1,s=0;break;case 3:t=1,s=1;break;case 4:t=0,s=1;break;case 5:t=-1,s=1;break;case 6:t=-1,s=0;break;case 7:t=-1,s=-1}if(o=(o+1)%8,h.Uj(Math.floor(n+t*e),Math.floor(r+s*e)),h.Bj(),!this.r4(i,a)&&!(a=this.u4(i)))return!0}return h.Uj(n,r),h.Bj(),!1}qNt(t,s,i,e){const h=t.m3(),n=h.fT(),r=h.mT(),o=Math.max(10,G.Sn(s,i,n,r)),a=G.bn(s,i,n,r),u=e||this.u4(t);if(!u)return G.yn(a+Math.PI);let l=u,c=0,f=0,d=G.Mn(5),p;for(p=1;p<36;++p){const x=a-p*d;if(h.Uj(s+Math.cos(x)*o,i+Math.sin(x)*o),h.Bj(),!this.r4(t,l)&&!(l=e?null:this.u4(t))){c=x;break}}for(36===p&&(c=G.yn(a+Math.PI)),l=u,p=1;p<36;++p){const I=a+p*d;if(h.Uj(s+Math.cos(I)*o,i+Math.sin(I)*o),h.Bj(),!this.r4(t,l)&&!(l=e?null:this.u4(t))){f=I;break}}if(36===p&&(f=G.yn(a+Math.PI)),h.Uj(n,r),h.Bj(),f===c)return f;let m=G.vn(f,c)/2,g;g=G.In(f,c)?G.yn(c+m+Math.PI):G.yn(f+m);const y=Math.cos(a),M=Math.sin(a),w=Math.cos(g),S=Math.sin(g),T=y*w+M*S,b=y-2*T*w,v=M-2*T*S;return G.bn(0,0,b,v)}XNt(t,s,i,e,h){if(!h)return!1;const n=h.m3();if(!n.f5())return!1;if(this.vNt++,d.set(Math.min(t,i),Math.min(s,e),Math.max(t,i),Math.max(s,e)),!n.qj().Hu(d))return!1;if(h.T_t())return this.ZNt(t,s,i,e,h,n);if(this.INt++,!n.Zj().Il(t,s,i,e))return!1;if(!n.GDt())return!0;const r=n.CDt();return r.Il(n.fT(),n.mT(),t,s,i,e)}ZNt(i,e,h,n,t,s){const r=s.fT(),o=s.mT(),a=t.cz(),u=S;p.set(i,e,h,n),p.normalize(),a.GetCollisionRectCandidates(p,u);for(let t=0,s=u.length;t<s;++t){const l=u[t],c=l.GetRect();if(this.vNt++,d.qu(c,r,o)&&(b.Tl(c),b.offset(r,o),b.Il(i,e,h,n))){const f=l.GetPoly();if(!f)return G.Br(u),!0;if(this.INt++,f.Il(r+c.xu(),o+c.Iu(),i,e,h,n))return G.Br(u),!0}}return G.Br(u),!1}UNt(t,s){if(!s)return!1;const i=s.m3();if(!i.f5())return!1;if(this.vNt++,!i.qj().Hu(t))return!1;if(s.T_t())return this.KNt(t,s,i);if(this.INt++,b.Tl(t),!i.Zj().Gl(b))return!1;if(!i.GDt())return!0;const e=T,h=(e.Tl(t,i.fT(),i.mT()),i.CDt());return e.Vl(h,0,0)}KNt(i,t,s){const e=s.fT(),h=s.mT(),n=t.cz(),r=S;n.GetCollisionRectCandidates(i,r);for(let t=0,s=r.length;t<s;++t){const o=r[t],a=o.GetRect();if(this.vNt++,i.qu(a,e,h)){const u=o.GetPoly();if(!u)return G.Br(r),!0;if(this.INt++,T.Tl(i,0,0),u.Vl(T,-(e+a.xu()),-(h+a.Iu())))return G.Br(r),!0}}return G.Br(r),!1}$Nt(t,s){if(t){const i=t.m3();i.f5()&&(this.vNt++,i.qj().Hu(s.rect))&&(t.T_t()?this.tLt(t,i,s):(this.INt++,i.GDt()?s.sLt(t,i.fT(),i.mT(),i.CDt()):s.iLt(t,i.Zj())))}}tLt(i,e,h){const n=e.fT(),r=e.mT(),o=S;i.cz().GetCollisionRectCandidates(h.rect,o);for(let t=0,s=o.length;t<s;t++){const a=o[t],u=a.GetRect();if(this.vNt++,h.rect.qu(u,n,r)){const l=a.GetPoly();this.INt++,l?h.sLt(i,n+u.xu(),r+u.Iu(),l):h.eLt(i,e.fT(),e.mT(),u)}}G.Br(o)}c4(t,s){if(t!==this.SNt||s!==this.TNt){this.SNt=t,this.TNt=s;const i=this.cf.NV();for(const e of i)if(e.Z4()){for(const h of e.DP())h.m3().uDt();e.PCt().hLt(t,s),e.kCt();for(const n of e.DP()){const r=n.m3();r.FDt(),r.jCt()}}}}d4(){return[this.SNt,this.TNt]}nLt(t,s){this.SNt=t,this.TNt=s}}}{const Ca=self.js;Ca.pGt=class extends Ca.rn{constructor(t,s){super(),this.BY=t,this.UY=s,this.WY=Ca.un(Ca.$l)}ln(){this.WY.ln(),this.WY=null}hLt(t,s){if(!this.WY.ec())throw new Error("grid not empty");this.BY=t,this.UY=s}QY(t,s,i){let e=this.WY.hi(t,s);return e||(i?(e=Ca.un(Ca.rLt,this,t,s),this.WY.Set(t,s,e),e):null)}YY(t){const s=Math.floor(t/this.BY);return isFinite(s)?s:0}JY(t){const s=Math.floor(t/this.UY);return isFinite(s)?s:0}VY(e,h,n){if(h)for(let i=h.xu(),t=h.Gu();i<=t;++i)for(let t=h.Iu(),s=h.Cu();t<=s;++t)if(!n||!n.Xu(i,t)){const r=this.QY(i,t,!1);r&&(r.v0(e),r.ec())&&this.WY.hc(i,t)}if(n)for(let i=n.xu(),t=n.Gu();i<=t;++i)for(let t=n.Iu(),s=n.Cu();t<=s;++t)h&&h.Xu(i,t)||this.QY(i,t,!0).kY(e)}HY(t,s){let i=this.YY(t.xu()),e=this.JY(t.Iu()),h=this.YY(t.Gu()),n=this.JY(t.Cu());if(isFinite(h)&&isFinite(n))for(;i<=h;++i)for(let t=e;t<=n;++t){const r=this.QY(i,t,!1);r&&r.jY(s)}}}}{const _a=self.js;_a.rLt=class extends _a.rn{constructor(t,s,i){super(),this.AY=t,this.su=s,this.iu=i,this.DY=_a.un(_a.ac)}ln(){this.DY.ln(),this.DY=null,this.AY=null}ec(){return this.DY.ec()}kY(t){this.DY.fc(t)}v0(t){this.DY.hc(t)}jY(t){_a.qh(t,this.DY.mc())}}}{const Ea=self.js;Ea.oLt=class{constructor(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.dx=0,this.dy=0,this.rect=new Ea.Rect,this.aLt=2,this.uLt=null,this.lLt=0,this.cLt=0,this.fLt=0,this.dLt=0,this.pLt=0,this.At=0,this.mLt=1,this.gLt=0,this.yLt=1,this.MLt=0}wLt(){return this.aLt<1+1e-6}c0(){this.aLt=2}Set(t,s,i,e){return this.x1=t,this.y1=s,this.x2=i,this.y2=e,this.dx=i-t,this.dy=e-s,this.rect.set(t,s,i,e),this.rect.normalize(),this.aLt=2,this.uLt=null,this.lLt=0,this.cLt=0,this.fLt=0,this.dLt=0,this.pLt=0,this.At=0,this.mLt=1,this.gLt=0,this.yLt=1,this.MLt=0,this}SLt(){if(!1!==this.wLt()){const t=this.dx*this.aLt,s=this.dy*this.aLt,i=Math.hypot(t,s),e=t/i,h=s/i,n=(this.At=i-1e-6,this.dLt=this.x1+e*this.At,this.pLt=this.y1+h*this.At,this.lLt=Math.atan2(this.fLt,this.cLt)+Math.PI/2,this.mLt=Math.cos(this.lLt),this.gLt=Math.sin(this.lLt),e*this.mLt+h*this.gLt);if(this.yLt=e-2*this.mLt*n,this.MLt=h-2*this.gLt*n,0<n){const r=Math.PI;this.lLt=Ea.yn(this.lLt+r),this.mLt=-this.mLt,this.gLt=-this.gLt}}}TLt(t,s,i,e,h){const n=Ea.dr(this.x1,this.y1,this.x2,this.y2,s,i,e,h);0<=n&&n<this.aLt&&(this.aLt=n,this.uLt=t.BF(),this.cLt=s-e,this.fLt=i-h)}eLt(t,s,i,e){const h=s+e.xu(),n=s+e.Gu(),r=i+e.Iu(),o=i+e.Cu();this.TLt(t,h,r,n,r),this.TLt(t,n,r,n,o),this.TLt(t,n,o,h,o),this.TLt(t,h,o,h,r)}iLt(t,s){const i=s.$n(),e=s.ir(),h=s.er(),n=s.hr(),r=s.nr(),o=s.rr(),a=s.ur(),u=s.lr();this.TLt(t,i,e,h,n),this.TLt(t,h,n,r,o),this.TLt(t,r,o,a,u),this.TLt(t,a,u,i,e)}sLt(i,e,h,t){const n=t.jl();for(let t=0,s=n.length;t<s;t+=2){const r=(t+2)%s,o=n[t]+e,a=n[t+1]+h,u=n[r]+e,l=n[1+r]+h;this.TLt(i,o,a,u,l)}}}}{const v=self.js,Aa=new Set(["off","crop","scale-inner","scale-outer","letterbox-scale","letterbox-integer-scale"]),Da=new Set(["high","low"]),Na=self.bs,vh=Na.Gs,xh=Na.As,La=vh.create(),Oa=v.un(v.tl),x=v.un(v.Rect);v.bLt=class extends v.rn{constructor(t){super(),this.cf=t,this.vLt=[],this.xLt=!1,this.ILt=null,this.GLt=null,this.CLt=null,this._Lt="high-performance",this.ELt=!1,this.ALt=0,this.DLt=0,this.NLt="",this.LLt=0,this.OLt=0,this.RLt=0,this.PLt=0,this.kLt=0,this.FLt=0,this.Ny="normalized",this.jLt=0,this.zLt=1,this.BLt=1e4,this.aM=!0,this.ULt=0,this.BN=0,this.UN=0,this.WLt="letterbox-scale",this.QLt="letterbox-scale",this.YLt=0,this.JLt=0,this.VLt=vh.create(),this.HLt="high",this.qLt=this.HLt,this.XLt=!1,this.ZLt=[],this.KLt=new Set,this.$Lt=self.C3_Shaders,this.tOt=v.un(v.hy.YD,{BD:()=>[this.mH(),this.gH()],UD:()=>this.sOt(),WD:t=>this.iOt(t),getTime:()=>this.P3().bR(),QD:()=>this.P3().b3()}),this.eOt=0,this.hOt=0,this.nOt=NaN,this.rOt=null,this.oOt=new Map,this.aOt=NaN,this.uOt=new Map,this.lOt="",this.cOt=1,this.fOt=v.un(v.Rect),this.dOt="",this.pOt=null,this.mOt=null,this.gOt=0,this.yOt=0,this.MOt=-1,this.wOt=0,this.SOt=t=>this.wOt=t.progress,this.TOt=null,this.bOt={vOt:null,xOt:null,IOt:null},this.GOt=0,this.COt=0,this._Ot=0,this.EOt="fade-in",this.AOt=null,this.DOt=new Promise(t=>this.AOt=t)}NOt(t){this._Lt=t}LOt(t){this.xLt=!!t}OOt(t){this.Ny=t}ROt(){return this.Ny}POt(t){this.jLt=t}kOt(t,s){this.zLt=t,this.BLt=s}FOt(t){this.ELt=!!t}async Oo(t){let s=t.canvas,i=(this.vLt.push({canvas:s,jOt:null}),this.cf.gj("runtime","window-resize",t=>this.zOt(t)),this.cf.gj("runtime","fullscreenchange",t=>this.BOt(t)),this.cf.gj("runtime","fullscreenerror",t=>this.UOt(t)),s.addEventListener("webglcontextlost",t=>this.WOt(t)),s.addEventListener("webglcontextrestored",t=>this.QOt(t)),this.XLt=!!t.isFullscreen,this.NLt=t.cssDisplayMode,navigator.gpu&&this.xLt),e=!1;if(i)try{await this.YOt(!0)}catch(t){this.JOt("WebGPU",t),this.GLt=null}if(!this.RS())try{await this.VOt(!0)}catch(t){this.JOt("WebGL",t),this.ILt=null}if(this.RS()||(e=!0),!this.RS()&&i)try{await this.YOt(!1)}catch(t){this.JOt("WebGPU",t),this.GLt=null}if(!this.RS())try{await this.VOt(!1)}catch(t){this.JOt("WebGL",t),this.ILt=null}const h=this.RS();if(!h)throw new Error("failed to acquire a renderer - check WebGL or WebGPU is supported");h.dS(e),this.GLt&&(this.GLt.HOt=()=>this.qOt(),this.GLt.XOt=()=>this.ZOt()),"normalized"===this.Ny?h.IM():(h.GM(),h.vM(this.jLt)),this.KC(t.windowInnerWidth,t.windowInnerHeight,!0),await this.iNt()}JOt(t,s){s&&"string"==typeof s.message&&s.message.startsWith("renderer-unavailable")||console.error(`Error creating ${t} renderer: `,s)}async YOt(t){const s={Iy:this.zLt,Gy:this.BLt},i={powerPreference:this._Lt,depth:this.cf.S8(),failIfMajorPerformanceCaveat:t,KOt:this.cf.xH(),$Ot:this.cf.tRt(),aE:this.cf.sRt()};this.GLt=v.un(v.hy.WebGPURenderer,s),await this.GLt.X2(this.vLt[0].canvas,i)}async VOt(t){const s={alpha:!0,powerPreference:this._Lt,oE:"xbox-uwp-webview2"!==this.cf.x4(),depth:this.cf.S8(),aE:this.cf.sRt(),failIfMajorPerformanceCaveat:t,Iy:this.zLt,Gy:this.BLt};this.ELt&&(s.uE=1),this.ILt=v.un(v.hy.fE,this.vLt[0].canvas,s),await this.ILt.dM()}async iRt(){if(this.$Lt){const t=[];for(const[s,i]of Object.entries(this.$Lt)){i.src=i.wgsl;const e=v.hy.WebGPUShaderProgram._x();t.push(this.GLt.pA(Object.assign({V2:e,name:s},i)))}await Promise.all(t)}}async eRt(){if(this.$Lt){const s=[];for(const[i,e]of Object.entries(this.$Lt)){let t;if(e.glslWebGL2&&2<=this.ILt.Db())e.src=e.glslWebGL2,t=v.hy.Y2.Ex();else{if(!e.glsl)throw new Error(`shader '${i}' does not support WebGL 1`);e.src=e.glsl,t=v.hy.Y2._x()}s.push(this.ILt.pA(Object.assign({V2:t,name:i},e)))}await Promise.all(s),this.ILt.mA(),this.ILt.kM()}this.ILt._D()&&(this.rOt=v.un(v.hy.X_,this.ILt))}async iNt(){this.GLt?await this.iRt():this.ILt&&await this.eRt();const t=this.RS();t.cS(this.aM),t._D()&&(this.nOt=0);for(const s of this.cf.hRt()){for(const i of s.JP())i.iNt(t);s.iNt(t),s.Ez()}this.CLt=new self.Q6(this.cf,t)}ln(){this.cf=null,this.ILt=null,this.vLt.length=0}RO(){return this.cf.RO()}zOt(t){const s=this.cf;if(!s.nRt()){const i=t.devicePixelRatio,e=(this.RO()&&(self.devicePixelRatio=i),s.rRt(i),this.XLt=!!t.isFullscreen,this.NLt=t.cssDisplayMode,this.KC(t.innerWidth,t.innerHeight),s.b3(),new v.Event("window-resize")),h=(e.data=t,s.Qf().t0(e),new v.Event("resize"));h.oRt=this.N4(),h.aRt=this.O4(),h.uRt=this.P4(),h.lRt=this.j4(),s.Cq(h),s._q()&&(s.edt()||self.C3Debugger.IsDebuggerPaused())&&s.yL()}}BOt(t){this.XLt=!!t.isFullscreen,this.KC(t.innerWidth,t.innerHeight,!0),this.cf.b3()}UOt(t){this.XLt=!!t.isFullscreen,this.KC(t.innerWidth,t.innerHeight,!0),this.cf.b3()}KC(t,s,i=!1){if(t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid size");if(this.ALt!==t||this.DLt!==s||i){this.ALt=t,this.DLt=s;const e=this.cRt();"letterbox-scale"===e?this.fRt(t,s):"letterbox-integer-scale"===e?this.dRt(t,s):"off"===e?this.pRt(t,s):this.mRt(t,s),this.gRt(e);for(const{canvas:r}of this.vLt)r.width=this.RLt,r.height=this.PLt;this.cf.pf("canvas","update-size",{marginLeft:this.kLt,marginTop:this.FLt,styleWidth:this.LLt,styleHeight:this.OLt,displayScale:this.QU()});const h=this.RS();h.KC(this.RLt,this.PLt,!0);for(const o of this.ZLt)h.bD(o);v.Br(this.ZLt),this.yRt();const n=this.cf.VR();n.Xq(),n.Zq()}}yRt(){this.RS()._M(this.VLt,this.mH()/this.gH())}yH(){return this.VLt}fRt(t,s){const i=this.cf.z4(),e=this.cf.kO(),h=this.cf.jO(),n=e/h,r=t/s;if(n<r){const o=s*n;this.LLt=Math.round(o),this.OLt=s,this.kLt=Math.floor((t-this.LLt)/2),this.FLt=0}else{const a=t/n;this.LLt=t,this.OLt=Math.round(a),this.kLt=0,this.FLt=Math.floor((s-this.OLt)/2)}this.RLt=Math.round(this.LLt*i),this.PLt=Math.round(this.OLt*i),this.cf.MRt(e,h)}dRt(t,s){let i=this.cf.z4(),e=(1!==i&&(t+=1,s+=1),this.cf.kO()),h=this.cf.jO(),n=e/h,r=t/s,o;if(n<r){const a=s*n;o=a*i/e}else{const u=t/n;o=u*i/h}1<o?o=Math.floor(o):o<1&&(o=1/Math.ceil(1/o)),this.RLt=Math.round(e*o),this.PLt=Math.round(h*o),this.LLt=this.RLt/i,this.OLt=this.PLt/i,this.kLt=Math.max(Math.floor((t-this.LLt)/2),0),this.FLt=Math.max(Math.floor((s-this.OLt)/2),0),this.cf.MRt(e,h)}mRt(t,s){const i=this.cf.z4(),e=(this.LLt=t,this.OLt=s,this.RLt=Math.round(this.LLt*i),this.PLt=Math.round(this.OLt*i),this.kLt=0,this.FLt=0,this.QU());this.cf.MRt(this.LLt/e,this.OLt/e)}pRt(t,s){const i=this.cf.z4();this.LLt=this.cf.l8(),this.OLt=this.cf.c8(),this.RLt=Math.round(this.LLt*i),this.PLt=Math.round(this.OLt*i),this.wRt()?(this.kLt=Math.floor((t-this.LLt)/2),this.FLt=Math.floor((s-this.OLt)/2)):(this.kLt=0,this.FLt=0),this.cf.MRt(this.cf.l8(),this.cf.c8())}gRt(i){if("high"===this.HLt)this.BN=this.RLt,this.UN=this.PLt,this.qLt="high";else{let t,s;if(s="off"===this.cRt()?(t=this.cf.l8(),this.cf.c8()):(t=this.cf.kO(),this.cf.jO()),this.RLt<t||this.PLt<s)this.BN=this.RLt,this.UN=this.PLt,this.qLt="high";else if(this.BN=t,this.UN=s,this.qLt="low","scale-inner"===i){const e=t/s,h=this.ALt/this.DLt;h<e?this.BN=this.UN*h:e<h&&(this.UN=this.BN/h)}else if("scale-outer"===i){const n=t/s,r=this.ALt/this.DLt;n<r?this.BN=this.UN*r:r<n&&(this.UN=this.BN/r)}}}P3(){return this.cf}SRt(){return this.vLt[0].canvas}JJ(){return this.tOt}wRt(){return this.XLt}TRt(){return this.NLt}bRt(t){if(!Aa.has(t))throw new Error("invalid fullscreen mode");this.WLt=t;const s=this.cf.VR();s.Xq(),s.Zq()}UU(){return this.WLt}vRt(t){if(!Aa.has(t))throw new Error("invalid fullscreen mode");this.QLt=t;const s=this.cf.VR();s.Xq(),s.Zq()}xRt(){return this.QLt}cRt(){return this.wRt()?this.xRt():this.UU()}IRt(t){if(!Da.has(t))throw new Error("invalid fullscreen scaling quality");this.HLt=t,this.cf.VR().Xq()}GRt(){return this.HLt}IH(){return this.qLt}static CRt(t){switch(t){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw new Error("invalid fullscreen mode")}}EU(){return this.ALt}AU(){return this.DLt}mH(){return this.BN}gH(){return this.UN}cS(t){this.aM=!!t}_Rt(t){this.ULt=t}xY(){return this.ULt}ERt(){return this.RS().C_()}WOt(t){console.log("[Construct] WebGL context lost"),t.preventDefault(),this.ZLt=[],this.KLt.clear(),this.tOt.eT(),this.ILt.eT(),this.cf.I9()}qOt(){console.log("[Construct] WebGPU device lost"),this.ZLt=[],this.KLt.clear(),this.tOt.eT(),this.cf.I9()}async QOt(t){await this.ILt.hT(),await this.iNt(),await this.cf.ARt(),console.log("[Construct] WebGL context restored")}async ZOt(){await this.iNt(),await this.cf.ARt(),console.log("[Construct] WebGPU device restored")}DRt(){return this.ILt}NRt(){return this.GLt}RS(){return this.GLt||this.ILt}cCt(){return this.CLt}C4(){let t="";return t=this.cf.NRt()?"webgpu":"webgl"+this.cf.DRt().Db(),this.cf.RS().pS()&&(t+="-software"),t}A4(){return this.cf.NRt()?this.cf.NRt().GetAdapterInfoString():this.cf.DRt().kD()}xF(){return"low"===this.qLt?1/this.cf.z4():this.QU()}QU(){const t=this.cRt();if("off"===t||"crop"===t)return 1;const s=this.cf.kO(),i=this.cf.jO(),e=s/i,h=this.RLt/this.PLt;return"scale-inner"!==t&&e<h||"scale-inner"===t&&h<e?this.OLt/i:this.LLt/s}qH(){return"low"===this.IH()?1:this.QU()}VH(){return"low"===this.IH()?1:this.cf.z4()}LRt(t,s){this.YLt=t,this.JLt=s}DW(s,i,e,t=!0){i=i||this.BN,e=e||this.UN;const h=i/2+this.YLt,n=e/2+this.JLt;if(t){let t=this.yH();i===this.BN&&e===this.UN||(s._M(La,i/e),t=La),s.yA(t)}const r=s.NM(h,n,s.mM(e),h,n,0,e);s.vA(r)}ORt(t,s=!0){const i=this.N4(),e=this.O4(),h=i/2,n=e/2,r=(s&&t.yA(this.yH()),t.NM(h,n,t.mM(e),h,n,0,e));t.vA(r)}P4(){return this.RLt}j4(){return this.PLt}N4(){return this.LLt}O4(){return this.OLt}mF(){return this.kLt}gF(){return this.FLt}a9(){return this.vLt.length}RRt(){return"undefined"!=typeof OffscreenCanvas&&this.SRt()instanceof OffscreenCanvas&&("Chromium"!==v.ci.Mi||124<=v.ci.yi)}async A9(e,h=!1){if(e<1)throw new Error("invalid HTML layer count");if(this.vLt.length!==e){let t=this.cf.VR().QR(),s={count:e,layersDomState:t.zV().filter(t=>t.Uk()).map(t=>t.Q8()),immediate:h,marginLeft:this.kLt,marginTop:this.FLt,styleWidth:this.LLt,styleHeight:this.OLt},i;if(i=this.RO()?await this.cf.x3("canvas","set-html-layer-count",s):self.c3_runtimeInterface._OnSetHTMLLayerCount(s),e<this.vLt.length)this.vLt.length=e;else for(const n of i.addedCanvases){n.width=this.RLt,n.height=this.PLt;const r=this.RRt()?"bitmaprenderer":"2d",o=n.getContext(r);if(!o)throw new Error(`failed to acquire '${r}' canvas context`);this.vLt.push({canvas:n,jOt:o})}this.cf.b3()}}xq(t){if(!(t>=this.vLt.length)){const s=this.SRt(),i=this.vLt[t].jOt;this.RRt()?i.transferFromImageBitmap(s.transferToImageBitmap()):(i.globalCompositeOperation="copy",i.drawImage(s,0,0))}}GH(s){s.depth=this.cf.S8();let t=this.ZLt,i=t.findIndex(t=>t.j2(s)),e;return-1!==i?(e=t[i],t.splice(i,1)):e=this.RS().yD(s),this.KLt.add(e),e}HJ(t){if(!this.KLt.has(t))throw new Error("render target not in use");this.KLt.delete(t),this.ZLt.push(t)}sOt(){const t={cb:this.cf.zO()};return"low"===this.IH()&&(t.width=this.mH(),t.height=this.gH()),this.GH(t)}iOt(t){this.HJ(t)}*PRt(){for(const t of this.cf.VR().Vq())for(const s of t.uk()){const i=this.oOt.get(s);i&&(yield i)}}TH(t){if(!this.RS()._D())return null;let s=this.oOt.get(t);return s||(s={zj:t,name:t.tf(),kRt:v.un(v.hy.X_,this.ILt),FRt:0,jRt:0,zRt:0},this.oOt.set(t,s)),s.kRt}BRt(){const t=this.RS();if(t._D()&&0===this.hOt){this.hOt=t.uS(),this.aOt=NaN;for(const s of this.PRt())s.FRt=NaN}}URt(){this.ILt&&this.ILt._D()&&this.WRt(),this.GLt&&this.GLt._D()&&this.QRt()}WRt(){if(isNaN(this.aOt)&&(this.aOt=this.rOt.hE(this.eOt,this.hOt),!isNaN(this.aOt))){if(this.cf._q())for(const t of this.PRt())if(t.FRt=t.kRt.hE(this.eOt,this.hOt),isNaN(t.FRt))return;if(this.rOt.nE(this.hOt),this.nOt=Math.min(this.aOt,1),this.cf._q()){const i=new Map;for(const h of this.PRt())h.kRt.nE(this.hOt),h.jRt=Math.min(h.FRt,1),i.set(h.zj,h.jRt);for(const n of this.PRt()){const r=n.zj,o=i.get(r)||0,a=o-r.Nk().reduce((t,s)=>t+(i.get(s)||0),0);n.zRt=v.gn(a,0,1)}const s=this.cf.QR(),e=this.nOt-s.zV().reduce((t,s)=>t+(i.get(s)||0),0);self.C3Debugger.UpdateGPUProfile(v.gn(e,0,1),this.nOt,[...this.PRt()])}this.eOt=this.hOt,this.hOt=0}}YRt(){return this.rOt}QRt(){if(0!==this.hOt){for(let t=this.eOt;t<this.hOt;++t){const i=this.uOt.get(t);if(i&&!i.j_())return}let t=this.cf.QR(),r=v.Yo(t.i9()+1,0),s=0;for(let t=this.eOt;t<this.hOt;++t){const o=this.uOt.get(t);if(o){let i=o.z_(),e=BigInt(0),h=BigInt(0),n=BigInt(0);for(let t=0,s=Math.min(r.length,i.length/2);t<s;++t){const l=i[2*t],c=i[2*t+1],f=(l!==n&&(e===n||l<e)&&(e=l),c>h&&(h=c),c-l),d=Number(f)/1e9;r[t]+=d}const a=h-e,u=Number(a)/1e9;s+=u}}if(this.nOt=v.gn(s,0,1),this.cf._q()){const e=t.uk(),h=new Map;for(let t=0,s=Math.min(e.length,r.length-1);t<s;++t){const g=r[t+1];h.set(e[t],g)}const n=[],p=new Map;for(const[y,M]of h){const w=[...y.Ok()].reduce((t,s)=>t+(h.get(s)||0),0);p.set(y,w),n.push({name:y.tf(),zRt:v.gn(M,0,1),jRt:v.gn(w,0,1)})}const m=this.nOt-t.zV().reduce((t,s)=>t+(p.get(s)||0),0);self.C3Debugger.UpdateGPUProfile(v.gn(m,0,1),this.nOt,n)}for(let t=this.eOt;t<this.hOt;++t)this.uOt.delete(t);this.eOt=this.hOt,this.hOt=0}}JRt(t){this.uOt.set(this.GLt.uS(),t)}LR(){return this.nOt}VRt(t,s,i,e,h,n){return this.lOt=t,this.cOt=s,this.fOt.gu(i,e,h,n),this.pOt||(this.pOt=new Promise(t=>{this.mOt=t})),this.pOt}HRt(){if(this.lOt){let t=this.SRt(),s=this.fOt,i=v.gn(Math.floor(s.xu()),0,t.width),e=v.gn(Math.floor(s.Iu()),0,t.height),h=s.width(),n=(h=0===h?t.width-i:v.gn(Math.floor(h),0,t.width-i),s.height());if(n=0===n?t.height-e:v.gn(Math.floor(n),0,t.height-e),(0!==i||0!==e||h!==t.width||n!==t.height)&&0<h&&0<n){const r=v.Oo(h,n),o=r.getContext("2d");o.drawImage(t,i,e,h,n,0,0,h,n),t=r}v.Ro(t,this.lOt,this.cOt).then(t=>{this.dOt&&URL.revokeObjectURL(this.dOt),this.dOt=URL.createObjectURL(t),this.pOt=null,this.mOt(this.dOt)}),this.lOt="",this.cOt=1}}qRt(){return this.dOt}XRt(t){t?this.gOt++:this.gOt--}ZRt(){return 0<this.gOt}KRt(t){const s=this.RS();if(2===t)this.TOt=v.un(v.hy.TS,this.RS()),this.TOt._C("Arial"),this.TOt.EC(16),this.TOt.WC("center"),this.TOt.YC("center"),this.TOt.KC(300,200);else if(0===t){const i=this.cf.$Rt();i&&i.bW(s).catch(t=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",t))}else 4===t&&(this.t3t("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIxNzAwLjc5MDA0cHgiIGhlaWdodD0iMTcwMC43OTAwNHB4IiB2aWV3Qm94PSIyODcgMzE3IDExMjUgMTEyNSINCgkgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTcwMC43OTAwNCAxNzAwLjc5MDA0IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJsb2dvIj4NCgk8Zz4NCgkJPGc+DQoJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0ZGRkZGRiIgZD0iTTM1NC45Nzc1NCwxMTk1LjYyMzA1DQoJCQkJYzExLjM4NDc3LDAsMjIuMDEyNywzLjIzNzMsMzEuMDE3NTgsOC44Mzc4OWMxLjk0NjI5LDEuMjEwOTQsMi41ODQ5NiwzLjc0OTAyLDEuNDM4NDgsNS43MzQzOGwtNC45MzI2Miw4LjU0MTk5DQoJCQkJYy0zLjI3ODMyLDUuNjc5NjktMTAuMDMzMiw4LjM3Njk1LTE2LjMxNzM4LDYuNTAwOThjLTIuNzY0NjUtMC44MjUyLTUuNjkzMzYtMS4yNjg1NS04LjcyNjU2LTEuMjY4NTUNCgkJCQljLTE2LjgyOTEsMC0zMC40NzI2NiwxMy42NDM1NS0zMC40NzI2NiwzMC40NzI2NmMwLDE2LjgyODEzLDEzLjY0MzU1LDMwLjQ3MjY2LDMwLjQ3MjY2LDMwLjQ3MjY2DQoJCQkJYzMuMDMzMiwwLDUuOTYxOTEtMC40NDMzNiw4LjcyNjU2LTEuMjY4NTVjNi4yOTQ5Mi0xLjg3OTg4LDEzLjAzMzIsMC44MTE1MiwxNi4zMTczOCw2LjUwMDk4bDQuOTMxNjQsOC41NDE5OQ0KCQkJCWMxLjE0NzQ2LDEuOTg4MjgsMC41MTA3NCw0LjUyMzQ0LTEuNDM4NDgsNS43MzQzOGMtOS4wMDM5MSw1LjYwMTU2LTE5LjYzMTg0LDguODM3ODktMzEuMDE2Niw4LjgzNzg5DQoJCQkJYy0zMi40ODUzNSwwLTU4LjgxOTM0LTI2LjMzNDk2LTU4LjgxOTM0LTU4LjgxOTM0QzI5Ni4xNTgyLDEyMjEuOTU3MDMsMzIyLjQ5MjE5LDExOTUuNjIzMDUsMzU0Ljk3NzU0LDExOTUuNjIzMDUNCgkJCQlMMzU0Ljk3NzU0LDExOTUuNjIzMDV6IE03MDMuMjE0ODQsMTI1OS4xNzU3OGMtMTQuNTU5NTctOS44MTczOC0yMC4yMDMxMy0yMC4wMzIyMy0yMC4yMDMxMy0zMy4wODAwOA0KCQkJCWMwLTE4LjQ4OTI2LDE1LjcxNDg0LTI5Ljc2MzY3LDM4LjI2NjYtMjkuNzYzNjdjOS42NTcyMywwLDE4LjcyMTY4LDIuNTQyOTcsMjYuNTU5NTcsNi45OTQxNA0KCQkJCWMyLjA0OTgsMS4xNjQwNiwyLjc2MTcyLDMuNzgzMiwxLjU4MzAxLDUuODI0MjJsLTMuNDE3OTcsNS45MTk5MmMtMy4yNDcwNyw1LjYyNDAyLTkuOTA4Miw4LjMzMTA1LTE2LjE1MzMyLDYuNTQ4ODMNCgkJCQljLTIuNzIzNjMtMC43NzYzNy01LjU5ODYzLTEuMTkyMzgtOC41NzEyOS0xLjE5MjM4Yy0xMC40OTAyMywwLTExLjU5ODYzLDkuNTc2MTctNC44NTc0MiwxNC4xMjMwNWwyMy42ODY1MiwxNS45NzY1Ng0KCQkJCWM5Ljk5MDIzLDYuNzM4MjgsMTUuODk1NTEsMTcuMDY2NDEsMTUuODk1NTEsMjguNzE4NzVjMCwxOC43ODYxMy0xNS4wMDY4NCwzMy4zMDc2Mi0zOC4yNjc1OCwzMy4zMDc2Mg0KCQkJCWMtOS41MjI0NiwwLTE4LjU4Nzg5LTEuOTU3MDMtMjYuODE1NDMtNS40OTAyM2MtNy43ODEyNS0zLjMzOTg0LTEwLjkzMzU5LTEyLjc4MjIzLTYuNjk3MjctMjAuMTE4MTZsMy40ODczLTYuMDQxOTkNCgkJCQljMS4yMTM4Ny0yLjA5OTYxLDMuOTMxNjQtMi43NTk3Nyw1Ljk3NDYxLTEuNDU2MDVjNi44NTkzOCw0LjM4MjgxLDE2LjQ5MDIzLDcuNTk0NzMsMjQuNzU4NzksNy41OTQ3Mw0KCQkJCWMxMC41NDU5LDAsMTEuMzI4MTMtOS45NTg5OCwzLjc2NzU4LTE1LjA1NzYyTDcwMy4yMTQ4NCwxMjU5LjE3NTc4TDcwMy4yMTQ4NCwxMjU5LjE3NTc4eiBNOTg0LjYzMDg2LDEyMDIuMDAwOTgNCgkJCQljMC0yLjM0NzY2LDEuOTAzMzItNC4yNTE5NSw0LjI1MTk1LTQuMjUxOTVoOS45MjE4OGM3LjgyNzE1LDAsMTQuMTcyODUsNi4zNDU3LDE0LjE3Mjg1LDE0LjE3MzgzdjU3LjQwMTM3DQoJCQkJYzAsOC42MTAzNSw2Ljk4MDQ3LDE1LjU5MDgyLDE1LjU5MDgyLDE1LjU5MDgyczE1LjU5MDgyLTYuOTgwNDcsMTUuNTkwODItMTUuNTkwODJ2LTU3LjQwMTM3DQoJCQkJYzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTcyODUtMTQuMTczODNoOS45MjA5YzIuMzQ4NjMsMCw0LjI1MTk1LDEuOTA0Myw0LjI1MTk1LDQuMjUxOTV2NjcuMzIzMjQNCgkJCQljMCwyNC4yNjU2My0xOS42NzA5LDQzLjkzNzUtNDMuOTM2NTIsNDMuOTM3NXMtNDMuOTM3NS0xOS42NzE4OC00My45Mzc1LTQzLjkzNzVWMTIwMi4wMDA5OEw5ODQuNjMwODYsMTIwMi4wMDA5OHoNCgkJCQkgTTQ2Ni44NjkxNCwxMTk1LjYyMzA1YzMyLjQ4NDM4LDAsNTguODE4MzYsMjYuMzMzOTgsNTguODE4MzYsNTguODE5MzRjMCwzMi40ODQzOC0yNi4zMzM5OCw1OC44MTkzNC01OC44MTgzNiw1OC44MTkzNA0KCQkJCWMtMzIuNDg2MzMsMC01OC44MTkzNC0yNi4zMzQ5Ni01OC44MTkzNC01OC44MTkzNEM0MDguMDQ5OCwxMjIxLjk1NzAzLDQzNC4zODI4MSwxMTk1LjYyMzA1LDQ2Ni44NjkxNCwxMTk1LjYyMzA1DQoJCQkJTDQ2Ni44NjkxNCwxMTk1LjYyMzA1eiBNNDY2Ljg2OTE0LDEyMjUuMDMzMmMtMTYuMjQzMTYsMC0yOS40MTAxNiwxMy4xNjY5OS0yOS40MTAxNiwyOS40MDkxOA0KCQkJCXMxMy4xNjY5OSwyOS40MDgyLDI5LjQxMDE2LDI5LjQwODJjMTYuMjQxMjEsMCwyOS40MDgyLTEzLjE2NjAyLDI5LjQwODItMjkuNDA4MlM0ODMuMTEwMzUsMTIyNS4wMzMyLDQ2Ni44NjkxNCwxMjI1LjAzMzINCgkJCQlMNDY2Ljg2OTE0LDEyMjUuMDMzMnogTTU1Ni43MzI0MiwxMzExLjEzNDc3Yy0yLjM0NzY2LDAtNC4yNTE5NS0xLjkwMjM0LTQuMjUxOTUtNC4yNXYtOTQuOTYxOTENCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzM4My0xNC4xNzM4M2gzLjk1ODk4YzQuNjI1LDAsOC45NTg5OCwyLjI1Njg0LDExLjYxMTMzLDYuMDQ1OWw0MS4xMjIwNyw1OC43NDcwN3YtNTAuNjE5MTQNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2g5LjkyMTg4YzIuMzQ3NjYsMCw0LjI1MTk1LDEuOTA0Myw0LjI1MTk1LDQuMjUxOTV2OTQuOTYwOTQNCgkJCQljMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3MzgzLDE0LjE3Mjg1aC0zLjk1ODk4Yy00LjYyNSwwLTguOTU4OTgtMi4yNTU4Ni0xMS42MTEzMy02LjA0NDkybC00MS4xMjIwNy01OC43NDYwOXY1MC42MTgxNg0KCQkJCWMwLDcuODI5MS02LjM0NTcsMTQuMTcyODUtMTQuMTcyODUsMTQuMTcyODVINTU2LjczMjQyTDU1Ni43MzI0MiwxMzExLjEzNDc3eiBNMTIxNS4wMjA1MSwxMjExLjkyMjg1DQoJCQkJYzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTcyODUtMTQuMTczODNoNTAuMzE1NDNjMi4zNDg2MywwLDQuMjUxOTUsMS45MDQzLDQuMjUxOTUsNC4yNTE5NXY1LjY2OTkyDQoJCQkJYzAsNy44MjcxNS02LjM0NTcsMTQuMTcyODUtMTQuMTcyODUsMTQuMTcyODVoLTYuMDI0NDF2NzUuMTE4MTZjMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3Mjg1LDE0LjE3Mjg1aC05LjkyMTg4DQoJCQkJYy0yLjM0ODYzLDAtNC4yNTE5NS0xLjkwMjM0LTQuMjUxOTUtNC4yNXYtODUuMDQxMDJoLTE1Ljk0NDM0Yy0yLjM0ODYzLDAtNC4yNTE5NS0xLjkwMzMyLTQuMjUxOTUtNC4yNTE5NVYxMjExLjkyMjg1DQoJCQkJTDEyMTUuMDIwNTEsMTIxMS45MjI4NXogTTc3Ni40NDkyMiwxMjExLjkyMjg1YzAtNy44MjgxMyw2LjM0NTctMTQuMTczODMsMTQuMTczODMtMTQuMTczODNoNTAuMzE0NDUNCgkJCQljMi4zNDk2MSwwLDQuMjUxOTUsMS45MDQzLDQuMjUxOTUsNC4yNTE5NXY1LjY2OTkyYzAsNy44MjcxNS02LjM0NTcsMTQuMTcyODUtMTQuMTcxODgsMTQuMTcyODVoLTYuMDI1Mzl2NzUuMTE4MTYNCgkJCQljMCw3LjgyOTEtNi4zNDU3LDE0LjE3Mjg1LTE0LjE3Mjg1LDE0LjE3Mjg1aC05LjkyMDljLTIuMzQ5NjEsMC00LjI1MTk1LTEuOTAyMzQtNC4yNTE5NS00LjI1di04NS4wNDEwMmgtMTUuOTQ1MzENCgkJCQljLTIuMzQ3NjYsMC00LjI1MTk1LTEuOTAzMzItNC4yNTE5NS00LjI1MTk1VjEyMTEuOTIyODVMNzc2LjQ0OTIyLDEyMTEuOTIyODV6IE05MjkuNjA0NDksMTI3Mi4wMjI0NmwyNi45NTgwMSwzMi4xMjc5Mw0KCQkJCWMyLjMxNDQ1LDIuNzU3ODEsMC4zNDM3NSw2Ljk4NDM4LTMuMjU2ODQsNi45ODQzOGgtMTkuNzA1MDhjLTQuMTg5NDUsMC04LjE2NTA0LTEuODUxNTYtMTAuODU3NDItNS4wNjA1NWwtMjIuNjgxNjQtMjcuMDMxMjUNCgkJCQl2MjcuODQxOGMwLDIuMzQ3NjYtMS45MDMzMiw0LjI1LTQuMjUxOTUsNC4yNWgtOS45MjA5Yy03LjgyNzE1LDAtMTQuMTcyODUtNi4zNDM3NS0xNC4xNzI4NS0xNC4xNzI4NXYtODUuMDM5MDYNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2gyOS43NjM2N2MyMi43MDAyLDAsNDEuMTAyNTQsMTcuMTMzNzksNDEuMTAyNTQsMzguMjY4NTUNCgkJCQlDOTU2Ljc1NDg4LDEyNTIuNTkwODIsOTQ1LjQzNjUyLDEyNjYuNzAyMTUsOTI5LjYwNDQ5LDEyNzIuMDIyNDZMOTI5LjYwNDQ5LDEyNzIuMDIyNDZ6IE05MDAuMDYxNTIsMTIyMS44NDM3NXYzMi41OTg2M2g4LjUwMzkxDQoJCQkJYzEwLjk1ODk4LDAsMTkuODQyNzctNy4yOTc4NSwxOS44NDI3Ny0xNi4yOTg4M2MwLTkuMDAxOTUtOC44ODM3OS0xNi4yOTk4LTE5Ljg0Mjc3LTE2LjI5OThIOTAwLjA2MTUyTDkwMC4wNjE1MiwxMjIxLjg0Mzc1eg0KCQkJCSBNMTE1OC4zNTkzOCwxMTk1LjYyMzA1YzExLjM4NDc3LDAsMjIuMDEyNywzLjIzNzMsMzEuMDE3NTgsOC44Mzc4OWMxLjk0NzI3LDEuMjEwOTQsMi41ODQ5NiwzLjc0OTAyLDEuNDM4NDgsNS43MzQzOA0KCQkJCWwtNC45MzI2Miw4LjU0MTk5Yy0zLjI3ODMyLDUuNjc5NjktMTAuMDMzMiw4LjM3Njk1LTE2LjMxNzM4LDYuNTAwOThjLTIuNzY0NjUtMC44MjUyLTUuNjkzMzYtMS4yNjg1NS04LjcyNTU5LTEuMjY4NTUNCgkJCQljLTE2LjgyOTEsMC0zMC40NzI2NiwxMy42NDM1NS0zMC40NzI2NiwzMC40NzI2NmMwLDE2LjgyODEzLDEzLjY0MzU1LDMwLjQ3MjY2LDMwLjQ3MjY2LDMwLjQ3MjY2DQoJCQkJYzMuMDMyMjMsMCw1Ljk2MDk0LTAuNDQzMzYsOC43MjU1OS0xLjI2ODU1YzYuMjk1OS0xLjg3OTg4LDEzLjAzMzIsMC44MTE1MiwxNi4zMTgzNiw2LjUwMDk4bDQuOTMwNjYsOC41NDE5OQ0KCQkJCWMxLjE0NzQ2LDEuOTg4MjgsMC41MTA3NCw0LjUyMzQ0LTEuNDM3NSw1LjczNDM4Yy05LjAwNDg4LDUuNjAxNTYtMTkuNjMyODEsOC44Mzc4OS0zMS4wMTc1OCw4LjgzNzg5DQoJCQkJYy0zMi40ODUzNSwwLTU4LjgxOTM0LTI2LjMzNDk2LTU4LjgxOTM0LTU4LjgxOTM0QzEwOTkuNTQwMDQsMTIyMS45NTcwMywxMTI1Ljg3NDAyLDExOTUuNjIzMDUsMTE1OC4zNTkzOCwxMTk1LjYyMzA1eiIvPg0KCQkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMwMEZGREEiIGQ9Ik0xMzE4LjE5NzI3LDEyMDYuMDMyMjMNCgkJCQljMC03LjgyODEzLDYuMzQ1Ny0xNC4xNzM4MywxNC4xNzI4NS0xNC4xNzM4M2MyMC42NTYyNSwwLDQxLjMxMjUsMCw2MS45Njg3NSwwYzMuNDI5NjksMCw1LjQ1MDIsMy44ODA4NiwzLjQ4MzQsNi42OTA0Mw0KCQkJCWwtMTkuMjk2ODgsMjcuNTY3MzhjMTUuNTQyOTcsOC4zNzU5OCwyNi4xMDY0NSwyNC44MDA3OCwyNi4xMDY0NSw0My42OTUzMWMwLDI3LjM5NzQ2LTIyLjIwODk4LDQ5LjYwNjQ1LTQ5LjYwNjQ1LDQ5LjYwNjQ1DQoJCQkJYy0xNi42ODg0OCwwLTMxLjQ1MTE3LTguMjQwMjMtNDAuNDQzMzYtMjAuODc1OThjLTEuNDUwMi0yLjAzOTA2LTAuODMxMDUtNC44OTk0MSwxLjMzNTk0LTYuMTUyMzRsMTAuOTc3NTQtNi4zMzc4OQ0KCQkJCWM0Ljg4MTg0LTIuODE4MzYsMTAuOTc5NDktMi40NzU1OSwxNS41MTQ2NSwwLjg3MzA1YzMuNTI4MzIsMi42MDU0Nyw3Ljg5MTYsNC4xNDY0OCwxMi42MTUyMyw0LjE0NjQ4DQoJCQkJYzExLjc0MjE5LDAsMjEuMjU5NzctOS41MTg1NSwyMS4yNTk3Ny0yMS4yNTk3N3MtOS41MTc1OC0yMS4yNTk3Ny0yMS4yNTk3Ny0yMS4yNTk3N2gtMTUuMjE3NzcNCgkJCQljLTMuNDI5NjksMC01LjQ1MDItMy44ODA4Ni0zLjQ4NDM4LTYuNjkwNDNsMTguMTM1NzQtMjUuOTA4MmgtMzIuMDA5NzdjLTIuMzQ4NjMsMC00LjI1MTk1LTEuOTAzMzItNC4yNTE5NS00LjI1MTk1VjEyMDYuMDMyMjN6DQoJCQkJIi8+DQoJCTwvZz4NCgkJPGc+DQoJCQk8Zz4NCgkJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0RBRThGNyIgZD0iTTg1MC4zOTU1MSw4NTcuNTkxOA0KCQkJCQljLTUwLjM1NjQ1LDAtOTQuMzI1Mi0yNy4zNTY0NS0xMTcuODUyNTQtNjguMDIwNTFsLTgwLjAzMDI3LDQ2LjIwNDFjLTQuNjU1MjcsMi42ODk0NS02LjEzMTg0LDguNzE4NzUtMy4yNDkwMiwxMy4yNTU4Ng0KCQkJCQljNDIuMjM3Myw2Ni40ODYzMywxMTYuNTMzMiwxMTAuNjA3NDIsMjAxLjEzMTg0LDExMC42MDc0MmM4OC4xMjU5OCwwLDE2NS4wNzEyOS00Ny44NzUsMjA2LjI0MzE2LTExOS4wMzYxM2wtODAuNDg3My00Ni40Njk3Mw0KCQkJCQljLTQuMzEzNDgtMi40OTAyMy05LjgwMTc2LTEuMjA1MDgtMTIuNTcwMzEsMi45MzU1NUM5MzkuMTc1NzgsODMzLjU2MjUsODk3LjU5MTgsODU3LjU5MTgsODUwLjM5NTUxLDg1Ny41OTE4DQoJCQkJCUw4NTAuMzk1NTEsODU3LjU5MTh6IE0xMTM2LjcyMTY4LDU1Ni4yMTc3N2M0LjYxNDI2LTIuNjYzMDksNi4xMTAzNS04LjYxOTE0LDMuMzEyNS0xMy4xNTEzNw0KCQkJCQljLTU5LjkxNTA0LTk3LjAzMDI3LTE2Ny4yMjQ2MS0xNjEuNjk0MzQtMjg5LjYzODY3LTE2MS42OTQzNGMtMTI1Ljg5MzU1LDAtMjM1LjgxMzQ4LDY4LjM5MjU4LTI5NC42MzM3OSwxNzAuMDQ5OA0KCQkJCQlsODAuMzc2OTUsNDYuNDA2MjVjNC4zOTc0NiwyLjUzOTA2LDEwLjAwMTk1LDEuMTQ5NDEsMTIuNzEwOTQtMy4xNDU1MQ0KCQkJCQljNDIuMTY0MDYtNjYuODUxNTYsMTE2LjY2ODk1LTExMS4yNjM2NywyMDEuNTQ1OS0xMTEuMjYzNjdjODguMTI1OTgsMCwxNjUuMDcxMjksNDcuODc1OTgsMjA2LjI0MzE2LDExOS4wMzYxMw0KCQkJCQlMMTEzNi43MjE2OCw1NTYuMjE3Nzd6Ii8+DQoJCQkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNBNUJBQzgiIGQ9Ik04NTAuMzk1NTEsOTU5LjYzODY3DQoJCQkJCWMtODQuNTk4NjMsMC0xNTguODk0NTMtNDQuMTIxMDktMjAxLjEzMTg0LTExMC42MDc0MmMtMi44NzY5NS00LjUzMDI3LTEuMzk5NDEtMTAuNTcwMzEsMy4yNDkwMi0xMy4yNTU4Nmw4MC4wMzAyNy00Ni4yMDQxDQoJCQkJCWMtMTEuNTgxMDUtMjAuMDE2Ni0xOC4yMDk5Ni00My4yNTQ4OC0xOC4yMDk5Ni02OC4wNDE5OWMwLTc0Ljc4NTE2LDYwLjU1NzYyLTEzNi4wNjI1LDEzNi4wNjI1LTEzNi4wNjI1DQoJCQkJCWM0Ny4xOTYyOSwwLDg4Ljc4MDI3LDI0LjAyOTMsMTEzLjE4NTU1LDYwLjUyMjQ2YzIuNzY0NjUsNC4xMzM3OSw4LjI2MzY3LDUuNDIxODgsMTIuNTcwMzEsMi45MzU1NWw4MC40ODczLTQ2LjQ2OTczDQoJCQkJCWMtNDEuMTcxODgtNzEuMTYwMTYtMTE4LjExNzE5LTExOS4wMzYxMy0yMDYuMjQzMTYtMTE5LjAzNjEzYy04NC44NzY5NSwwLTE1OS4zODE4NCw0NC40MTIxMS0yMDEuNTQ1OSwxMTEuMjYzNjcNCgkJCQkJYy0yLjcwNjA1LDQuMjkxMDItOC4zMTgzNiw1LjY4MTY0LTEyLjcxMDk0LDMuMTQ1NTFsLTgwLjM3Njk1LTQ2LjQwNjI1DQoJCQkJCWMtMjguOTUyMTUsNTAuMDQwMDQtNDUuNTIzNDQsMTA4LjEzOTY1LTQ1LjUyMzQ0LDE3MC4xMDc0MmMwLDE4Ni45NjM4NywxNTEuMzk0NTMsMzQwLjE1NzIzLDM0MC4xNTcyMywzNDAuMTU3MjMNCgkJCQkJYzEyMi40MTQwNiwwLDIyOS43MjM2My02NC42NjQwNiwyODkuNjM4NjctMTYxLjY5NTMxYzIuNzk0OTItNC41MjYzNywxLjI5NDkyLTEwLjQ5MDIzLTMuMzEyNS0xMy4xNTEzN2wtODAuMDgzMDEtNDYuMjM3Mw0KCQkJCQlDMTAxNS40NjY4LDkxMS43NjM2Nyw5MzguNTIxNDgsOTU5LjYzODY3LDg1MC4zOTU1MSw5NTkuNjM4Njd6Ii8+DQoJCQk8L2c+DQoJCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzAwRkZEQSIgZD0iTTExMzcuMTg1NTUsNzU4LjExMzI4di03My4xNjc5N2wtNjMuMzY1MjMsMzYuNTgzOTgNCgkJCQlMMTEzNy4xODU1NSw3NTguMTEzMjhMMTEzNy4xODU1NSw3NTguMTEzMjh6IE0xMDI2LjU3NjE3LDcwNS4xNjQwNmwxMjAuMDU4NTktNjkuMzE2NDENCgkJCQljMTIuNTY4MzYtNy4yNTU4NiwyOC4zNDQ3MywxLjg1MjU0LDI4LjM0NTcsMTYuMzY2MjF2MTM4LjYzMDg2Yy0wLjAwMDk4LDE0LjUxMjctMTUuNzc3MzQsMjMuNjIyMDctMjguMzQ1NywxNi4zNjYyMQ0KCQkJCWwtMTIwLjA1ODU5LTY5LjMxNjQxQzEwMTQuMDI4MzIsNzMwLjY0OTQxLDEwMTQuMDI4MzIsNzEyLjQwOTE4LDEwMjYuNTc2MTcsNzA1LjE2NDA2eiIvPg0KCQk8L2c+DQoJPC9nPg0KPC9nPg0KPC9zdmc+DQo=").then(t=>{"done"===this.EOt?s.b2(t):this.bOt.vOt=t}).catch(t=>console.warn("Failed to load splash image: ",t)),this.s3t("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAABABAMAAACekdKMAAAAMFBMVEUAAAByfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYYgo7vbAAAAD3RSTlMAmd137hFVqjO7zCKIRGZ881JRAAAFZklEQVR42u2aO68SQRTHR3leQeI3wMRo7CDGZyyg0MTEYlFbEylMLC+JsQYfvTZWFpgYKwuImlhqYiyNfgOsbRBYefn4O+ecGdgF0caEMbv/5N6BYRY4vzNzzplZVKxYsWLFihUrViwHVcIBJdoDqAjqvwGwF6LJ6YgDAI5EHQBuRR3AvBZNAENu73pAI8oAVB74GWkA6gOG0QawF2hFGkACKEcaQA7yna804Z9UG5U6A9ys2SfH8Y2vaWNyQrfm8aC8AiBdgX9aOSkGIBIAl6Qq4pcm3L8r6SELfNQmF6E1oI4iDu4CP+w1xuIEtPx6CEC2A61HSvX1lSwPB5UbCgIgQ/d7YDXIFN9Ex/PUyNM7YD1jAEfAALIlqSO6SqsN0igEoAfSsKWS5i3303JzQ6tLoAfRjF3eEm+NqclgovsMn2GNAJwTAPcgOsyjjIIAFq/ngbrJuS3lhpYA0uSVnAecVYU28EZbzm7Kmhl/jeqEl8ATlauweUXtdD1AX0PtCxlWoQGpYysARl11g17Pmu69mCtHtASwA9Tp30P9uMCeLeKBeMuXUPBVqSZbmSvhGwN4w1NDrHoOdFXKM/EhBGBGQbNPMaSDKvXdx0g5oiWAXbKzZ1zTx9CYrPZB5u0HPFb7Tb38kswsmiDZkzbnaZsTZkAmBOApxxDqqshyqmiAjmgBoADyStt8swy56xrG7K0Se7qDsu72a4uAWDRjmzpIilVVTcvvcn70ggA+Smmgx72WCdLRMB2RBfCiQ0EqZR2Xo+m9g+9s13VtGb3U0kiox8THIr6wrSA+TGqq/wabCiH2/g4vp5w7SSC4HfZbKs2z3fooweuh42cwpRjp06KY2jxetgDSNqInMdIDxhsAyMIv8AckgJpyRAEARzng1ezW6KvK0rMUBmnye57+VfDF2vdGALA19q2+6wFfNwJIYmCm2A5myhUtAYx46duQ2Cdfd1DX9o1T3pxi4ZiDu9UBBiAGWg10X3UjgH1kdhNVyaiuyAKYnZRUaPNzj/LgBw4EVdXk5X+eYuQ6gJ0wgIMbAIjfZY309TxxRTYILr5jEMAuqtrwhm7LtCMIAXiwDkBf3PwzAFkHelRDuaI/Akhiqr1V1xAe69lQ/juAv8+APHzKkXXligIA1mNABiPtrZpuv6kOutp1gfxtAWQCZe0fY8Bes8Gop+E7kwRCAFazgCpgkvIm1I5SmHNvdQWA+NTqb1lAXtijHzijMIBCoA44SDWOn8ZPamdpUxRN1wAkAju7v9UBUi8m9SBnFAaQC1aCjOE2u7SJq5iKDWsAssGyTkrFzZWgUq8x7qGqnFEYgN0L2AK+guN4wO1nVHm03w0BEFsvKqt98Gub9wJVDoUDyq7OaAVA30S0Xem+Dw9ldmwbDZnuEgWfl5cAKuaa3CG1YTd42O4GufFLmogzWgGwD3go9f1Y4hbQZbdJcEiV5OAr7U2WAC4Dz6i9job2vKyBZhCAXNOXt0oB+iPdURiAPRFqGkfmgbnxHmoyJfD9o0q0MWwtAGQBvFfqDO8m+r8/EWrJiZCw0YzcURhA6ExQZsKIl7TtKMDogswAVn+5nbQ7gxCAIUSHzerCVLmjMIDQqbAYPjXBcWTznD3hFQCCSXRUHEwatQMAZkJ12DXlgDunIWEAolfBX0tI6RcsAHJi4DvJAqFrvtcWc8SvFwMABnJf4JZ57tBpyBqAtTtDFZOxXi9uZKROaVPLwTQo1+CtfdyhO0MhAKE7Q/spGEZZWXeOxLejvDtH4ttR0qHTkK2ojwcq0urgk4qyEi6dhmxB6Wa0YyAAZ34asRUB8F35ZcBWxDuGKKuIJypWrFixYsX6B/oFRYsi2zOzWJcAAAAASUVORK5CYII=").then(t=>{"done"===this.EOt?s.b2(t):this.bOt.xOt=t}).catch(t=>console.warn("Failed to load splash image: ",t)),this.s3t("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAABABAMAAACekdKMAAAAMFBMVEUAAAByfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYZyfYYgo7vbAAAAD3RSTlMAdxHdu4hmVZnuRMwzqiLYE4y2AAAFw0lEQVR42u2Yy+9LQRTHp6Xq0VIkXkFvwkYslAWJiGJj2a6sJJe/oF3YWGElEQmxkYi4ErFWNpatWFmIx9Lm1sJCLKgqraqv82h726l6hOuRzDf53TtnOr+ZOZ+ZOffca5ycnJycnJycnJycnJycnJz+pi7g2G9osxjvzX8qB8ABcAAcgH8XwDa85dspNOiaRDuAR4U0PnHtDuyy7IJRJS6gvVmL6TywVkp4ZxIhulUxFvlaXQTrgEHbnMDH5XRjlXCdb+uAnc2ojWgFFTYBZ8e9tzcaswAk6v/3K4sPfPNRFj87IXj+KXQUS9m2jXoH1lMuLq2DtEcAtNMBT9PjanFq7ySAhbABVEAaeDaAwkk2D7GRqctAMQJIq2sBauLnB/VxCfqKpWrbRhSC1W5SMQ9RTgBUwKpF1ccmAIQ2gCxE+20Au9nSESvDgeIDkJSBMpA9vgyXdsj0H0GORL3n2fbwPOKoSQS4Q2cBOGzSJbQYAHDbZEI+rEuBcyZRlF71fIP/x0wBuIBOw6xH3xu2GQFAP2cegmvSwHkeqBZjECzB46UXD3bg8UKJCT6QYzgDY9uiU7hC11doERq6MAZ2CPJ7ipEulOrteDcB4KOZBpBG7zrV1JGzATzmIdnrl/go3bRiBJBHlZc+6ItjuQQ+yFLz8Gka2LZFRVTFGdoQJQ0LPodHnXkS8AjlRWkBLwKQswAs0PDzGpcsAAMNuG+5WgdqxwjgEcp8qcBjN5oZdPhEvOfhU/hsbJuVloWV6WWgp2IBLxXQNEwLDfKqoMXrEQBjATiFA3qePlgAZJRl+EStdaAQjfgALOC1zfeX8ALV+7S69JdALWjxHGqztmxyMnTD6OOBWvAdGDkn60c6vrI5H4CPnOJsWQDe8G0hIU0MB8ojFx+AFAeqeitLy5FkL3w0yNNcSOx3oDxjjxaH9XxldZluY5NBfwrAQvQbRjQXAO8UqVq5dh6A7HCgWzgdFwBdgOX4lMZbTndkWWkDN07Bk+zItllLdHm1+FkLwBSADNDf8B0AnGOp5gFYgJEexwcgGQx4iyeD9ybFkWsbDZbv0+2Y8XvGtqMpWsUimpMAzA1AUrj5ALjm2wCoONKB+ACYsEeDlU04MMs4imeJQqljslSuD4xl/zgAsx6ku/8DgDwaO9AwFU56qhzOPiXpKCzCpSSdb8v+CQDmXshb99cARAPFCOA1chWaFXlP55yn2FqEgiFvOSzYtmiJzisKB7MxQPS8iO63YsD3AHDv8QPgjR92eKuf9vts1wdZjvZhN4XajD35FNDiR7ln0LYBaILY+OZT4DsA+BkTP4AUrgXkxSJcDFps+72X7EGlx6mBbU/lAbdQjvKA7hSAlSuHxdw0gORsHrAUnXkAUuj+AQAZdHGRp9bShX2ECz1JRSk4zNhRJqj5SZQJfpgCUNS2eRsAP/usTDAxPxFKA834AZgAOM1z6qGgxxpdmUDQNjP25LtAsojxu0AehSkAF6RLXWR/EkAdVYEevQtswVtpMwuAB1JGh2jbxQcgBKrig/qSxTD6o2Nm7fttSY6uUnErV+jb4CJyaArAI5luJkCDOy5HAPISSB5A3wYbhJERahvtPALAAw2EI9Vzsh2TTuk23qEceN9d4vVVv227hNroe0CRi/o9IKTZTQFIAc/M8jwGEiouG2/042u8u25uAuPvAavRH7XhzqcBpICdRpssRa+aNLFoh2JeyBzU08fih/ht20WZXghW34s+/ZQnAKhzojsSH4CC/sjARPKamLXacOfTAIwfNSkCbROLluG9Tm2gdl3PY178tu2SBIpFQ6fHH//2GAvAogCkjtGDEAFQYPsu6DdBqw11bgFIF8dNHsQGIEFRSDOe0RS9YYJk23JMrw+/Cr9bFX0VXmNsACbhA088qXhBrMYAlq8Gjhh//FX4YNSGO7cASO9n9B99AuHk5OTk5OTk5OTk5OTk5OTk5OT0VX0B7+fX+9cwWYYAAAAASUVORK5CYII=").then(t=>{"done"===this.EOt?s.b2(t):this.bOt.IOt=t}).catch(t=>console.warn("Failed to load splash image: ",t)))}async t3t(t){t=new URL(t,this.cf.i3t()).toString();const s=await v.Co(t),i=await this.cf.e3t(s,2048,2048);return this.RS().gD(i,{gb:"high"})}async s3t(t){t=new URL(t,this.cf.i3t()).toString();const s=await v.Co(t);return this.RS().gD(s,{gb:"high"})}h3t(){this.cf.pf("runtime","hide-cordova-splash")}n3t(){this.yOt=Date.now(),this.cf.Qf().addEventListener("loadingprogress",this.SOt),this.MOt=requestAnimationFrame(()=>this.r3t());const t=this.cf.o3t();3!==t&&this.h3t()}async a3t(){const t=this.RS(),s=(this.wOt=1,this.cf.o3t());4===s&&await this.DOt,this.AOt=null,this.DOt=null,-1!==this.MOt&&(cancelAnimationFrame(this.MOt),this.MOt=-1),this.cf.Qf().removeEventListener("loadingprogress",this.SOt),this.SOt=null,this.TOt&&(this.TOt.ln(),this.TOt=null),this.cf.u3t(),t.rD(),this.bOt.vOt&&(t.b2(this.bOt.vOt),this.bOt.vOt=null),this.bOt.xOt&&(t.b2(this.bOt.xOt),this.bOt.xOt=null),this.bOt.IOt&&(t.b2(this.bOt.IOt),this.bOt.IOt=null),t.nD(0,0,0,0),t.oS(),this.EOt="done",this.eOt=t.uS(),3===s&&this.h3t()}r3t(){if(-1!==this.MOt){const t=this.RS(),s=(t.rD(),this.MOt=-1,this.cf.xO().XQ()),i=this.cf.o3t();if(3!==i&&(this.ORt(t),t.nD(0,0,0,0),t.DA(),t.kM(),t.LA(null)),0===i)this.l3t(s);else if(1===i)this.c3t(s,120,0);else if(2===i)this.f3t(s);else if(3===i)v.kr();else{if(4!==i)throw new Error("invalid loader style");this.d3t(s)}t.oS(),this.MOt=requestAnimationFrame(()=>this.r3t())}}f3t(t){t?this.TOt.UC(1,0,0):this.TOt.UC(.6,.6,.6),this.TOt.mf(Math.round(100*this.wOt)+"%");const s=this.LLt/2,i=this.OLt/2,e=(Oa.ul(s-150,i-100,150+s,100+i),this.RS());e.LA(this.TOt.E2()),e.Nw(Oa,this.TOt.E_())}c3t(t,s,i){const e=this.RS(),h=(e.WM(),t?e.EA(1,0,0,1):e.EA(.118,.565,1,1),this.LLt/2),n=this.OLt/2,r=s/2;x.gu(h-r,n-4+i,Math.floor(s*this.wOt),8),e.Rect(x),x.gu(h-r,n-4+i,s,8),x.offset(-.5,-.5),x.ku(.5,.5),e.EA(0,0,0,1),e.kw(x),x.ku(1,1),e.EA(1,1,1,1),e.kw(x)}l3t(t){const s=this.RS(),i=this.cf.$Rt();if(i){const e=i.E2();if(e){const h=e.lm(),n=e.xm(),r=this.LLt/2,o=this.OLt/2,a=h/2,u=n/2;Oa.ul(r-a,o-u,r+a,o+u),s.LA(e),s.tl(Oa),this.c3t(t,h,16+u)}else this.c3t(t,120,0)}else this.c3t(t,120,0)}d3t(t){let s=this.RS(),i=this.bOt.vOt,e=this.bOt.xOt,h=this.bOt.IOt,n=Date.now(),r=(0===this.GOt&&(this.yOt=n),this.cf.p3t()||this.cf.m3t()&&!this.cf.g3t()),o=r?0:200,a=r?0:3e3,u=1,l=("fade-in"===this.EOt?u=Math.min((n-this.yOt)/300,1):"fade-out"===this.EOt&&(u=Math.max(1-(n-this._Ot)/300,0)),s.WM(),s.EA(.231*u,.251*u,.271*u,u),x.set(0,0,this.LLt,this.OLt),s.Rect(x),Math.ceil(this.LLt)),c=Math.ceil(this.OLt),f,d;256<this.OLt?(s.EA(.302*u,.334*u,.365*u,u),f=l,d=Math.max(.005*c,2),x.gu(0,.8*c-d/2,f,d),s.Rect(x),t?s.EA(u,0,0,u):s.EA(.161*u,.953*u,.816*u,u),f=l*this.wOt,x.gu(.5*l-f/2,.8*c-d/2,f,d),s.Rect(x),s.EA(u,u,u,u),s.kM(),e&&(f=1.5*v.gn(.22*c,105,.6*l),d=f/8,x.gu(.5*l-f/2,.2*c-d/2,f,d),s.LA(e),s.Rect(x)),i&&(f=Math.min(.395*c,.95*l),d=f,x.gu(.5*l-f/2,.485*c-d/2,f,d),s.LA(i),s.Rect(x)),h&&(f=1.5*v.gn(.22*c,105,.6*l),d=f/8,x.gu(.5*l-f/2,.868*c-d/2,f,d),s.LA(h),s.Rect(x))):(s.EA(.302*u,.334*u,.365*u,u),f=l,d=Math.max(.005*c,2),x.gu(0,.85*c-d/2,f,d),s.Rect(x),t?s.EA(u,0,0,u):s.EA(.161*u,.953*u,.816*u,u),f=l*this.wOt,x.gu(.5*l-f/2,.85*c-d/2,f,d),s.Rect(x),s.EA(u,u,u,u),s.kM(),i&&(f=.55*c,d=f,x.gu(.5*l-f/2,.45*c-d/2,f,d),s.LA(i),s.Rect(x))),this.GOt++,"fade-in"===this.EOt&&300<=n-this.yOt&&2<=this.GOt&&(this.EOt="wait",this.COt=n),"wait"===this.EOt&&n-this.COt>=a&&1<=this.wOt&&(this.EOt="fade-out",this._Ot=n),("fade-out"===this.EOt&&n-this._Ot>=300+o||r&&1<=this.wOt&&n-this.yOt<500)&&this.AOt()}}}{let U=self.js,W=self.C3Debugger,i={messagePort:null,runtimeBaseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,exportType:""},r=!0;U.y3t=class extends U.rn{constructor(t){t=Object.assign({},i,t),super(),this.M3t=t.messagePort,this.w3t=t.runtimeBaseUrl,this.S3t=t.previewUrl,this.T3t=!!t.headless,this.b3t=!!t.hasDom,this.v3t=!!t.isInWorker,r=t.ife,this.x3t=!!t.useAudio,this.I3t=t.exportType,this.G3t=t.isNWjs,this.$W=!!t.isiOSCordova,this.C3t=!!t.isiOSWebView,this._3t=!!t.isWindowsWebView2,this.E3t=!!t.isAnyWebView2Wrapper,this.A3t=!!t.isFBInstantAvailable,this.D3t=!("preview"!==this.I3t||!t.isDebug),this.N3t=this.D3t,this.L3t=this.D3t,this.O3t=0,this.R3t=[],this.P3t=[],this.k3t=!1,this.F3t="",this.j3t="",this.z3t="",this.B3t="",this.U3t=0,this.W3t=0,this.XN=self.devicePixelRatio,this.Q3t=0,this.Y3t=0,this.J3t=0,this.V3t=0,this.H3t=0,this.q3t=!1,this.jg=!0,this.X3t=!1,this.Z3t=!1,this.K3t=!1,this.$3t=null,this.cY=U.un(U.qW,this,t),this.c7=U.un(U.Dq,this),this.Gft=U.un(U.v0t,this),this.t4t=U.un(U.J4,this,t.wrapperComponentIds),this.s4t=U.un(U.wNt,this),this.l$=U.un(U.Kq,this),this.i4t=U.un(U.dut,this),this.e4t=U.un(U.gut,this),this.Aut=U.un(U.xut,this),this.Og=U.un(U.bg,{Ig:t=>this.h4t(t),Cg:t=>this.n4t(t)}),this.r4t=new Map,this.o4t=[],this.a4t=new Map,this.u4t=new Map,this.l4t=0,this.c4t=[],this.f4t=new Set,this.d4t=[],this.p4t=[],this.m4t=new Map,this.g4t=!1,this.y4t=!1,this.M4t=0,this.w4t=0,this.S4t=new Map,this.T4t=new Set,this.b4t=new Set,this.v4t=[],this.x4t=[],this.I4t=null,this.G4t=!1,this.C4t="vsync",this.vb="trilinear",this._4t=!1,this.E4t=!0,this.A4t=!1,this.D4t=!1,this.N4t=null,this.L4t={O4t:t=>{this.MOt=-1,this.R4t=-1,this.bZ(t)},P4t:t=>{this.R4t=-1,this.bZ(t,!1,"skip-render")},k4t:()=>{this.MOt=-1,this.yL()}},this.MOt=-1,this.R4t=-1,this.F4t=0,this.j4t=0,this.z4t=!1,this.B4t=!1,this.U4t=!1,this.W4t=!0,this.Q4t=!0,this.Y4t=!1,this.J4t=0,this.V4t=new U.g1(1),this.H4t=()=>Math.random(),this.q4t=0,this.X4t=0,this.Z4t=0,this.K4t=0,this.$4t=0,this.a_t=1,this.tPt=1/30,this.sPt=0,this.iPt=U.un(U.I0),this.ePt=U.un(U.I0),this.hPt=U.un(U.I0),this.nPt=new Map,this.rPt=-1,this.oPt=0,this.aPt=0,this.uPt=-1,this.lPt=0,this.cPt=0,this.fPt=0,this.dPt=!1,this.pPt="",this.mPt=!1,this.gPt="",this.Cj=null,this.yPt="",this.MPt=null,this.wPt=null,this.fGt=U.un(U.Event.Qf),this.SPt=new Map,this.TPt=new Map,this.bPt=0,this.vPt=!1,this.xPt=!1,this.IPt=!1,this.GPt=[],this.CPt={pretick:U.un(U.Event,"pretick",!1),tick:U.un(U.Event,"tick",!1),tick2:U.un(U.Event,"tick2",!1),instancecreate:U.un(U.Event,"instancecreate",!1),instancedestroy:U.un(U.Event,"instancedestroy",!1),beforelayoutchange:U.un(U.Event,"beforelayoutchange",!1),layoutchange:U.un(U.Event,"layoutchange",!1)},this.CPt.instancecreate.bz=null,this.CPt.instancedestroy.bz=null,this.U7=U.un(U.Event.Qf),this._Pt=null;const s=(t,s)=>U.r_t.WDt(this,t,s);this.EPt=U.un(U.O0,s),this.APt=U.un(U.O0,s),this.DPt=U.un(U.O0,s),this.NPt=U.un(U.LPt,this,t.jobScheduler),t.canvas&&(this.I4t=U.un(U.bLt,this)),this.M3t.onmessage=t=>this._OnMessageFromDOM(t.data),this.gj("runtime","visibilitychange",t=>this.OPt(t)),this.gj("runtime","wrapper-extension-message",t=>this.RPt(t)),this.gj("runtime","opus-decode",t=>this.X3(t.arrayBuffer)),this.gj("runtime","get-remote-preview-status-info",()=>this.PPt()),this.gj("runtime","js-invoke-function",t=>this.Z0t(t)),this.gj("runtime","go-to-last-error-script",self.goToLastErrorScript),this.gj("runtime","offline-audio-render-completed",t=>this.kPt(t)),this.fGt.addEventListener("window-blur",t=>this.FPt(t)),this.fGt.addEventListener("window-focus",()=>this.jPt()),this.l$.NX(),this.e4t.NX(),this.zPt=null,this.BPt=new WeakMap,this.UPt={keyboard:null,i3:null,e3:null,h3:null},this.WPt=new WeakMap,this.QPt=[]}static X2(t){return U.un(U.y3t,t)}ln(){U.Br(this.o4t),this.a4t.clear(),this.u4t.clear(),this.c7.ln(),this.c7=null,this.Gft.ln(),this.Gft=null,this.t4t.ln(),this.t4t=null,this.cY.ln(),this.cY=null,this.s4t.ln(),this.s4t=null,this.l$.ln(),this.l$=null,this.i4t.ln(),this.i4t=null,this.e4t.ln(),this.e4t=null,this.Aut.ln(),this.Aut=null,this.Og.ln(),this.Og=null,this.I4t&&(this.I4t.ln(),this.I4t=null),this.fGt.ln(),this.fGt=null,this.YPt=null}["_OnMessageFromDOM"](t){const s=t.type;if("event"===s)this.JPt(t);else{if("result"!==s)throw new Error(`unknown message '${s}'`);this.VPt(t)}}JPt(t){if(this.IPt){const s=t.component,i=t.handler,e=t.data,h=t.dispatchOpts,n=!(!h||!h.dispatchRuntimeEvent),r=!(!h||!h.dispatchUserScriptEvent),o=t.responseId;if("runtime"===s){if(n){const u=new U.Event(i);u.data=e,this.fGt.t0(u)}if(r){const l=new U.Event(i,!0);for(const[c,f]of Object.entries(e))l[c]=f;this.Cq(l)}}const a=this.SPt.get(s);if(a){const d=a.get(i);if(d){let t=null;try{t=d(e)}catch(t){return console.error(`Exception in '${s}' handler '${i}':`,t),void(null!==o&&this.HPt(o,!1,""+t))}null!==o&&(t&&t.then?t.then(t=>this.HPt(o,!0,t)).catch(t=>{console.error(`Rejection from '${s}' handler '${i}':`,t),this.HPt(o,!1,""+t)}):this.HPt(o,!0,t))}else n||r||console.warn(`[Runtime] No DOM handler '${i}' for component '${s}'`)}else n||r||console.warn(`[Runtime] No DOM event handlers for component '${s}'`)}else this.GPt.push(t)}HPt(t,s,i){this.M3t.postMessage({type:"result",responseId:t,isOk:s,result:i})}VPt(t){const s=t.responseId,i=t.isOk,e=t.result,h=this.TPt.get(s);i?h.resolve(e):h.reject(e),this.TPt.delete(s)}gj(t,s,i){let e=this.SPt.get(t);if(e||(e=new Map,this.SPt.set(t,e)),e.has(s))throw new Error(`[Runtime] Component '${t}' already has handler '${s}'`);e.set(s,i)}pf(t,s,i,e){this.M3t.postMessage({type:"event",component:t,handler:s,data:i,responseId:null},e)}x3(t,s,i,e){const h=this.bPt++,n=new Promise((t,s)=>{this.TPt.set(h,{resolve:t,reject:s})});return this.M3t.postMessage({type:"event",component:t,handler:s,data:i,responseId:h},e),n}d6(t,s,i,e=-1){this.pf("runtime","send-wrapper-extension-message",{componentId:t,messageId:s,params:i,asyncId:e})}p6(t,s,i){const e=this.bPt++,h=new Promise((t,s)=>{this.TPt.set(e,{resolve:t,reject:s})});return this.d6(t,s,i,e),h}RPt(t){if(-1!==t.asyncId){const s=t.asyncId,i=this.TPt.get(s);i.resolve(t.params),this.TPt.delete(s)}else this.JPt({component:"wrapper-extension:"+t.componentId,handler:t.messageId,data:t.params,responseId:null})}Dj(t,s,i){this.gj("wrapper-extension:"+t,s,i)}Ej(t){return this.t4t.Ej(t)}qPt(t){if(!this._q())throw new Error("not in debug mode");this.pf("runtime","post-to-debugger",t)}async c_t(t){U.zSt(this),this._q()?await W.c_t(this):self.C3Debugger&&self.C3Debugger.InitPreview(this);const[s]=await Promise.all([this.cY.Go("data.json"),this.XPt(),this.NPt.c_t()]);if(await this.ZPt(s),await this.KPt(t),this.p3t()||console.info("%cMade with Construct, the game and animation creation tool. Visit: https://www.construct.net","font-weight: bold"),this.DRt()){const i=this.DRt();console.info(`[C3 runtime] Hosted in ${this.RO()?"worker":"DOM"}, rendering with WebGL ${i.Db()} [${i.kD()}]`)}else this.NRt()&&console.info(`[C3 runtime] Hosted in ${this.RO()?"worker":"DOM"}, rendering with WebGPU [${this.NRt().GetAdapterInfoString()}]`);this.RS().pS()&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance."),this.IPt=!0;for(const e of this.GPt)this.JPt(e);U.Br(this.GPt),this.I4t&&this.I4t.n3t();for(const h of t.runOnStartupFunctions)this.R3t.push(this.$Pt(h));if(await Promise.all([this.cY.HQ(),...this.R3t]),U.Br(this.R3t),!this.cY.XQ())return this.I4t&&await this.I4t.a3t(),await this.fGt.Kf(new U.Event("beforeruntimestart")),await this.rD(),this.M3t.postMessage({type:"runtime-ready"}),this;this.I4t&&this.I4t.h3t()}async $Pt(t){try{await t(this.zPt)}catch(t){console.error("[C3 runtime] Error in runOnStartup function: ",t)}}async ZPt(t){const s=t.project,i=(this.F3t=s[0],this.j3t=s[16],this.z3t=s[31],this.B3t=s[38],s[39]||"loading-logo.png"),e=(this._4t=!!s[9],this.U3t=this.J3t=s[10],this.W3t=this.V3t=s[11],this.s4t.nLt(this.U3t,this.W3t),this.Q3t=this.U3t/2,this.Y3t=this.W3t/2,this.C4t=s[37],this.G4t=!!s[40],this.vb=s[14],this.X3t=s[15],this.Z3t=s[42],this.K3t=s[17],this.q3t=!!s[18],this.H3t=s[19],this.w4t=s[21],this.A4t=s[22],this.cY);if(e.IQ(s[45]),e.sY(s[7],s[25]),e.CQ(s[8]),e._Q(s[32]),e.AQ(s[28]),e.KQ(s[29]),0===this.H3t){let t;(t="flat"===e.Y3()?e.DQ()+i:i)&&(this.$3t=e.BQ({url:t}))}this.I4t&&(this.I4t.bRt(U.bLt.CRt(s[12])),this.I4t.IRt(s[23]?"high":"low"),this.I4t.cS(0!==s[24]),this.I4t.NOt(s[34]),this.I4t._Rt(s[41]),this.I4t.LOt(s[13]),this.I4t.OOt(s[30]),this.I4t.kOt(s[46],s[47]),this.I4t.POt(s[26]),this.I4t.FOt(s[48]));const h=s[43],n=(h&&await this.tkt(h),this.skt(),this.t4t.$xt(),this.v4t=self.ikt(),s[2]);for(const u of n[1])this.t4t.tIt(u);for(const l of n[0])this.t4t.Kxt(l);this.v4t=self.ikt(),this.ekt(),this.t4t.hIt();for(const c of s[3]){const f=U.Tut.X2(this,this.o4t.length,c);this.o4t.push(f),this.a4t.set(f.tf().toLowerCase(),f),this.u4t.set(f.BV(),f)}for(const d of s[4]){const p=this.o4t[d[0]];p.XGt(d)}for(const m of s[27]){const g=m.map(t=>this.o4t[t]);this.c4t.push(U.un(U.qCt,this,g))}this.hkt();for(const y of this.o4t)y.KGt();for(const M of s[5])this.c7.X2(M);const r=s[1];if(r){const w=this.c7.Uq(r);w&&this.c7.zq(w)}for(const S of s[35])this.i4t.X2(S);for(const T of s[33])this.l$.X2(T);for(const b of s[44])this.e4t.X2(b);this.e4t.wut()||(this.e4t.ln(),this.e4t=null);for(const v of s[49])this.Aut.X2(v);this.Aut._ut()||(this.Aut.ln(),this.Aut=null);for(const x of s[6])this.Gft.X2(x);this.Gft.t1t(),this.nkt(),U.Br(this.v4t),this.WP();let o="any",a=s[20];1===a?o="portrait":2===a&&(o="landscape"),this.pf("runtime","set-target-orientation",{targetOrientation:o})}async tkt(t){const s=t.format;"image-sequence"===s?this.N4t=new self.C3ExportToImageSequence(this,t):"image-sequence-gif"===s?this.N4t=new self.C3ExportToGIF(this,t):"webm"===s?this.N4t=new self.C3ExportToWebMVideo(this,t):"mp4"===s&&(this.N4t=new self.C3ExportToMP4Video(this,t)),this.C4t="unlimited-frame",this.I4t.bRt("off"),this.XN=1,self.devicePixelRatio=1,await this.x3("runtime","set-exporting-to-video",{message:this.N4t.GetExportingMessageForPercent(0),duration:this.N4t.Xz()})}o3t(){return this.H3t}nRt(){return null!==this.N4t}rkt(){return this.N4t.Xz()}okt(){return this.N4t.GetFramerate()}akt(){return this.N4t.c_t({width:this.I4t.P4(),height:this.I4t.j4()})}ukt(){const t=this.F4t/this.okt();return this.N4t.AddFrame(this.I4t.SRt(),t)}lkt(){this.N4t&&this.N4t.wit()}kPt(t){this.N4t.OnOfflineAudioRenderCompleted(t)}ckt(){return this.N4t.oS()}m3t(){return this.A3t}Qg(){return this.jg}_3(t){this.R3t.push(t)}N9(t){this.k3t=!!t}fkt(t){this.k3t&&this.P3t.push(t)}F9(){return this.P3t}WGt(){return this.l4t++}tCt(){return this.l4t}KDt(t){this.f4t.add(t)}$Dt(t){this.f4t.delete(t)}hRt(){return this.f4t}async KPt(t){this.I4t&&(await this.I4t.Oo(t),this.I4t.KRt(this.H3t))}async XPt(){const h=this.cY;if(!h.D3("audio/webm; codecs=opus")){let t=null,s=h.GQ(),i=s+"opus.wasm.js",e=s+"opus.wasm.wasm";try{t=this.dkt()&&h.NQ()?await h.OQ(e):await h._o(e)}catch(t){return void console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",t)}this.pkt(t,"opus-decoder-wasm"),await this.mkt([i])}}async X3(t){const s=await this.gkt("OpusDecode",{arrayBuffer:t},[t]);return s}async rD(){this.z4t=!0,this.q4t=Date.now();let s=null,t=new Promise(t=>s=t);if(this.q3t){for(const h of this.o4t)h.LV()||h.uCt()||!h.Z4()||h.Z2t();(async()=>{await this.cY.HQ(),await t,this.jg=!1,this.ykt()})()}else this.jg=!1;this.cY.qQ(),this._q()&&W.RuntimeInit(r);for(const n of this.c7.ZR())n.eq();this.nRt()&&await this.akt();const i=this.c7.Bq(),e=(await i.g9(null,this.RS()),await i.G9(!0),this.oPt=performance.now(),s(),this.q3t||this.ykt(),await this.x3("runtime","before-start-ticking"));e.isSuspended&&!this.nRt()?(this.J4t++,this.Y4t=!0):this.bZ()}ykt(){this.fj(U.q9.H9.V9.Mkt,null,null),this.pf("runtime","register-sw")}ryt(t){t=Math.floor(t);const s=this.v4t;if(t<0||t>=s.length)throw new Error("invalid object reference");return s[t]}ekt(){for(const t of self.wkt){const s=U.first(Object.keys(t));this.x4t.push(s)}}x1t(t){t=Math.floor(t);const s=this.x4t;if(t<0||t>=s.length)throw new Error("invalid prop reference");return s[t]}Skt(){return this.b3t}Tkt(){return this.T3t}RO(){return this.v3t}i3t(){return this.w3t}bkt(){return this.S3t}ZO(){return this.Gft}lR(){return this.Gft.lR()}p1t(){return this.Gft.p1t()}eR(){return this.Gft.eR()}m1t(){return this.Gft.m1t()}FSt(){return 0===this.p1t().Yft()}y1t(){return this.Gft.y1t()}BDt(){return this.t4t}eMt(){return this.t4t.eMt()}uV(t){if((t=Math.floor(t))<0||t>=this.o4t.length)throw new RangeError("invalid index");return this.o4t[t]}vkt(t){return this.a4t.get(t.toLowerCase())||null}v6(t){return this.u4t.get(t)||null}Fht(t){const s=U.J4.fP(t);return s?s.gP():null}NV(){return this.o4t}*xkt(){for(const t of this.o4t)t.LV()||(yield*t.instances())}Qf(){return this.fGt}VO(){return this.U7}Cq(t){t.runtime=this.V4();const s=this._q()&&!this.Gft.BP();s&&W.StartMeasuringScriptTime(),this.U7.dispatchEvent(t),s&&W.AddScriptTime()}Q9(t){return t.runtime=this.V4(),this.U7.Kf(t)}kO(){return this.U3t}jO(){return this.W3t}Ikt(t,s){if(this.U3t!==t||this.W3t!==s){this.U3t=t,this.W3t=s;const i=this.VR();i.Xq(),i.Zq()}}l8(){return this.J3t}c8(){return this.V3t}MRt(t,s){if(this.J3t!==t||this.V3t!==s){this.J3t=t,this.V3t=s;const i=this.VR();i.Xq(),i.Zq()}}rRt(t){this.nRt()||(this.XN=t)}z4(){return this.XN}aH(){return this.Q3t}uH(){return this.Y3t}_4(){return this.I4t}mH(){return this.I4t?this.I4t.mH():this.J3t}gH(){return this.I4t?this.I4t.gH():this.V3t}xF(){return this.I4t?this.I4t.xF():1}QU(){return this.I4t?this.I4t.QU():1}qH(){return this.I4t?this.I4t.qH():1}VH(){return this.I4t?this.I4t.VH():1}mF(){return this.I4t?this.I4t.mF():0}gF(){return this.I4t?this.I4t.gF():0}Gkt(){return this.I4t?this.I4t.N4():0}Ckt(){return this.I4t?this.I4t.O4():0}UU(){return this.I4t?this.I4t.UU():"off"}GH(t){return this.I4t?this.I4t.GH(t):null}HJ(t){this.I4t&&this.I4t.HJ(t)}xH(){return this.X3t}tRt(){return this.Z3t}sRt(){return this.K3t}LR(){return this.I4t?this.I4t.LR():NaN}D2(){return"nearest"!==this.zO()}RR(){return this.C4t}PR(t){this.C4t!==t&&(this.C4t=t,-1!==this.MOt||-1!==this.R4t)&&(this._kt(),this.Ekt())}zO(){return this.vb}VGt(){return this.q3t}$Rt(){return this.$3t}u3t(){this.$3t&&(this.$3t.SC(),this.$3t.ln(),this.$3t=null)}VR(){return this.c7}QR(){return this.c7.QR()}H$(){return this.l$}Akt(){return this.i4t}B_t(){return this.e4t}Zut(){return this.Aut}xO(){return this.cY}BQ(t){return this.cY.BQ(t)}kP(t,s,i,e,h,n){if(n&&this.e4t){if(t instanceof U.Tut&&t.LV()){const o=t.Wmt(),a=Math.floor(this.WR()*o.length);return this.kP(o[a],s,i,e,h,n)}const r=this.e4t.Sut(t,n);if(r){const u=this.MV(r,s,!1,i,e,!1,h,void 0,h);return this.e4t.but(u,n),u}}return this.MV(t,s,!1,i,e,!1,h,void 0,h)}MV(t,s,i,e,h,n,r,o,a){let u=null,l=null;if(t instanceof U.Tut){if((l=t).LV()){const S=l.Wmt(),T=Math.floor(this.WR()*S.length);l=S[T]}u=l.cV()}else u=t,l=this.uV(u[1]);const c=l.TP().Z4();if(this.jg&&c&&!l.uCt())return null;const f=s;c||(s=null);let d;d=i&&!n&&u&&!this.S4t.has(u[2])?u[2]:this.w4t++;const p=u?u[0]:null,m=U.un(U.Instance,{runtime:this,GF:l,zj:s,l_t:p,p_t:u?u[3]:null,uid:d,tags:u?u[6]:null});this.S4t.set(d,m);let g=null,y=(c&&(g=m.m3(),void 0!==e&&void 0!==h&&(g.dT(e),g.gT(h)),l.kCt(!0)),s&&(a||s.SV(m,!0),s.HR().M9(l)),this.M4t++,!0);if(o){const b=o.CF();if(b.jF()&&l.jF()){const v=l.p9(),x=b.p9();v===x&&(y=!1)}}if(l.jF()&&!i&&!n&&y){const I=new Set;for(const G of l.p9().tq())if(G!==l){const C=this.Dkt(G,g,I);if(C){const _=this.MV(C,f,!1,g?g.fT():e,g?g.mT():h,!0,!1,void 0,a);m.sq(_)}else{const F=this.MV(G,f,!1,g?g.fT():e,g?g.mT():h,!0,!1,void 0,a);m.sq(F)}}for(const E of m.zF()){E.sq(m);for(const A of m.zF())E!==A&&E.sq(A)}}if(c&&!i&&r&&this.Nkt(m,p,g,s,e,h,a),l.jF()&&!i&&!n&&r)for(const D of m.zF()){const N=D.m3();if(N){const j=D.TP(),L=D.CF().cV()[0];j.Z4()?this.Nkt(D,L,N,s,N.fT(),N.mT(),a):this.Nkt(D,L,N,s,void 0,void 0,a)}}if(!n&&r){void 0===e&&(e=p[0]),void 0===h&&(h=p[1]);const O=g.y5(),z=e-g.fT()+O.fT(),B=h-g.mT()+O.mT();O.Uj(z,B)}l.NCt();const P=u?U.$r(u[5]):null,k=u?u[4].map(t=>U.$r(t)):null,M=c&&p&&p[13];if(M&&m.S_t(),m.oCt(P,k),M){const R=p[13];m.cz().pvt(R[2],R[0],R[1])}this.p4t.push(m),this.g4t=!0,this._q()&&W.InstanceCreated(m);const w=this.CPt.instancecreate;return w.bz=m,this.fGt.dispatchEvent(w),m}FEt(t){const s=t[0],i=t[1],e=t[2],h=t[6];if(h)return h;const n=this.c7.Wq(s),r=n.g3(i);return r.pV(e)}Dkt(t,s,i){const e=s?.z_t()??[];for(const h of e){const n=this.FEt(h),r=!!h[4],o=this.uV(n[1]);if(!i.has(n)&&t===o&&r)return i.add(n),n}}Nkt(a,t,s,u,l,c,f){const i=s.nDt(),e=s.z_t();if(a.m3().rDt(i),e){void 0===l&&(l=t[0]),void 0===c&&(c=t[1]);const d=new Set,p=t[0],m=t[1];for(const g of e){let t=g[0],s=g[1],i=g[2],e=g[3],h=!!g[4],n=g[5],r=g[6],o;if(r)o=r;else{const S=this.c7.Wq(t),T=S.g3(s);o=T.pV(i)}const y=this.uV(o[1]),M=a.U_t(y),w=d.has(y);if(M&&!w&&h){const b=a.W_t(y),v=(b.m3().c_t(o[0]),l+o[0][0]-p),x=c+o[0][1]-m;b.m3().Uj(v,x),b.m3().rDt(n),a.I5(b,{A5:!!(e>>0&1),N5:!!(e>>1&1),O5:!!(e>>2&1),P5:!!(e>>3&1),F5:!!(e>>4&1),J5:!!(e>>5&1),z5:!!(e>>6&1),U5:!!(e>>7&1),Q5:!!(e>>8&1)}),d.add(y)}else{const I=l+o[0][0]-p,G=c+o[0][1]-m,C=this.MV(o,u,!1,I,G,!1,!0,a,f);C.m3().rDt(n),a.I5(C,{A5:!!(e>>0&1),N5:!!(e>>1&1),O5:!!(e>>2&1),P5:!!(e>>3&1),F5:!!(e>>4&1),J5:!!(e>>5&1),z5:!!(e>>6&1),U5:!!(e>>7&1),Q5:!!(e>>8&1)})}}}}OF(i){if(!this.T4t.has(i)){let t=i.CF(),s=this.m4t.get(t);if(s){if(s.has(i))return;s.add(i)}else(s=new Set).add(i),this.m4t.set(t,s);if(this._q()&&W.InstanceDestroyed(i),i.b_t(),this.g4t=!0,i.jF())for(const e of i.zF())this.OF(e);for(const h of i.children())h.V5()&&this.OF(h);if(!this.c7.UP()&&!this.dPt){const n=this.ZO();n.jP(!0),i.$_t(),n.jP(!1)}i.tEt(this.c7.UP())}}WP(){this.g4t&&(this.y4t=!0,this.Lkt(),this.Okt(),this.y4t=!1,this.g4t=!1,this.b3())}Lkt(){for(const t of this.p4t){const s=t.CF();s.SV(t);for(const i of s.D1t())i.SV(t),i.NCt()}U.Br(this.p4t)}Okt(){this.fGt.kf(!0);for(const[t,s]of this.m4t.entries())this.Rkt(t,s),s.clear();this.m4t.clear(),this.fGt.kf(!1)}Rkt(t,s){for(const i of s){const e=this.CPt.instancedestroy,h=(e.bz=i,this.fGt.dispatchEvent(e),this.S4t.delete(i.BF()),this.nPt.delete(i),i.m3());h&&(h.uDt(),h.xV(),h.b_t()),this.T4t.add(i),this.M4t--}U.Xr(t.NP(),s),t.NCt(),this.b4t.add(t);for(const n of t.D1t())U.Xr(n.NP(),s),n.NCt(),this.b4t.add(n);if(t.TP().Z4()){const r=new Set([...s].map(t=>t.m3().g3()));for(const o of r)o.k8(s)}}OCt(){return this.p4t}*UTt(t){for(const s of this.OCt())t.LV()?s.CF().jSt(t)&&(yield s):s.CF()===t&&(yield s)}rCt(){return this.w4t++}aCt(t,s){this.S4t.set(t,s)}M6(t){this.Q4t!==(t=!!t)&&(this.Q4t=!!t,this.Q4t)&&this.Y4t&&(this.T6(!1),this.Y4t=!1)}w6(){return this.Q4t}I9(){this.fGt.dispatchEvent(U.un(U.Event,"renderercontextlost")),this.T6(!0);for(const s of this.o4t)!s.LV()&&s.lCt()&&s.v9();const t=this.QR();t&&t.I9(),U.oIt.vY(),U.WQ.vY()}async ARt(){await this.QR().g9(null,this.RS()),this.fGt.dispatchEvent(U.un(U.Event,"renderercontextrestored")),this.T6(!1),this.b3()}OPt(t){if(this.Q4t){const s=t.hidden;this.T6(s),(this.Y4t=s)||this.b3()}}FPt(t){this.p3t()&&this.A4t&&!U.ci.Ti&&!t.data.parentHasFocus&&(this.T6(!0),this.D4t=!0)}jPt(){this.D4t&&(this.T6(!1),this.D4t=!1)}Ekt(){const t=this.L4t;"vsync"===this.C4t?-1===this.MOt&&(this.MOt=self.requestAnimationFrame(t.O4t)):"unlimited-tick"===this.C4t?(-1===this.R4t&&(this.R4t=U.po(t.P4t)),-1===this.MOt&&(this.MOt=self.requestAnimationFrame(t.k4t))):-1===this.R4t&&(this.R4t=U.po(t.O4t))}_kt(){-1!==this.MOt&&(self.cancelAnimationFrame(this.MOt),this.MOt=-1),-1!==this.R4t&&(U.mo(this.R4t),this.R4t=-1)}yR(){return 0<this.J4t}T6(t){if(!this.nRt()){const s=this.yR(),i=(this.J4t+=t?1:-1,this.J4t<0&&(this.J4t=0),this.yR());if(!s&&i)console.log("[Construct] Suspending"),this._kt(),this.fGt.dispatchEvent(U.un(U.Event,"suspend")),this.fj(U.q9.H9.V9.Pkt,null,null);else if(s&&!i){console.log("[Construct] Resuming");const e=performance.now();this.X4t=e,this.oPt=e,this.rPt=0,this.aPt=0,this.uPt=0,this.lPt=0,this.fPt=0,this.cPt=0,this.fGt.dispatchEvent(U.un(U.Event,"resume")),this.fj(U.q9.H9.V9.kkt,null,null),this.edt()||this.bZ(e)}}}n6(t){this.EPt.fc(t)}u6(t){this.APt.fc(t)}o6(t){this.DPt.fc(t)}r6(t){this.EPt.v0(t)}l6(t){this.APt.v0(t)}a6(t){this.DPt.v0(t)}Fkt(){const t=globalThis.s6;this.EPt.d1(!0);for(const s of this.EPt)s instanceof t?s.Tj():s.bZ();this.EPt.d1(!1)}jkt(){const t=globalThis.s6;this.APt.d1(!0);for(const s of this.APt)s instanceof t?s.f6():s.Bxt();this.APt.d1(!1)}zkt(){const t=globalThis.s6;this.DPt.d1(!0);for(const s of this.DPt)s instanceof t?s.vj():s.Rvt();this.DPt.d1(!1)}*Bkt(){const s=globalThis.s6;this.EPt.d1(!0);for(const i of this.EPt){let t;t=i instanceof s?i.Tj():i.bZ(),U.Qo(t)&&(yield*t)}this.EPt.d1(!1)}*Ukt(){const s=globalThis.s6;this.APt.d1(!0);for(const i of this.APt){let t;t=i instanceof s?i.f6():i.Bxt(),U.Qo(t)&&(yield*t)}this.APt.d1(!1)}*Wkt(){const s=globalThis.s6;this.DPt.d1(!0);for(const i of this.DPt){let t;t=i instanceof s?i.vj():i.Rvt(),U.Qo(t)&&(yield*t)}this.DPt.d1(!1)}async bZ(a,t,s){this.U4t=!0;const u="background-wake"===s,l="background-wake"!==s&&"skip-render"!==s,c=this.VR(),f=this._4();if(this.z4t&&(!this.yR()||t||u)){let t=performance.now(),s=(this.B4t=!0,this.Qkt(a||0),this.uPt++,this.Ykt(),this.Jkt()),i=(this.PTt()&&await s,this.fGt.$f(this.CPt.pretick)),e=(i instanceof Promise&&await i,this.Vkt()),h=(this.PTt()&&await e,this.Hkt()&&await this.qkt(),c.$R()&&await this.Xkt(),this.Zkt()),n=(this.PTt()&&await h,c.QR()),r=n.u9(),o=!1;if(-1!==r&&(n.l9(),f.a9()!==r)){const d=this._4().A9(r);this.RO()&&(o=!0,await d)}this.pf("canvas","update-html-layer-dom-state",{layersDomState:n.zV().filter(t=>t.Uk()).map(t=>t.Q8())}),l&&this.yL(),o&&this.pf("canvas","cleanup-html-layers"),this.nRt()&&(await this.ukt(),this.bR()>=this.rkt())?this.ckt():(this.yR()||u||this.Ekt(),this.F4t++,this.j4t++,this.B4t=!1,this.cPt+=performance.now()-t)}}async Jkt(){const t=this.Gft,s=this._q();this.WP(),t.jP(!0),this.Y1t(this.QR()),s&&W.StartMeasuringTime(),this.PTt()?await t.xdt():t.wdt(),s&&W.AddEventsTime(),this.J1t(),t.jP(!1),this.WP(),t.jP(!0)}async Vkt(){const t=this._q(),s=this.PTt(),i=this.fGt,e=this.CPt,h=this._Pt;t&&W.StartMeasuringTime(),s?await this.Kkt(this.Bkt()):this.Fkt(),s?await this.Kkt(this.Ukt()):this.jkt(),t&&W.AddBehaviorTickTime(),t&&W.StartMeasuringTime(),s?await this.$kt(e.tick):i.dispatchEvent(e.tick),t&&W.AddPluginTickTime(),this.Gft.jP(!1),this.Cq(h.tick)}async Zkt(){const t=this.Gft,s=this.fGt,i=this.CPt,e=this._q(),h=this.PTt();e&&W.StartMeasuringTime(),h?await t.V1t(this.c7):t.Q1t(this.c7),e&&W.AddEventsTime(),this.s4t.NNt(),this.Ykt(),this.W4t=!1,t.jP(!0),e&&W.StartMeasuringTime(),h?await this.Kkt(this.Wkt()):this.zkt(),e&&W.AddBehaviorTickTime(),e&&W.StartMeasuringTime(),h?await this.$kt(i.tick2):s.dispatchEvent(i.tick2),e&&W.AddPluginTickTime(),t.jP(!1),h&&await t.hdt()}Ykt(){if(0!==this.T4t.size){const t=this.fGt;t.kf(!0);for(const s of this.b4t)s.ddt().ift(this.T4t);this.b4t.clear(),this.Gft.Gdt(this.T4t);for(const i of this.T4t)i.ln();this.T4t.clear(),t.kf(!1)}}async Xkt(){let t=this.VR(),s=0;for(;t.$R()&&s++<10;)await this.tFt(t.qq())}Qkt(t){let s=0;if(this.nRt())s=1/this.okt(),this.Z4t=s,this.K4t=s;else if(0!==this.X4t){const i=Math.max(t-this.X4t,0);.5<(s=i/1e3)&&(s=0),this.Z4t=s,this.K4t=U.gn(s,this.sPt,this.tPt)}this.X4t=t,this.$4t=this.K4t*this.a_t,this.iPt.fc(this.$4t),this.ePt.fc(s*this.a_t),this.hPt.fc(this.K4t);for(const[e,h]of this.nPt)h.fc(this.K4t*e.IR());this.I4t&&this.I4t.URt(),1e3<=t-this.oPt&&(this.oPt+=1e3,1e3<=t-this.oPt&&(this.oPt=t),this.aPt=this.rPt,this.rPt=0,this.lPt=this.uPt,this.uPt=0,this.fPt=Math.min(this.cPt/1e3,1),this.cPt=0,this.I4t&&this.I4t.BRt(),this.s4t._Nt(),this._q())&&W.Update1sPerfStats()}M_t(t,s){if(s){if(!this.nPt.has(t)){const i=U.un(U.I0);i.A0(this.iPt),this.nPt.set(t,i)}}else this.nPt.delete(t)}w_t(t){const s=this.nPt.get(t);return s?s.hi():this.bR()}async tFt(t){const s=this.fGt,i=this.VR(),e=i.QR();await e.nq(),e.x9(t,this.RS()),e===t&&this.Gft.aq(),this.s4t.NNt(),this.Ykt(),s.dispatchEvent(this.CPt.beforelayoutchange),U.jf.i0(!0),await t.g9(e,this.RS()),U.jf.i0(!1),await t.G9(!1),s.dispatchEvent(this.CPt.layoutchange),this.b3(),this.W4t=!0,this.WP(),this.lkt()}b3(){this.E4t=!0}DRt(){return this.I4t?this.I4t.DRt():null}NRt(){return this.I4t?this.I4t.NRt():null}RS(){return this.I4t?this.I4t.RS():null}yL(){const i=this.I4t;if(i&&!i.ERt()){const e=this.RS(),t=e._D(),h=t&&e.mS(),n=t&&e.EM();if(h&&e.pD(),this.E4t||this.nRt()){const r=this.c7.QR(),o=(this.rPt++,e.rD(),this._q());o&&W.StartMeasuringTime(),this.E4t=!1;let t=null,s=(h&&(t=i.YRt().iE(),e.CD(t)),null);n&&(s=e.StartFrameTiming(2*(1+r.i9())),e.StartMeasuringRenderPassTime(0,1)),this.S8()&&"low"===i.IH()?e.wA(i.mH(),i.gH()):e.SA(),this.sFt(this.RS(),r),t&&e.ED(t),n&&(e.StopMeasuringRenderPassTime(),this.I4t.JRt(s)),e.oS(),o&&(W.AddDrawCallsTime(),W.UpdateInspectHighlight()),i&&i.HRt()}else e.lS()}}wq(t){return"low"===this._4().IH()||t.mS()&&(this.xH()||this.S8())}sFt(s,i){s.kM(),s.kA(),s.EA(1,1,1,1),s.MD(null),s.LA(null),s.aD(this.S8()),this.wq(s)&&i.yq(s);const e=i.a9();for(let t=1;t<e;++t)i.vq(s,t),s.EM()&&s.Restart();this.wq(s)||i.yq(s),i.bq(s)}fj(t,s,i){if(!this.z4t)return!1;let e=!this.B4t&&!this.Gft.adt(),h=0;e&&(h=performance.now());const n=this._q(),r=(n&&this.R6(!1),this.Gft.Z1t(this.c7,t,s,i));if(e){const o=performance.now()-h;this.cPt+=o,n&&W.AddTriggersTime(o)}return n&&this.R6(!0),r}vvt(t,s,i){if(!this.PTt())return this.fj(t,s,i);if(this.edt())throw new Error("called DebugTrigger() while stopped on breakpoint");if(this.B4t||this.Gft.adt())return this.Gft.tdt(this.c7,t,s,i);throw new Error("called DebugTrigger() outside of event code - use TriggerAsync() instead")}async pj(t,s,i){if(!this.PTt())return this.fj(t,s,i);if(!this.z4t)return!1;if(this.edt())return this.Gft.sdt(t,s,i);if(!this.QR())return this.Gft.K1t(t,s,i);let e=performance.now(),h=this.Gft.tdt(this.c7,t,s,i),n=h.next();for(;!n.done;)await this.q1t(n.value),n=h.next();return this.yR()||this.Gft.adt()||(await this.Gft.hdt(),this.U4t&&!this.B4t&&this.Ekt()),this.cPt+=performance.now()-e,n.value}xvt(t,s,i){const e=this._q(),h=(e&&this.R6(!1),this.Gft.ndt(this.c7,t,s,i));return e&&this.R6(!0),h}Ivt(t,s,i){return this.Gft.rdt(this.c7,t,s,i)}Gvt(t){return this.V4t.fc(t)}Y1t(t){this.d4t.push(t)}J1t(){if(!this.d4t.length)throw new Error("layout stack empty");this.d4t.pop()}f3(){return this.d4t.length?this.d4t.at(-1):this.QR()}wR(t){return t&&-1!==t.IR()?this.K4t*t.IR():this.$4t}SZ(){return this.$4t}TZ(){return this.K4t}TR(){return this.Z4t}IR(){return this.a_t}GR(t){(isNaN(t)||t<0)&&(t=0),this.a_t=t}jR(t){this.sPt=Math.max(t,0)}FR(){return this.sPt}UR(t){this.tPt=Math.max(t,0)}BR(){return this.tPt}CR(){return this.aPt}ER(){return this.lPt}DR(){return this.fPt}iFt(){return this.q4t}bR(){return this.iPt.hi()}eFt(){return this.ePt.hi()}xR(){return this.hPt.hi()}ytt(){return this.F4t}hFt(){return this.j4t}nFt(){return this.M4t}DO(){return this.F3t}LO(){return this.j3t}rFt(){return this.z3t}oFt(){return this.B3t}a3(t){if(this.dPt)throw new Error("cannot call while loading state - wait until afterload event");return this.S4t.get(t)||null}Z9(){this.S4t.clear();for(const t of this.o4t)if(!t.LV())for(const s of t.NP())this.S4t.set(s.BF(),s)}p3t(){return"preview"===this.I3t}_q(){return this.D3t}x4(){return this.I3t}I4(){return"nwjs"===this.x4()||this.G3t}g3t(){return"cordova"===this.I3t}aFt(){return"Android"===U.ci.fi&&("cordova"===this.I3t||"playable-ad-single-file"===this.I3t||"playable-ad-zip"===this.I3t||"instant-games"===this.I3t)}dkt(){return this.$W}uFt(){return this.C3t}G4(){return this._3t}lFt(){return this.E3t}CO(){return this.s4t}nIt(){return this.t4t.nIt()}rIt(){return this.t4t.rIt()}S8(){return this.G4t}cFt(){return this.RS().MM(this.c8())}mM(t){return this.RS().mM(t||this.c8())}fFt(){return this.W4t}dFt(t){this._4t!==(t=!!t)&&(this._4t=t,this.VR().Zq(),this.b3())}UO(){return this._4t}pFt(t){if(!this.r4t.has(t)){const i=()=>this.mFt(t);this.r4t.set(t,i),t.Qf().addEventListener("animationframeimagechange",i)}const s=this.Og._g(t);return s.Wg()||s.Yg().then(()=>this.b3()),s}mFt(t){this.Og.Ng(t)}h4t(t){const s=[];for(const i of t.bCt())for(const e of i.Uz()){const h=e.qz();s.push({source:e,width:h.lm(),height:h.xm(),tag:e.pB()})}return{Bg:s}}async n4t(t){const s=U.un(U.g1),i=[],h=new Map;for(const r of t.bCt())for(const o of r.Uz()){const a=o.qz().CIt();h.has(a)||(h.set(a,null),i.push(s.fc(async()=>{const t=await a.CY();h.set(a,t)})))}await Promise.all(i);const e=[];for(const u of t.bCt())for(const l of u.Uz())e.push(s.fc(async()=>{const t=l.qz(),s=h.get(t.CIt()),i=await t._It(s),e=await createImageBitmap(i);return{Vg:e}}));const n=await Promise.all(e);for(const c of h.values())c instanceof ImageBitmap&&c.close&&c.close();return{Bg:n}}gFt(t){this.pPt=t,this.mPt=!1}yFt(){this.pPt="",this.mPt=!0}MFt(t){this.gPt=t}Ebt(t){this.Cj=t}wFt(){return this.yPt}Hkt(){return!!(this.pPt||this.mPt||this.gPt||null!==this.Cj)}async qkt(){if(this.pPt&&(this.WP(),await this.SFt(this.pPt),this.TFt()),this.gPt&&(await this.bFt(this.gPt),this.TFt(),this._q())&&W.StepIfPausedInDebugger(),this.mPt){const t=await this.vFt();this.yPt=t,await this.pj(U.q9.H9.V9.xFt,null),this.yPt="",this.TFt()}if(null!==this.Cj){this.WP();try{await this.IFt(this.Cj),this.yPt=this.Cj,await this.pj(U.q9.H9.V9.GFt,null),this.yPt=""}catch(t){console.error("[Construct] Failed to load state from JSON string: ",t),await this.pj(U.q9.H9.V9.CFt,null)}this.TFt()}}TFt(){this.pPt="",this.mPt=!1,this.gPt="",this.Cj=null}U4(){return this.MPt||(this.MPt=localforage.Fi({name:"c3-localstorage-"+this.rFt(),description:this.DO()})),this.MPt}_Ft(){return this.wPt||(this.wPt=localforage.Fi({name:"c3-savegames-"+this.rFt(),description:this.DO()})),this.wPt}async SFt(t){const s=await this.vFt();try{await this._Ft().setItem(t,s),console.log("[Construct] Saved state to storage ("+s.length+" chars)"),this.yPt=s,await this.pj(U.q9.H9.V9.xFt,null),this.yPt=""}catch(t){console.error("[Construct] Failed to save state to storage: ",t),await this.pj(U.q9.H9.V9.EFt,null)}}async bFt(t){try{const s=await this._Ft().getItem(t);if(!s)throw new Error("empty slot");console.log("[Construct] Loaded state from storage ("+s.length+" chars)"),await this.IFt(s),this.yPt=s,await this.pj(U.q9.H9.V9.GFt,null),this.yPt=""}catch(t){console.error("[Construct] Failed to load state from storage: ",t),await this.pj(U.q9.H9.V9.CFt,null)}}async vFt(){const t={c3save:!0,version:1,rt:{time:this.bR(),timeRaw:this.eFt(),walltime:this.xR(),timescale:this.IR(),tickcount:this.ytt(),next_uid:this.w4t,running_layout:this.QR().BV(),start_time_offset:Date.now()-this.q4t},types:{},layouts:{},events:this.Gft.n7(),timelines:this.l$.n7(),user_script_data:null};for(const i of this.o4t)i.LV()||i.QCt()||(t.types[i.BV().toString()]=i.n7());for(const e of this.c7.ZR())t.layouts[e.BV().toString()]=e.n7();const s=this.AFt("save");return s.saveData=null,await this.Q9(s),t.user_script_data=s.saveData,JSON.stringify(t)}j9(){return this.dPt}async IFt(t){const s=this.VR(),i=JSON.parse(t);if(i.c2save)throw new Error("C2 saves are incompatible with C3 runtime");if(!i.c3save)throw new Error("not valid C3 save data");if(1<i.version)throw new Error("C3 save data from future version");this.Abt(),this.fGt.dispatchEvent(U.un(U.Event,"beforeload"));for(const a of this.xkt()){const u=a.CF();u.QCt()||a.xX()}let e=i.rt,h=(this.iPt.Set(e.time),e.hasOwnProperty("timeRaw")&&this.ePt.Set(e.timeRaw),this.hPt.Set(e.walltime),this.a_t=e.timescale,this.F4t=e.tickcount,this.q4t=Date.now()-e.start_time_offset,e.running_layout),n=!(this.dPt=!0);if(h!==this.QR().BV()){const l=s.Wq(h);if(!l)return;await this.tFt(l),n=!0}for(const[c,f]of Object.entries(i.layouts)){const d=parseInt(c,10),p=s.Wq(d);p&&p.r7(f)}const r=new Set;for(const[m,g]of Object.entries(i.types)){const y=parseInt(m,10),M=this.v6(y);!M||M.LV()||M.QCt()||M.r7(g,r)}for(const w of this.c7.ZR())for(const S of w.lk())S.o7();if(this.WP(),this.Z9(),this.dPt=!1,n){for(const T of this.xkt())T.z9();for(const[b,v]of Object.entries(i.types)){const x=parseInt(b,10),I=this.v6(x);!I||I.LV()||I.QCt()||I.VCt(v)}}this.w4t=e.next_uid,this.Gft.r7(i.events);for(const G of this.o4t)if(!G.LV()&&G.jF())for(const C of G.NP()){const _=C.K9();for(const E of G.p9().tq())if(E!==G){const A=E.NP();if(_<0||_>=A.length)throw new Error("missing sibling instance");C.sq(A[_])}}this.l$.r7(i.timelines),s.Xq(),s.Zq();for(const D of r)D.K_t();this.Dbt(),this.fGt.dispatchEvent(U.un(U.Event,"afterload")),this.Cq(this.AFt("afterload"));for(const[N,L]of Object.entries(i.types)){const O=parseInt(N,10),R=this.v6(O);R&&R.JCt()}const o=this.AFt("load");o.saveData=i.user_script_data,await this.Q9(o),this.b3()}DFt(t,s){return t.m3().tDt()-s.m3().tDt()}zDt(t,s){t.m3()&&!this.WPt.has(t)&&(this.WPt.set(t,s),this.QPt.push(t))}Abt(){this.WPt=new WeakMap,U.Br(this.QPt)}Dbt(t="full",s=null){this.QPt.sort(this.DFt);for(const i of this.QPt)i.GX(this.WPt.get(i),t,s);for(const e of this.QPt)e.eEt(this.WPt.get(e),t,s);this.Abt()}async mkt(t){const s=await Promise.all(t.map(async t=>{const s=this.g3t()&&this.cY.NQ();if(s||"playable-ad-single-file"===this.x4()){const i=await this.cY.Co(t);return URL.createObjectURL(i)}return new URL(t,location.href).toString()}));this.NPt.NFt(s)}LFt(t,s){this.NPt.OFt(t,s)}pkt(t,s){this.NPt.RFt(t,s)}gkt(t,s,i,e){return this.NPt.gkt(t,s,i,null,null,e)}PFt(t,s,i,e){return this.NPt.PFt(t,s,i,e)}kFt(){return this.NPt.FFt()}r3(t,s){this.pf("runtime","invoke-download",{url:t,filename:s})}async e3t(t,s,i,e,h,n){if(e=e||s,h=h||i,this.RO()){const r=await this.x3("runtime","raster-svg-image",{blob:t,imageWidth:s,imageHeight:i,surfaceWidth:e,surfaceHeight:h,imageBitmapOpts:n});return r.imageBitmap}{const o=await self.C3_RasterSvgImageBlob(t,s,i,e,h);return n?self.createImageBitmap(o,n):o}}async jFt(t){return this.RO()?this.x3("runtime","get-svg-image-size",{blob:t}):self.C3_GetSvgImageSize(t)}zFt(){this.vPt||(this.vPt=!0,this.pf("runtime","enable-device-orientation"))}BFt(){this.xPt||(this.xPt=!0,this.pf("runtime","enable-device-motion"))}WR(){return this.H4t()}UFt(t){this.H4t=t}PPt(){const t=this.RS();return{fps:this.CR(),tps:this.ER(),cpu:this.DR(),gpu:this.LR(),layout:this.QR()?this.QR().tf():"",renderer:t.mS()?t.kD():t.GetAdapterInfoString()}}edt(){return!!this._q()&&W.edt()}q1t(t){return this.PTt()?W.q1t(t):Promise.resolve()}Dgt(){return!!this.PTt()&&W.BreakNext()}WFt(t){this.N3t=!!t,this.QFt()}YFt(){return this.N3t}PTt(){return this.L3t}R6(t){t?this.O3t--:this.O3t++,this.QFt()}QFt(){this.L3t=this._q()&&this.N3t&&0===this.O3t}qpt(){return this._q()&&W.qpt()}SH(){return this._q()&&this.RS()._D()&&W.SH()}async Kkt(t){if(t)for(const s of t)await this.q1t(s)}$kt(t){return this.Kkt(this.fGt.s0(t))}Z0t(t){return this.Gft.Z0t(t.name,t.params)}G3(t){if(this.RO())throw new Error("not supported in worker mode");return self.c3_runtimeInterface._GetHTMLWrapElement(t)}V4(){return this.zPt}AFt(t){const s=U.un(U.Event,t,!1);return s.runtime=this.zPt,s}skt(){this.zPt=new self.TO(this),this._Pt={tick:this.AFt("tick")}}hkt(){const t={};for(const s of this.o4t)t[s.x1t()]={value:s.mP(),enumerable:!0,writable:!1};this.zPt.HO(t)}nkt(){const t={};for(const s of this.ZO().N1t())t[s.x1t()]=s.I1t();this.zPt.qO(t)}s3(){return this.UPt}bP(t,s){this.BPt.set(t,s)}dk(t){return this.BPt.get(t)}g4(t){if(!(t instanceof self.wP))throw new TypeError("expected IObjectClass");const s=this.dk(t);if(s&&s instanceof U.Tut)return s;throw new Error("invalid IObjectClass")}EP(t){if(!(t instanceof self.IF))throw new TypeError("expected IInstance");const s=this.dk(t);if(s&&s instanceof U.Instance)return s;throw new Error("invalid IInstance")}d3(t){if(!(t instanceof self.rz))throw new TypeError("expected IWorldInstance");const s=this.dk(t);if(s&&s instanceof U.Instance)return s;throw new Error("invalid IInstance")}},self.C3_CreateRuntime=U.y3t.X2,self.C3_InitRuntime=(t,s)=>t.c_t(s)}{const Ra=self.js;Ra.LPt=class extends Ra.rn{constructor(t,s){super(),this.cf=t,this.JFt=new Map,this.VFt=0,this.HFt=s.inputPort,s.outputPort.onmessage=t=>this.qFt(t),this.XFt=s.maxNumWorkers,this.ZFt=1,this.KFt=!1,this.$Ft=!1}async c_t(){}FFt(){return this.XFt}NFt(t){this.HFt.postMessage({type:"_import_scripts",scripts:t})}OFt(t,s){this.HFt.postMessage({type:"_send_blob",blob:t,id:s})}RFt(t,s){this.HFt.postMessage({type:"_send_buffer",buffer:t,id:s},[t])}gkt(t,s,i,e,h,n){if(i=i||[],"number"==typeof n&&(n=Math.floor(n))<=0)throw new Error("invalid maxWorkerNum");const r=this.VFt++,o={type:t,isBroadcast:!1,maxWorkerNum:n,jobId:r,params:s,transferables:i},a=new Promise((t,s)=>{this.JFt.set(r,{resolve:t,progress:e,reject:s,tjt:!1,maxWorkerNum:n})});return h&&h.T0(()=>this.sjt(r)),this.HFt.postMessage(o,i),this.ijt(),a}PFt(t,s,i,e){if(i=i||[],"number"==typeof e&&(e=Math.floor(e))<=0)throw new Error("invalid maxWorkerNum");const h=this.VFt++,n={type:t,isBroadcast:!0,maxWorkerNum:e,jobId:h,params:s,transferables:i};this.HFt.postMessage(n,i)}sjt(t){const s=this.JFt.get(t);s&&(s.tjt=!0,s.resolve=null,s.progress=null,s.reject=null,this.HFt.postMessage({type:"_cancel",jobId:t}))}qFt(t){const s=t.data,i=s.type,e=s.jobId;switch(i){case"result":this.ejt(e,s.result);break;case"progress":this.hjt(e,s.progress);break;case"error":this.njt(e,s.error);break;case"ready":this.rjt();break;default:throw new Error(`unknown message from worker '${i}'`)}}ejt(t,s){const i=this.JFt.get(t);if(!i)throw new Error("invalid job ID");i.tjt||i.resolve(s),this.JFt.delete(t)}hjt(t,s){const i=this.JFt.get(t);if(!i)throw new Error("invalid job ID");!i.tjt&&i.progress&&i.progress(s)}njt(t,s){const i=this.JFt.get(t);if(!i)throw new Error("invalid job ID");i.tjt||i.reject(s),this.JFt.delete(t)}rjt(){this.KFt&&(this.KFt=!1,this.ZFt++,this.ZFt<this.XFt?this.ijt():this.HFt.postMessage({type:"_no_more_workers"}))}ojt(){let t=0,s=[...this.JFt.values()].sort((t,s)=>{const i=t.maxWorkerNum||1/0,e=s.maxWorkerNum||1/0;return i-e});for(const i of s){const e=i.maxWorkerNum||1/0;t<e&&t++}return t}async ijt(){if(!(this.ZFt>=this.XFt||this.KFt||this.$Ft||this.ojt()<=this.ZFt))try{this.KFt=!0;const t=await this.cf.x3("runtime","create-job-worker");t.outputPort.onmessage=t=>this.qFt(t)}catch(t){this.$Ft=!0,this.KFt=!1,console.error(`[Construct] Failed to create job worker; stopping creating any more (created ${this.ZFt} so far)`,t)}}}}self.C3_Shaders={};{let w=function(t,s){const i=t[1],e=s[1];if("number"==typeof i&&"number"==typeof e)return i-e;{const h=""+i,n=""+e;return h<n?-1:n<h?1:0}},S=(w,self.js),i=null,e="",h="",n=[],r="",o="",a="",T=S.un(S.b0t);S.q9.H9=class extends S._2t{constructor(t){super(t),this.y0t=this.cf.ZO().L6(),this.eft=this.cf.ZO().lR(),this.ajt=0,this.ujt=0,this.ljt=new Map}ln(){super.ln()}b3(){this.cf.b3()}fj(t){this.cf.fj(t,null,null)}cjt(t,s){return i&&t===e&&s===h||(i=new RegExp(t,s),e=t,h=s),i.lastIndex=0,i}fjt(t,s,i){if(t!==r||s!==o||i!==a){const e=this.cjt(s,i);n=t.match(e),r=t,o=s,a=i}return n}async djt(t,s){if(s.length){this.ajt+=s.length;const i=[];for(const e of s)i.push(t.M9(e));await S.co(i,()=>{this.ujt++}),this.ujt++,this.ujt===this.ajt&&(this.ujt=0,this.ajt=0,this.cf.fj(S.q9.H9.V9.pjt,null,null))}}mjt(t,s){for(const i of s)0===i.RP()&&t.b9(i)}gjt(){return T}yjt(s){const i=this.cf.ZO(),t=i.lR(),e=t.D6(),h=e.eR(),n=h.A6(),r=e.e0t(),o=t.N6(h),a=i.L6(),u=a.N6();if(u.S0t(s),r)for(let t=0;t<s&&!u.U6();++t)i.k6(n),u.z6(t),h.F6(e,o),i.j6(n);else for(let t=0;t<s&&!u.U6();++t)u.z6(t),h.F6(e,o);return t.W6(),a.W6(),!1}*Mjt(s){const i=this.cf.ZO(),t=i.lR(),e=t.D6(),h=e.eR(),n=h.A6(),r=e.e0t(),o=t.N6(h),a=i.L6(),u=a.N6();if(u.S0t(s),r)for(let t=0;t<s&&!u.U6();++t)i.k6(n),u.z6(t),yield*h.Ugt(e,o),i.j6(n);else for(let t=0;t<s&&!u.U6();++t)u.z6(t),yield*h.Ugt(e,o);return t.W6(),a.W6(),!1}wjt(){const s=this.cf.ZO(),t=s.lR(),i=t.D6(),e=i.eR(),h=e.A6(),n=i.e0t(),r=t.N6(e),o=s.L6(),a=o.N6();if(n)for(let t=0;!a.U6();++t)s.k6(h),a.z6(t),e.F6(i,r)||a.yB(),s.j6(h);else for(let t=0;!a.U6();++t)a.z6(t),e.F6(i,r)||a.yB();return t.W6(),o.W6(),!1}*Sjt(){const s=this.cf.ZO(),t=s.lR(),i=t.D6(),e=i.eR(),h=e.A6(),n=i.e0t(),r=t.N6(e),o=s.L6(),a=o.N6();if(n)for(let t=0;!a.U6();++t){s.k6(h),a.z6(t);const u=yield*e.Ugt(i,r);u||a.yB(),s.j6(h)}else for(let t=0;!a.U6();++t){a.z6(t);const l=yield*e.Ugt(i,r);l||a.yB()}return t.W6(),o.W6(),!1}Tjt(t,s,i){const e=this.cf.ZO(),h=e.lR(),n=h.D6(),r=n.eR(),o=r.A6(),a=n.e0t(),u=h.N6(r),l=e.L6(),c=l.N6();if(c.O6(t),c.S0t(i),i<s)if(a)for(let t=s;t>=i&&!c.U6();--t)e.k6(o),c.z6(t),r.F6(n,u),e.j6(o);else for(let t=s;t>=i&&!c.U6();--t)c.z6(t),r.F6(n,u);else if(a)for(let t=s;t<=i&&!c.U6();++t)e.k6(o),c.z6(t),r.F6(n,u),e.j6(o);else for(let t=s;t<=i&&!c.U6();++t)c.z6(t),r.F6(n,u);return h.W6(),l.W6(),!1}*bjt(t,s,i){const e=this.cf.ZO(),h=e.lR(),n=h.D6(),r=n.eR(),o=r.A6(),a=n.e0t(),u=h.N6(r),l=e.L6(),c=l.N6();if(c.O6(t),c.S0t(i),i<s)if(a)for(let t=s;t>=i&&!c.U6();--t)e.k6(o),c.z6(t),yield*r.Ugt(n,u),e.j6(o);else for(let t=s;t>=i&&!c.U6();--t)c.z6(t),yield*r.Ugt(n,u);else if(a)for(let t=s;t<=i&&!c.U6();++t)e.k6(o),c.z6(t),yield*r.Ugt(n,u),e.j6(o);else for(let t=s;t<=i&&!c.U6();++t)c.z6(t),yield*r.Ugt(n,u);return h.W6(),l.W6(),!1}vjt(i){const t=i.LP(),s=t.NP();if(0!==s.length){const e=this.cf.ZO(),h=e.lR(),n=h.D6(),r=n.eR(),o=r.A6(),a=n.e0t(),u=h.N6(r),l=e.L6(),c=l.N6(),f=i.jF(),d=T.N6();if(S.Yr(d,s),c.S0t(d.length),a)for(let t=0,s=d.length;t<s&&!c.U6();++t){e.k6(o);const p=d[t];i.LP().yft(p),f&&p.smt(),c.z6(t),r.F6(n,u),e.j6(o)}else{t.pft(!1);const m=t.mft();S.Br(m),m.push(null);for(let t=0,s=d.length;t<s&&!c.U6();++t){const g=d[t];m[0]=g,f&&g.smt(),c.z6(t),r.F6(n,u)}}h.W6(),l.W6(),S.Br(d),T.W6()}return!1}*xjt(i){const t=i.LP(),s=t.NP();if(0!==s.length){const e=this.cf.ZO(),h=e.lR(),n=h.D6(),r=n.eR(),o=r.A6(),a=n.e0t(),u=h.N6(r),l=e.L6(),c=l.N6(),f=i.jF(),d=T.N6();if(S.Yr(d,s),c.S0t(d.length),a)for(let t=0,s=d.length;t<s&&!c.U6();++t){e.k6(o);const p=d[t];i.LP().yft(p),f&&p.smt(),c.z6(t),yield*r.Ugt(n,u),e.j6(o)}else{t.pft(!1);const m=t.mft();S.Br(m),m.push(null);for(let t=0,s=d.length;t<s&&!c.U6();++t){const g=d[t];m[0]=g,f&&g.smt(),c.z6(t),yield*r.Ugt(n,u)}}h.W6(),l.W6(),S.Br(d),T.W6()}return!1}Ijt(i,t){const s=i.LP(),e=s.NP();if(0!==e.length){const h=this.cf.ZO(),n=h.lR(),r=h.m1t(),o=n.D6(),a=o.eR(),u=a.A6(),l=o.e0t(),c=n.N6(a),f=h.L6(),d=f.N6(),p=i.jF(),m=T.N6();S.Br(m),d.S0t(e.length);for(let t=0,s=e.length;t<s;++t)m.push([e[t],r.eSt(1,t)]);if(m.sort(w),1===t&&m.reverse(),l)for(let t=0,s=m.length;t<s&&!d.U6();++t){h.k6(u);const g=m[t][0];i.LP().yft(g),p&&g.smt(),d.z6(t),a.F6(o,c),h.j6(u)}else{s.pft(!1);const y=s.mft();S.Br(y),y.push(null);for(let t=0,s=m.length;t<s&&!d.U6();++t){const M=m[t][0];y[0]=M,p&&M.smt(),d.z6(t),a.F6(o,c)}}n.W6(),f.W6(),S.Br(m),T.W6()}return!1}*Gjt(i,t){const s=i.LP(),e=s.NP();if(0!==e.length){const h=this.cf.ZO(),n=h.lR(),r=h.m1t(),o=n.D6(),a=o.eR(),u=a.A6(),l=o.e0t(),c=n.N6(a),f=h.L6(),d=f.N6(),p=i.jF(),m=T.N6();S.Br(m),d.S0t(e.length);for(let t=0,s=e.length;t<s;++t)m.push([e[t],r.eSt(1,t)]);if(m.sort(w),1===t&&m.reverse(),l)for(let t=0,s=m.length;t<s&&!d.U6();++t){h.k6(u);const g=m[t][0];i.LP().yft(g),p&&g.smt(),d.z6(t),yield*a.Ugt(o,c),h.j6(u)}else{s.pft(!1);const y=s.mft();S.Br(y),y.push(null);for(let t=0,s=m.length;t<s&&!d.U6();++t){const M=m[t][0];y[0]=M,p&&M.smt(),d.z6(t),yield*a.Ugt(o,c)}}n.W6(),f.W6(),S.Br(m),T.W6()}return!1}Cjt(t,s){let i=this.ljt.get(t);if(!i){if(!s)return null;i={_jt:null,Ejt:new Map},this.ljt.set(t,i)}return i}Ajt(t,s,i,e,h){s.sR().hyt(i,s.rR()),e&&t.j6(h)}*Djt(t,s,i,e,h){yield*s.sR().nyt(i,s.rR()),e&&t.j6(h)}}}{const Pa=self.js;Pa.q9.H9.QGt=class extends Pa.rn{constructor(t){super(),this.Hct=t,this.cf=t.P3(),this.dvt=t.TP()}Z2t(){}ln(){this.Hct=null,this.cf=null,this.dvt=null}}}{const ka=self.js;ka.q9.H9.Instance=class extends ka.rn{constructor(t,s){super(),this.Gi=t,this.Hct=this.Gi.CF(),this.wvt=this.Hct.OSt(),this.cf=this.Gi.P3()}ln(){this.Gi=null,this.Hct=null,this.wvt=null,this.cf=null}}}{const I=self.js,Fa=[];I.q9.H9.V9={Njt(){return!0},J9(){return!0},rq(){return!0},Pkt(){return!0},kkt(){return!0},yR(){return this.cf.yR()},jmt(){const t=this.cf.p1t();return!t.Kft()&&!t.Xft()},Ljt(){let t=this.cf.m1t(),s=t.Qwt(),i=s.get("TriggerOnce_lastTick");void 0===i&&(i=-1,s.set("TriggerOnce_lastTick",-1));const e=this.cf.ytt();return s.set("TriggerOnce_lastTick",e),this.cf.fFt()||i!==e-1},Ojt(t){const s=this.cf.m1t(),i=s.Qwt(),e=i.get("Every_lastTime")||0,h=this.cf.bR(),n=(i.has("Every_seconds")||i.set("Every_seconds",t),i.get("Every_seconds"));return e+n<=h?(i.set("Every_lastTime",e+n),h>=i.get("Every_lastTime")+.04&&i.set("Every_lastTime",h),i.set("Every_seconds",t),!0):(h<e-.1&&i.set("Every_lastTime",h),!1)},spt(t){const s=this.cf.ZO().P1t(t);return s&&s.spt()},p3t(){return this.cf.p3t()},Ti(){return I.ci.Ti},Mkt(){return!0},Rjt(){return!0},Pjt(){return!0},xFt(){return!0},EFt(){return!0},GFt(){return!0},CFt(){return!0},kjt(t){return!!this.cf.a3(t)},Fjt(t){switch(t){case 0:return"browser"===I.ci.wi;case 1:return"iOS"===I.ci.fi;case 2:return"Android"===I.ci.fi;case 8:return"cordova"===I.ci.wi;case 9:return"scirra-arcade"===this.cf.x4();case 10:return"nwjs"===I.ci.wi;case 13:return"windows-uwp"===this.cf.x4();default:return!1}},jjt(t,s,i){const e=this.cjt(s,i);return e.test(t)},zjt(t,s,i){return I.compare(t,s,i)},Bjt(t,s,i){return s<=t&&t<=i},Ujt(t,s,i){return I.compare(t.uet(),s,i)},Wjt(t){return!!t.uet()},Qjt(t,s){const i=this.cf.bR();if(0!==t)return I.compare(i,t,s);{const e=this.cf.m1t(),h=e.Qwt();return!h.get("CompareTime_executed")&&s<=i&&(h.set("CompareTime_executed",!0),!0)}},Yjt(t){return isNaN(t)},Zbt(t,s,i){return I.vn(I.Mn(t),I.Mn(i))<=I.Mn(s)},Kbt(t,s){return I.In(I.Mn(t),I.Mn(s))},lTt(t,s,i){let e=I.Mn(t),h=I.Mn(s),n=I.Mn(i),r=!I.In(n,h);return r?!(!I.In(e,h)&&I.In(e,n)):I.In(e,h)&&!I.In(e,n)},Jjt(t,s){return"number"==typeof t?0===s:1===s},Vjt(t){return!!t},Ldt(t){return t.toLowerCase()===this.cf.ZO().kdt()},Hjt(t,i,e,h){if(!t)return!1;let s=this.gjt(),n=s.N6(),r=t.LP(),o=(I.Yr(n,r.NP()),r.oft()&&I.Br(r.gft()),this.cf.m1t()),a=0;for(let t=0,s=n.length;t<s;++t){const l=n[t];n[a]=l,i=o.eSt(1,t),h=o.eSt(3,t),I.compare(i,e,h)?++a:r.dft(l)}I.zr(n,a),r.Mft(n);const u=!!n.length;return I.Br(n),s.W6(),t.Zgt(),u},qjt(t,s){if(!t)return!1;let i=this.gjt(),e=i.N6(),h=t.LP(),n=(I.Yr(e,h.NP()),h.oft()&&I.Br(h.gft()),this.cf.m1t()),r=0;for(let t=0,s=e.length;t<s;++t){const a=e[t];e[r]=a,n.eSt(1,t)?++r:h.dft(a)}I.zr(e,r),h.Mft(e);const o=!!e.length;return I.Br(e),i.W6(),t.Zgt(),o},Xjt(t,i,e){if(!t)return!1;const s=t.LP(),h=s.NP();if(0===h.length)return!1;let n=this.cf.m1t(),r=null,o=0;for(let t=0,s=h.length;t<s;++t){const a=h[t];e=n.eSt(2,t),(null===r||0===i&&e<o||1===i&&e>o)&&(o=e,r=a)}return s.vft(r),t.Zgt(),!0},Zjt(t,s){if(!t)return!1;const i=t.LP(),e=i.NP();if((s=Math.floor(s))>=e.length)return!1;const h=e[s];return i.vft(h),t.Zgt(),!0},Kjt(t){if(!t)return!1;const s=t.LP(),i=s.NP(),e=Math.floor(this.cf.WR()*i.length);if(e>=i.length)return!1;const h=i[e];return s.vft(h),t.Zgt(),!0},$jt(t){if(!t)return!1;if(!t.RP())return!1;const s=t.LP();return s.pft(!0),t.Zgt(),!0},t5t(t,i,e){if(!t)return!1;const h=t.LP(),s=h.NP(),n=this.cf.eR(),r=n.xft(),o=this.cf.m1t().jwt();h.oft()?(I.Yr(Fa,s),h.rft(),h.pft(!1)):r?(I.Yr(Fa,h.gft()),I.Br(h.gft())):(I.Yr(Fa,h.mft()),I.Br(h.mft()));for(let t=0,s=Fa.length;t<s;++t){const a=Fa[t];I.xor(a.m3().p5(i,e),o)?h.fft(a):h.dft(a)}return t.Zgt(),I.xor(!!h.mft().length,o)},s5t(s){if(!s)return!1;let i=s.LV(),e=null,h=this.cf.OCt();for(let t=h.length-1;0<=t;--t){const n=h[t];if(i){if(n.CF().jSt(s)){e=n;break}}else if(n.CF()===s){e=n;break}}if(!e){const r=s.NP();r.length&&(e=r.at(-1))}if(!e)return!1;const t=s.LP();return t.vft(e),s.Zgt(),!0},i5t(t){return this.cf.PTt()?this.Mjt(t):this.yjt(t)},e5t(){return this.cf.PTt()?this.Sjt():this.wjt()},h5t(t,s,i){return this.cf.PTt()?this.bjt(t,s,i):this.Tjt(t,s,i)},m1(t){return this.cf.PTt()?this.xjt(t):this.vjt(t)},n5t(t,s,i){return this.cf.PTt()?this.Gjt(t,i):this.Ijt(t,i)},r5t(t){return!!t&&t.Fk()},o5t(t){return!!t&&t.Yk()},a5t(t){return!!t&&t.Uk()},u5t(t){return!!t&&!t.RP()},l5t(t,s,i){return!!t&&I.compare(100*t._A(),s,i)},c5t(t){const s=this.cf.QR();return!!s&&s.e9(t)},pjt(){return!0},f5t(){return 0<this.ajt},d5t(t,s){const i=this.cf.B_t();return!!i&&!!s&&!!i.Sut(t,s)}}}{let m=function(t,s){const i=t[0],e=s[0],h=i-e;if(0!=h)return h;const n=t[1],r=s[1];return n-r},g=function(t,s){return t[1]-s[1]};m,g;const ja=self.js,za=[],Ba=[],Ua=ja.un(ja.Rect),Wa=ja.un(ja.Jo),Qa=[];ja.q9.H9.jht={p5t(t,s){t.Vet(s)},m5t(t,s){t.ge()&&"number"!=typeof s&&(s=parseFloat(s)),t.Vet(t.uet()+s)},g5t(t,s){t.ge()&&t.Vet(t.uet()-s)},y5t(t,s){t.Vet(!!s)},M5t(t){t.Vet(!t.uet())},w5t(t){t.Vet(t.d1t())},S5t(t){this.cf.ZO().O1t(t)},T5t(t,s,i,e,h,n){if(t&&s){const r=this.cf.kP(t,s,i,e,h,n);if(r){h&&s.FP(r);const o=this.cf.ZO(),a=(o.jP(!0),r.zP(),o.jP(!1),new Map);r.N_t(a,t,h);for(const[u,l]of a)u.LP().wft(l)}}},b5t(t,s,i,e,h,n){if(t&&s){const r=this.cf.vkt(t);r&&ja.q9.H9.jht.T5t.call(this,r,s,i,e,h,n)}},DV(h,n,r,o,a,t,u,l,c,f,d){if(h){let s=this.cf.f3(),i=s;if(t){const p=this.cf.VR().Uq(t);if(!p)return;i=p}let e=null;if(!("number"!=typeof u||0<=u)||(e=i.g3(u))){let t=null;if(!("number"!=typeof l||0<=l)||(t=s.g3(l))){Ua.set(n,r,o,a);const m=i.DV(h,Ua,e,t,c,f,d);h.LP().Mft(m),h.Zgt()}}}},v5t(){const t=this.y0t;t.d0t()&&t.c0t().yB()},ipt(t,s){const i=this.cf.ZO().P1t(t);i&&(0===s?i.ipt(!1):1===s?i.ipt(!0):i.ipt(!i.spt()))},x5t(t){this.cf.GR(t)},I5t(t,s){if(s<0&&(s=0),t){const i=t.LP(),e=i.NP();for(const h of e)h.GR(s)}},G5t(t){if(t){const s=t.LP(),i=s.NP();for(const e of i)e.JF()}},Rr(t){if(!(t<0))return this.cf.ZO().gdt().T2t(t),!0},mR(t){return this.cf.ZO().gdt().b2t(t),!0},C5t(){const t=this.cf.ZO();return t.gdt().v2t(t.Ndt()),!0},dR(t){this.cf.ZO().dR(t)},async VRt(t,s,i,e,h,n){const r=this.cf._4();r&&(this.b3(),await r.VRt(0===t?"image/png":"image/jpeg",s/100,i,e,h,n),await this.cf.pj(ja.q9.H9.V9.Rjt,null))},_5t(t,s){if(!(t<=0||s<=0)){this.cf.MRt(t,s),this.cf.f3().ZH();const i=this.cf._4();i&&("off"!==i.cRt()&&this.cf.Ikt(t,s),i.KC(i.EU(),i.AU(),!0),this.cf.b3())}},E5t(t){const s=this.cf._4();s&&"off"!==s.cRt()&&(s.IRt(0!==t?"high":"low"),s.KC(s.EU(),s.AU(),!0))},Git(t){this.cf.gFt(t)},A5t(){this.cf.yFt()},D5t(t){this.cf.MFt(t)},N5t(t){this.cf.Ebt(t)},L5t(t){},O5t(){for(const t of this.cf.VR().ZR())t.gq()},R5t(t){this.cf.dFt(0!==t)},P5t(t,s){this.cf.UR(1/t),this.cf.jR(1/s)},k5t(t,s){this.cf.jR(t),this.cf.UR(s)},F5t(t){this.cf.PR(["vsync","unlimited-tick","unlimited-frame"][t])},j5t(t,i){if(t){const s=t.LP(),e=s.NP(),h=za,n=Ba,r=this.cf.f3(),o=t.LV(),a=t.SMt();for(let t=0,s=e.length;t<s;++t){const u=e[t],l=u.m3();if(l){let t;t=o?u.Nnt(i+u.CF().wMt(a)):u.Nnt(i),h.push([l.g3().SO(),l.y3()]),n.push([u,t])}}if(h.length){h.sort(m),n.sort(g);let i=!1;for(let t=0,s=h.length;t<s;++t){const c=n[t][0],f=r.M3(h[t][0]),d=h[t][1],p=f.w3();p[d]!==c&&((p[d]=c).m3().S3(f,!0),f.T3(c),i=!0)}i&&this.cf.b3(),ja.Br(za),ja.Br(Ba)}}},c4(t,s){t=Math.floor(t),s=Math.floor(s),t<=0||s<=0||!Number.isFinite(t)||!Number.isFinite(s)||this.cf.CO().c4(t,s)},z5t(t){if(!this.cf.Qg()){const s=this.cf.VR();s.$R()||s.t3(t)}},B5t(t){if(!this.cf.Qg()){const s=this.cf.VR();if(!s.$R()){const i=s.Uq(t);i&&s.t3(i)}}},U5t(t){if(!this.cf.Qg()){const s=this.cf.VR();if(!s.$R()){const i=s.ZR(),e=i.indexOf(s.QR());if((!t||0!==e)&&(t||e!==i.length-1)){const h=i[e+(t?-1:1)];s.t3(h)}}}},W5t(){if(!this.cf.Qg()){const t=this.cf.VR();t.$R()||(t.t3(t.QR()),this.cf.ZO().z1t())}},Q5t(t,s){t&&t.Pk(s)},Y5t(t,s){t&&t.zk(s)},J5t(t,s){t&&t.Wk(s)},V5t(t,s){t&&t.AA(s/100)},H5t(t,s){t&&t.Jk(s)},q5t(t,s){t&&t.Hk(s)},X5t(t,s){t&&t.ZP(ja.Mn(+s))},Z5t(t,s,i){t&&(t.lF(!0),t.$P(s),t.ik(i))},K5t(t){t&&t.lF(!1)},$5t(t,s,i){t&&t.f8(s/100,i/100)},tzt(t,s){t&&t.MT(+s)},szt(t,s){if(t){Wa.Ia(s),Wa.gn();const i=t.uF();i.ga(Wa)||(i.aa(Wa),this.b3())}},izt(t,s){t&&t.eF(s)},ezt(t,s){t&&t.sT(s)},hzt(t,s,i){if(t){const e=t.YP(),h=e.wht(i);if(h){const n=1===s;h.Jpt()!==n&&(h.hNt(n),t.Ez(),this.cf.b3())}}},nzt(t,s,i,e){if(t){const h=t.YP(),n=h.wht(s);if(n){i=Math.floor(i);const r=n.$v().ix(i);if(r){"color"===r?(Wa.Ia(e),e=Wa):"percent"===r&&(e/=100);const o=h.Dz(n.SO(),i,e);o&&n.Jpt()&&this.cf.b3()}}}},rzt(t,s){t&&t.rF(s)},ozt(t){this.cf.f3().qP(+t)},azt(t){this.cf.f3().ZP(ja.Mn(+t))},uzt(t,s){const i=this.cf.f3(),e=i.YP(),h=e.wht(s);if(h){const n=1===t;h.Jpt()!==n&&(h.hNt(n),i.Ez(),this.cf.b3())}},lzt(t,s,i){const e=this.cf.f3(),h=e.YP(),n=h.wht(t);if(n){s=Math.floor(s);const r=n.$v().ix(s);if(r){"color"===r?(Wa.Ia(i),i=Wa):"percent"===r&&(i/=100);const o=h.Dz(n.SO(),s,i);o&&n.Jpt()&&this.cf.b3()}}},czt(t,s){const i=this.cf.f3();i.bk(t/100,s/100)},fzt(t){const s=this.cf.f3();0===t?s.Ik():s.Gk()},dzt(t){const s=this.cf.f3();s.$P(t)},pzt(t){const s=this.cf.f3();s.ik(t)},mzt(t,s){const i=this.cf.f3();i.$P(t),i.ik(s)},gzt(t){if(t){const s=t.GTt();if(s){const i=s.m3();if(i){const e=this.cf.f3();e.$P(i.fT()),e.ik(i.mT())}}}},pk(t,s,i){const e=this.cf.f3();try{e.pk(t,s,i)}catch(t){console.warn("[Construct] Cannot add layer: ",t)}},gk(t,s,i){if(t){const e=this.cf.f3();try{e.gk(t,s,i)}catch(t){console.warn("[Construct] Cannot move layer: ",t)}}},Mk(t){if(t){const s=this.cf.f3();s.Mk(t)}},Sk(){this.cf.f3().Sk()},async yzt(t){const s=this.cf.QR();if(s&&t&&!this.cf.Qg()){const i=t.LV()?t.Wmt():[t];await this.djt(s,i)}},async Mzt(t){await ja.q9.H9.jht.yzt.call(this,this.cf.vkt(t))},wzt(t){const s=this.cf.QR();if(s&&t){const i=t.LV()?t.Wmt():[t];this.mjt(s,i)}},Szt(t){ja.q9.H9.jht.wzt.call(this,this.cf.vkt(t))},Tzt(){const t=this.cf.QR();if(t){const s=t.m9();this.mjt(t,s)}},async bzt(t){const s=this.cf.QR();t&&s&&!this.cf.Qg()&&await this.djt(s,t.f9())},async vzt(t){const s=this.cf.QR(),i=this.cf.VR().Uq(t);i&&s&&!this.cf.Qg()&&await this.djt(s,i.f9())},fR(t){const s=this.eft.uR();if(s)switch(s.cR()){case 1:"number"==typeof t&&s.fR(t);break;case 2:"string"==typeof t&&s.fR(t);break;case 3:s.fR(t)}},xzt(t,s,i){const e=this.Cjt(t.toLowerCase(),!0),h=e.Ejt,n=s.toLowerCase(),r=(h.has(n)&&console.warn(`[Construct] Function map '${t}' string '${s}' already in map; overwriting entry`),ja.first(h.values())||e._jt);if(r){const o=0!==r.oR(),a=0!==i.oR();if(o!=a)return void console.error(`[Construct] Function map '${t}' string '${s}' function return type not compatible with other functions in the map; entry ignored`)}h.set(n,i)},Izt(t,s){const i=this.Cjt(t.toLowerCase(),!0),e=(i._jt&&console.warn(`[Construct] Function map '${t}' already has a default; overwriting entry`),ja.first(i.Ejt.values())||i._jt);if(e){const h=0!==e.oR(),n=0!==s.oR();if(h!=n)return void console.error(`[Construct] Function map '${t}' default: function return type not compatible with other functions in the map; entry ignored`)}i._jt=s},Gzt(t,s,i){const e=this.cf,h=e.PTt()?Qa:null,n=(i=Math.floor(i),this.Cjt(t.toLowerCase(),!1));if(!n)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; call ignored`),h;let r=n.Ejt.get(s.toLowerCase());if(!r){if(!n._jt)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; call ignored (consider setting a default)`),h;r=n._jt,i=0}if(!r.Kl())return h;if(0!==r.oR())return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has a return type so cannot be called`),h;const o=e.ZO(),a=o.eR(),u=a.iR(),l=0<u.length,c=(l&&(r.rR()?o.k6(u):o.pdt(u)),[]),f=o.apt(a);if(f){const p=f.lpt();for(let t=i,s=p.length;t<s;++t)c.push(p[t].uet())}const d=r.lpt();for(let t=c.length,s=d.length;t<s;++t)c.push(d[t].d1t());return e.PTt()?this.Djt(o,r,c,l,u):this.Ajt(o,r,c,l,u)}}}{const C=self.js;C.q9.H9.zht={Czt:function(t){return"string"==typeof t&&(t=parseInt(t,10),isNaN(t))&&(t=0),Math.floor(t)},float:function(t){return"string"==typeof t&&(t=parseFloat(t),isNaN(t))?0:t},P(t){return t.toString()},Jt(t){return"string"==typeof t?t.length:0},random(t,s){return void 0===s?this.cf.WR()*t:this.cf.WR()*(s-t)+t},hMt(...t){const s=Math.floor(this.cf.WR()*t.length);return t[s]},_zt(t,...s){return"number"!=typeof t&&(t=0),s[t=C.gn(Math.floor(t),0,s.length-1)]},pi(){return Math.PI},Ezt(){return 1/0},sqrt(t){return Math.sqrt(t)},abs(t){return Math.abs(t)},round(t){return Math.round(t)},Azt(t,s){s=Math.max(Math.floor(s),0);const i=Math.pow(10,s);return Math.round((t+Number.EPSILON)*i)/i},floor(t){return Math.floor(t)},ceil(t){return Math.ceil(t)},sign(t){return Math.sign(t)},sin(t){return Math.sin(C.Mn(t))},cos(t){return Math.cos(C.Mn(t))},tan(t){return Math.tan(C.Mn(t))},asin(t){return C.wn(Math.asin(t))},acos(t){return C.wn(Math.acos(t))},atan(t){return C.wn(Math.atan(t))},exp(t){return Math.exp(t)},Kt(t){return Math.log(t)},log10(t){return Math.log10(t)},max(...i){let e=i[0];"number"!=typeof e&&(e=0);for(let s=1,t=i.length;s<t;++s){let t=i[s];"number"==typeof t&&e<t&&(e=t)}return e},min(...i){let e=i[0];"number"!=typeof e&&(e=0);for(let s=1,t=i.length;s<t;++s){let t=i[s];"number"==typeof t&&e>t&&(e=t)}return e},gn(t,s,i){return C.gn(t,s,i)},At(t,s,i,e){return C.Sn(t,s,i,e)},angle(t,s,i,e){return C.wn(C.bn(t,s,i,e))},Pt(t,s,i){return C.Pt(t,s,i)},An(t,s,i){return C.An(t,s,i)},Nn(t,s,i,e){return C.Nn(t,s,i,e)},Ln(t,s,i,e,h){return C.Ln(t,s,i,e,h)},On(t,s,i){return C.On(t,s,i)},Dzt(t,s){return C.wn(C.vn(C.Mn(t),C.Mn(s)))},Nzt(t,s,i){return C.wn(C.Gn(C.Mn(t),C.Mn(s),i))},Lzt(t,s,i){return C.wn(C.xn(C.Mn(t),C.Mn(s),C.Mn(i)))},Ozt(t,s,i){return(t|=0)&~(1<<(s|=0))|(i=0!==i?1:0)<<s},Rzt(t,s){return(t|=0)^1<<(0|s)},Pzt(t,s){return(t|=0)&1<<(0|s)?1:0},kzt(){return"\n"},Fzt(t){return"string"==typeof t?t.toUpperCase():""},jzt(t){return"string"==typeof t?t.toLowerCase():""},left(t,s){return"string"==typeof t?t.substr(0,s):""},mid(t,s,i){return"string"!=typeof t?"":i<0?t.substr(s):t.substr(s,i)},right(t,s){return"string"==typeof t?t.substr(Math.max(t.length-s,0)):""},trim(t){return"string"==typeof t?t.trim():""},zzt(t,s,i){if("string"!=typeof t||"string"!=typeof i)return"";let e=t.split(i);return(s=Math.floor(s))<0||s>=e.length?"":e[s]},Bzt(t,s){return"string"==typeof t&&"string"==typeof s&&t.length?t.split(s).length:0},find(t,s){return"string"==typeof t&&"string"==typeof s?t.search(new RegExp(C.de(s),"i")):-1},Uzt(t,s){return"string"==typeof t&&"string"==typeof s?t.search(new RegExp(C.de(s),"")):-1},replace(t,s,i){return"string"==typeof t&&"string"==typeof s&&"string"==typeof i?t.replace(new RegExp(C.de(s),"gi"),i):"string"==typeof t?t:""},Wzt(t,...i){let e=t;for(let t=0,s=i.length;t<s;++t)e=e.replaceAll(`{${t}}`,i[t].toString());return e},Qzt(t,s,i){const e=this.cjt(s,i);return t?t.search(e):-1},Yzt(t,s,i,e){const h=this.cjt(s,i);return t?t.replace(h,e):""},Jzt(t,s,i){const e=this.fjt(t.toString(),s,i);return e?e.length:0},Vzt(t,s,i,e){e=Math.floor(e);const h=this.fjt(t.toString(),s,i);return!h||e<0||e>=h.length?"":h[e]},Hzt(t,s){let i=t<0?"-":"",e=s-(t=t<0?-t:t).toString().length;return(i+="0".repeat(Math.max(e,0)))+t.toString()},qzt(t){return encodeURIComponent(t)},Xzt(t){return decodeURIComponent(t)},MR(){return this.cf.SZ()},timescale(){return this.cf.IR()},Zzt(){return(Date.now()-this.cf.iFt())/1e3},Kzt(){return Date.now()},time(){return this.cf.bR()},tickcount(){return this.cf.ytt()},$zt(){return this.cf.nFt()},fps(){return this.cf.CR()},tBt(){return this.cf.DR()},sBt(){return this.cf.LR()},iBt(){return this.cf._4().P4()},eBt(){return this.cf._4().j4()},hBt(){return this.cf.kO()},nBt(){return this.cf.jO()},rBt(){return this.cf.kO()},oBt(){return this.cf.jO()},aBt(){return this.cf.f3().sk()},uBt(){return this.cf.f3().ek()},lBt(){return this.cf.f3().tf()},cBt(){return this.cf.f3().XP()},fBt(){return C.wn(this.cf.f3().KP())},dBt(){return this.cf.f3().lm()},pBt(){return this.cf.f3().xm()},mBt(){return 100*this.cf.f3().n8()},gBt(){return 100*this.cf.f3().r8()},yBt(t){const s=this.cf.f3().g3(t);return s?s.h8().xu():0},MBt(t){const s=this.cf.f3().g3(t);return s?s.h8().Iu():0},wBt(t){const s=this.cf.f3().g3(t);return s?s.h8().Gu():0},SBt(t){const s=this.cf.f3().g3(t);return s?s.h8().Cu():0},TBt(t){const s=this.cf.f3().g3(t);return s?s.h8().width():0},bBt(t){const s=this.cf.f3().g3(t);return s?s.h8().height():0},vBt(t){const s=this.cf.f3().g3(t);if(s){const i=s.h8();return(i.xu()+i.Gu())/2}return 0},xBt(t){const s=this.cf.f3().g3(t);if(s){const i=s.h8();return(i.Iu()+i.Cu())/2}return 0},IBt(t,s,i){const e=this.cf.f3().g3(t);return e?e.pF(s,i)[0]:0},GBt(t,s,i){const e=this.cf.f3().g3(t);return e?e.pF(s,i)[1]:0},CBt(t,s,i){const e=this.cf.f3().g3(t);return e?e.MF(s,i)[0]:0},_Bt(t,s,i){const e=this.cf.f3().g3(t);return e?e.MF(s,i)[1]:0},EBt(t,s,i,e){const h=this.cf.f3(),n=h.g3(t),r=h.g3(s);if(!n||!r||n===r)return i;const[o,a]=n.MF(i,e);return r.pF(o,a)[0]},ABt(t,s,i,e){const h=this.cf.f3(),n=h.g3(t),r=h.g3(s);if(!n||!r||n===r)return e;const[o,a]=n.MF(i,e);return r.pF(o,a)[1]},DBt(t){const s=this.cf.f3().g3(t);return s?s.Vk():0},NBt(t){const s=this.cf.f3().g3(t);return s?C.wn(s.Xk()):0},LBt(t){const s=this.cf.f3().g3(t);return s?100*s._A():0},OBt(t){const s=this.cf.f3().g3(t);return s?s.qk():0},RBt(t){const s=this.cf.f3().g3(t);return s?s.sk():0},PBt(t){const s=this.cf.f3().g3(t);return s?s.ek():0},kBt(t){const s=this.cf.f3().g3(t);return s?100*s.Kk():0},FBt(t){const s=this.cf.f3().g3(t);return s?100*s.tF():0},jBt(t){const s=this.cf.f3().g3(t);return s?s.yT():0},zBt(t){const s=this.cf.f3().g3(t);return s?s.SO():-1},BBt(){const t=this.cf._4();return t?t.qRt():""},UBt(t){const s=this.y0t;if(!s.d0t())return 0;if(t){const i=s.m0t(t);return i?i.SO():0}return s.c0t().SO()},WBt(){return this.cf.wFt()},QBt(t,s,...i){const e=this.Cjt(t.toLowerCase(),!1);if(!e)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; returning 0`),0;let h=e.Ejt.get(s.toLowerCase());if(!h){if(!e._jt)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; returning 0 (consider setting a default)`),0;h=e._jt}const n=h.oR(),r=h.$O();if(0===n)return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has no return type so cannot be called from an expression; returning 0`),0;if(!h.Kl())return r;const o=this.cf,a=o.ZO(),u=a.eR(),l=u.iR(),c=0<l.length,f=(c&&(h.rR()?a.k6(l):a.pdt(l)),h.lpt());for(let t=i.length,s=f.length;t<s;++t)i.push(f[t].d1t());const d=h.sR(),p=d.nR(d.iR(),h.rR(),n,r,...i);return c&&a.j6(l),p},YBt(){return this.cf.xO().ZQ()},JBt(){return 0===this.ajt?1:this.ujt/this.ajt},renderer(){return this.cf.NRt()?"webgpu":"webgl"},VBt(){return this.cf.NRt()?this.cf.NRt().GetAdapterInfoString():this.cf.DRt().kD()},HBt(){let t=this.cf.RS().MS();return Math.round(100*t/1048576)/100},qBt(t,s,i){return C.Bn(t,s,i)},XBt(t,s,i){return C.Wn(t/100,s/100,i/100)},ZBt(t,s,i,e){return C.Un(t/100,s/100,i/100,e/100)},KBt(t,s,i){return C.Wn(t/255,s/255,i/255)},$Bt(t,s,i,e){return C.Un(t/255,s/255,i/255,e/255)},tUt(){return this.cf.DO()},sUt(){return this.cf.LO()},iUt(){return this.cf.eR().s9().tf()},eUt(){return this.cf.eR().ogt()}}}{const Ya=self.js;Ya.q9.hUt=class extends Ya._2t{constructor(t){super(t)}ln(){super.ln()}}}{let i=function(t){switch(t){case 0:return"clamp-to-edge";case 1:return"repeat";case 2:return"mirror-repeat"}return"repeat"};i;const Ja=self.js;Ja.q9.hUt.QGt=class extends Ja.fvt{constructor(t,s){super(t),this.Tb="repeat",this.bb="repeat",s&&(this.Tb=i(s[0]),this.bb=i(s[1]))}ln(){super.ln()}Z2t(){this.qz().R3(this.cf)}y9(t){return this.qz().bW(t,{cb:this.cf.zO(),ub:this.Tb,lb:this.bb})}v9(){this.qz().SC()}nUt(){return this.Tb}rUt(){return this.bb}}}{const Va=self.js,Ha=self.qs,qa=Va.un(Va.Rect),Xa=Va.un(Va.tl),Za=Va.un(Va.Rect),Ka=Va.un(Va.tl),_=(Va.q9.hUt.Instance=class extends Va.Yvt{constructor(t,s){super(t),this.oUt=0,this.aUt=0,this.uUt=1,this.lUt=1,this.cUt=0,this.fUt=!1,this.dUt=0,this.pUt=0,this.mUt=0,this.gUt=0,this.yUt=0,this.MUt=null,s&&(this.m3().Pk(!!s[0]),this.oUt=s[4],this.aUt=s[5],this.uUt=s[6],this.lUt=s[7],this.cUt=Va.Mn(s[8]),this.fUt=!!s[9],this.dUt=s[10],this.pUt=s[11],this.mUt=s[12],this.gUt=s[13],this.yUt=s[14])}ln(){this.wUt(),super.ln()}wUt(){this.MUt&&(this.MUt.ln(),this.MUt=null)}SUt(t,s,i){const e=this.$vt(),h=e.lm(),n=e.xm(),r=this.oUt/h,o=this.aUt/n,a=this.cUt;Za.set(0,0,t/(h*this.uUt),s/(n*this.lUt)),Za.offset(-r,-o),0===a?i.Tl(Za):i.bl(Za,-a)}TUt(t,s=!0){if(this.fUt){const i=this.$vt();t.UM(),t.iD(i.lm()*this.uUt,i.xm()*this.lUt,this.dUt,this.pUt,this.mUt,this.gUt,this.yUt)}else s&&t.kM()}tb(t){const s=this.$vt(),i=s.E2();if(null!==i){this.TUt(t),t.LA(i);const e=s.lm(),h=s.xm(),n=this.oUt/e,r=this.aUt/h,o=this.m3();Za.set(0,0,o.lm()/(e*this.uUt),o.xm()/(h*this.lUt)),Za.offset(-n,-r),o.ez()?this.bUt(o,t):this.vUt(o,t)}}vUt(t,s){let i=t.Zj();this.cf.UO()&&(i=t.mDt(i)),0===this.cUt?s.Nw(i,Za):(Ka.bl(Za,-this.cUt),s.WA(i,Ka))}bUt(i,t){const e=i.LDt();if(i.RDt()){i.fDt(qa,Xa,!1);let t=Xa,s=(this.cf.UO()&&(t=i.mDt(t)),Za);0!==this.cUt&&(Ka.bl(Za,-this.cUt),s=Ka),e.$T(i.hz(),t,s),i.ODt(!1)}e.tb(t)}$vt(){return this.MUt||this.Hct.qz()}rit(){return!0}E2(){return this.$vt().E2()}xUt(){this.m3().ODt(!0)}IUt(t){this.oUt!==t&&(this.oUt=t,this.cf.b3(),this.xUt())}GUt(){return this.oUt}CUt(t){this.aUt!==t&&(this.aUt=t,this.cf.b3(),this.xUt())}_Ut(){return this.aUt}EUt(t){this.uUt!==t&&(this.uUt=t,this.cf.b3(),this.xUt())}AUt(){return this.uUt}DUt(t){this.lUt!==t&&(this.lUt=t,this.cf.b3(),this.xUt())}NUt(){return this.lUt}LUt(t){this.cUt!==t&&(this.cUt=t,this.cf.b3(),this.xUt())}OUt(){return this.cUt}RUt(t){this.fUt!==(t=!!t)&&(this.fUt=t,this.cf.b3())}PUt(){return this.fUt}kUt(t){this.dUt!==t&&(this.dUt=t,this.PUt())&&this.cf.b3()}FUt(){return this.dUt}jUt(t){this.pUt!==t&&(this.pUt=t,this.PUt())&&this.cf.b3()}zUt(){return this.pUt}BUt(t){this.mUt!==t&&(this.mUt=t,this.PUt())&&this.cf.b3()}UUt(){return this.mUt}WUt(t){this.gUt!==t&&(this.gUt=t,this.PUt())&&this.cf.b3()}QUt(){return this.gUt}YUt(t){this.yUt!==t&&(this.yUt=t,this.PUt())&&this.cf.b3()}JUt(){return this.yUt}IT(){const t={};return 0!==this.oUt&&(t.iox=this.oUt),0!==this.aUt&&(t.ioy=this.aUt),1!==this.uUt&&(t.isx=this.uUt),1!==this.lUt&&(t.isy=this.lUt),0!==this.cUt&&(t.ia=this.cUt),this.fUt&&(t.tr=!0),1!==this.dUt&&(t.trx=this.dUt),1!==this.pUt&&(t.try=this.pUt),1!==this.mUt&&(t.tra=this.mUt),.1!==this.gUt&&(t.trbmx=this.gUt),.1!==this.yUt&&(t.trbmy=this.yUt),t}GT(t){this.oUt=t.iox||0,this.aUt=t.ioy||0,this.uUt=t.hasOwnProperty("isx")?t.isx:1,this.lUt=t.hasOwnProperty("isy")?t.isy:1,this.cUt=t.ia||0,this.fUt=!!t.tr,this.dUt=t.hasOwnProperty("trx")?t.trx:1,this.pUt=t.hasOwnProperty("try")?t.try:1,this.mUt=t.hasOwnProperty("tra")?t.tra:1,this.gUt=t.hasOwnProperty("trbmx")?t.trbmx:.1,this.yUt=t.hasOwnProperty("trbmy")?t.trbmy:.1}zvt(){const t="plugins.tiledbg.properties";return[{title:t+".image-transform.name",properties:[{name:t+".image-offset-x.name",value:this.GUt(),VUt:t=>this.IUt(t)},{name:t+".image-offset-y.name",value:this._Ut(),VUt:t=>this.CUt(t)},{name:t+".image-scale-x.name",value:100*this.AUt(),VUt:t=>this.EUt(t/100)},{name:t+".image-scale-y.name",value:100*this.NUt(),VUt:t=>this.DUt(t/100)},{name:t+".image-angle.name",value:Va.wn(this.OUt()),VUt:t=>this.LUt(Va.Mn(t))}]},{title:t+".tile-randomization.name",properties:[{name:t+".enable-tile-randomization.name",value:this.PUt(),VUt:t=>this.RUt(t)},{name:t+".x-random.name",value:100*this.FUt(),VUt:t=>this.kUt(t/100)},{name:t+".y-random.name",value:100*this.zUt(),VUt:t=>this.jUt(t/100)},{name:t+".angle-random.name",value:100*this.UUt(),VUt:t=>this.BUt(t/100)},{name:t+".blend-margin-x.name",value:100*this.QUt(),VUt:t=>this.WUt(t/100)},{name:t+".blend-margin-y.name",value:100*this.JUt(),VUt:t=>this.YUt(t/100)}]}]}vnt(t){switch(t){case 4:return this.GUt();case 5:return this._Ut();case 6:return this.AUt();case 7:return this.NUt();case 8:return this.OUt();case 9:return this.PUt();case 10:return this.FUt();case 11:return this.zUt();case 12:return this.UUt();case 13:return this.QUt();case 14:return this.JUt()}}Ent(t,s){switch(t){case 4:this.IUt(s);break;case 5:this.CUt(s);break;case 6:this.EUt(s);break;case 7:this.DUt(s);break;case 8:this.LUt(s);break;case 9:this.RUt(!!s);break;case 10:this.kUt(s);break;case 11:this.jUt(s);break;case 12:this.BUt(s);break;case 13:this.WUt(s);break;case 14:this.YUt(s)}}K2t(){return self.HUt}},new WeakMap);self.HUt=class extends self.rz{constructor(){super(),_.set(this,self.IF.AF().cz())}set qUt(t){Ha.xe(t),_.get(this).IUt(t)}get qUt(){return _.get(this).GUt()}set XUt(t){Ha.xe(t),_.get(this).CUt(t)}get XUt(){return _.get(this)._Ut()}ZUt(t,s){Ha.xe(t),Ha.xe(s);const i=_.get(this);i.IUt(t),i.CUt(s)}KUt(){const t=_.get(this);return[t.GUt(),t._Ut()]}set $Ut(t){Ha.xe(t),_.get(this).EUt(t)}get $Ut(){return _.get(this).AUt()}set t6t(t){Ha.xe(t),_.get(this).DUt(t)}get t6t(){return _.get(this).NUt()}s6t(t,s){Ha.xe(t),Ha.xe(s);const i=_.get(this);i.EUt(t),i.DUt(s)}i6t(){const t=_.get(this);return[t.AUt(),t.NUt()]}set e6t(t){Ha.xe(t),_.get(this).LUt(t)}get e6t(){return _.get(this).OUt()}set h6t(t){Ha.xe(t),_.get(this).LUt(Va.Mn(t))}get h6t(){return Va.wn(_.get(this).OUt())}get imageWidth(){return _.get(this).$vt().lm()}get imageHeight(){return _.get(this).$vt().xm()}n6t(){const t=_.get(this).$vt();return[t.lm(),t.xm()]}set r6t(t){_.get(this).RUt(!!t)}get r6t(){return _.get(this).PUt()}set o6t(t){Ha.xe(t),_.get(this).kUt(t)}get o6t(){return _.get(this).FUt()}set a6t(t){Ha.xe(t),_.get(this).jUt(t)}get a6t(){return _.get(this).zUt()}u6t(t,s){Ha.xe(t),Ha.xe(s);const i=_.get(this);i.kUt(t),i.jUt(s)}l6t(){const t=_.get(this);return[t.FUt(),t.zUt()]}set c6t(t){Ha.xe(t),_.get(this).BUt(t)}get c6t(){return _.get(this).UUt()}set f6t(t){Ha.xe(t),_.get(this).WUt(t)}get f6t(){return _.get(this).QUt()}set d6t(t){Ha.xe(t),_.get(this).YUt(t)}get d6t(){return _.get(this).JUt()}p6t(t,s){Ha.xe(t),Ha.xe(s);const i=_.get(this);i.WUt(t),i.YUt(s)}m6t(){const t=_.get(this);return[t.QUt(),t.JUt()]}async g6t(t){Ha.nh(t,Blob);const s=_.get(this),i=s.P3(),e=Va.un(Va.oIt);e.TIt(i,t),await e.bW(i.RS(),{cb:i.zO(),ub:s.OSt().nUt(),lb:s.OSt().rUt()}),s.cn()?e.ln():(s.wUt(),s.MUt=e,i.b3())}}}{const $a=self.js;$a.q9.hUt.V9={y6t(){return!0},M6t(){return!0},w6t(){return this.PUt()}}}{const tu=self.js;tu.q9.hUt.jht={S6t(t){this.IUt(t)},T6t(t){this.CUt(t)},b6t(t){this.EUt(t/100)},v6t(t){this.DUt(t/100)},x6t(t){this.LUt(tu.Mn(t))},I6t(t){this.RUt(t)},G6t(t,s){this.kUt(t/100),this.jUt(s/100)},C6t(t){this.BUt(t/100)},_6t(t,s){this.WUt(t/100),this.YUt(s/100)},E6t(t){this.m3().sT(t),this.cf.b3()},async A6t(t,s){if(!this.MUt||this.MUt.QQ()!==t){const i=this.cf,e=tu.un(tu.oIt);try{if(await e.SIt(i,t),!e.yY())throw new Error("image failed to load");if(this.cn())return e.ln(),null;const h=await e.bW(i.RS(),{cb:i.zO(),ub:this.OSt().nUt(),lb:this.OSt().rUt()});if(!h)return}catch(t){return console.error("Load image from URL failed: ",t),void(this.cn()||this.fj(tu.q9.hUt.V9.M6t))}this.cn()?e.ln():(this.wUt(),this.MUt=e,i.b3(),await this.pj(tu.q9.hUt.V9.y6t))}}}}{const su=self.js;su.q9.hUt.zht={D6t(){return this.$vt().lm()},N6t(){return this.$vt().xm()},L6t(){return this.oUt},O6t(){return this.aUt},R6t(){return 100*this.uUt},P6t(){return 100*this.lUt},k6t(){return su.wn(this.cUt)},F6t(){return 100*this.FUt()},j6t(){return 100*this.zUt()},z6t(){return 100*this.UUt()},B6t(){return 100*this.QUt()},U6t(){return 100*this.JUt()}}}{const iu=self.js;iu.q9.Text=class extends iu._2t{constructor(t){super(t)}ln(){super.ln()}}}{const eu=self.js;eu.q9.Text.QGt=class extends eu.fvt{constructor(t){super(t)}ln(){super.ln()}Z2t(){}y9(t){}v9(){}}}{const hu=self.js,nu=self.qs,ru=[0,0,0],ou=["left","center","right"],au=["top","center","bottom"],uu=["ltr","rtl"],lu=["word","cjk","character"],cu=new hu.Rect,fu=new hu.tl,du=new hu.Jo,pu=hu.un(hu.tu),mu=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["iconoffsety",null]]),E=(hu.q9.Text.Instance=class extends hu.Yvt{constructor(t,s){if(super(t),this.ff="",this.W6t=!0,this.Q6t="Arial",this.Y6t=12,this.J6t=0,this.kG=!1,this.FG=!1,this.KS=hu.un(hu.Jo),this.QG=0,this.YG=0,this.HG="word",this.qG=0,this.V6t="auto",this.H6t=1,this.q6t=null,this.X6t="",this.Z6t=!1,this.K6t=!1,this.$6t=null,this.tWt=-1,this.sWt=-1,this.iWt=0,this.eWt=hu.un(hu.hy.TS,this.cf.RS(),{timeout:5}),this.eWt.bC=()=>this.cf.b3(),this.hWt=()=>this.nWt(),this.rWt=!1,s){this.ff=s[0],this.W6t=!!s[1],this.Q6t=s[2],this.Y6t=s[3],this.J6t=s[4],this.kG=!!s[5],this.FG=!!s[6],this.QG=s[8],this.YG=s[9],this.HG=lu[s[10]],this.qG=s[11],this.oWt(this.cf.v6(s[12]));const i=s[7];this.KS.Ko(i[0],i[1],i[2]),this.m3().Pk(s[13]),this.K6t=!!s[15]}this.aWt(),this.uWt()}ln(){this.oWt(null),this.lWt(),this.$6t&&(this.$6t.ln(),this.$6t=null),this.eWt.ln(),this.eWt=null,super.ln()}aWt(){const t=this.eWt;t.mf(this.ff),t.GC(this.W6t),this.eWt.EG()&&this.q6t?this.eWt.om(this.P3().pFt(this.q6t)):this.eWt.om(null),t.CC("nearest"!==this.cf.zO()),t._C(this.Q6t),t.NC(this.J6t),t.OC(this.kG),t.PC(this.FG),t.iT(this.KS),t.WC(ou[this.QG]),t.YC(au[this.YG]),t.VC(this.HG),t.qC(uu[this.qG])}cWt(){let t=this.m3(),s=(this.eWt.EC(this.Y6t),this.eWt.DC(t.DAt()),t.g3()),i;"auto"===this.V6t?i=s.iH(t.Vj()):"fixed"===this.V6t&&(i=this.H6t),t.ez()&&i!==this.eWt.$C()&&t.ODt(!0),this.eWt.KC(t.lm(),t.xm(),i)}oWt(t){t&&(t.LV()||t.TP().constructor!==hu.q9.bht)||t!==this.q6t&&(this.q6t&&this.q6t.Qf().removeEventListener("animationframeimagechange",this.hWt),this.q6t=t,this.q6t&&this.q6t.Qf().addEventListener("animationframeimagechange",this.hWt),this.aWt(),this.Z6t=!1,this.cf.b3())}nWt(){this.cf.mFt(this.q6t),this.cf.b3(),this.rWt=!0}uWt(){if(this.K6t){let t=this.ff;this.W6t&&(t=hu.Lh.$p(t)),this.$6t?this.$6t.mf(t):this.$6t=hu.un(hu.lf,this.cf,t)}else this.$6t&&(this.$6t.ln(),this.$6t=null)}tb(t){const s=this.m3(),i=(this.cWt(),this.rWt&&(this.rWt=!1,this.eWt.EG())&&this.q6t&&this.eWt.om(this.P3().pFt(this.q6t)),this.eWt.E2());if(i){const e=s.g3();if(0===s.KP()&&0===e.KP()&&0===s.Vj()&&!s.ez()&&e.w8()){const h=s.Zj(),[n,r]=e.bF(h.$n(),h.ir()),[o,a]=e.bF(h.nr(),h.rr()),u=n-Math.round(n),l=r-Math.round(r),[c,f]=(cu.set(n,r,o,a),cu.offset(-u,-l),fu.Tl(cu),t.VA(t.fD()));this.cf._4().DW(t,c,f),t.LA(i),t.Nw(fu,this.eWt.E_()),e.LW(t)}else t.LA(i),s.ez()?this.bUt(s,t):this.vUt(s,t)}}vUt(t,s){let i=t.Zj();this.cf.UO()&&(i=this.fWt(i)),s.Nw(i,this.eWt.E_())}bUt(s,t){const i=s.LDt();if(s.RDt()){s.fDt(cu,fu,!1);let t=fu;this.cf.UO()&&(t=this.fWt(t)),i.$T(s.hz(),t,this.eWt.E_()),s.ODt(!1)}i.tb(t)}fWt(t){const s=t.$n()-Math.round(t.$n()),i=t.ir()-Math.round(t.ir());return 0==s&&0==i?t:(fu.C(t),fu.offset(-s,-i),fu)}txt(){const t=this.eWt.E2();return t?[t.lm(),t.xm()]:[100,100]}sxt(){return this.eWt.E_()}nxt(){return!1}IT(){const t={t:this.ff,c:this.KS.toJSON(),fn:this.Q6t,ps:this.Y6t};return this.W6t&&(t.bbc=this.W6t),0!==this.QG&&(t.ha=this.QG),0!==this.YG&&(t.va=this.YG),"word"!==this.HG&&(t.wr=this.HG),0!==this.J6t&&(t.lho=this.J6t),this.kG&&(t.b=this.kG),this.FG&&(t.i=this.FG),-1!==this.sWt&&(t.tw={st:this.tWt,en:this.sWt,l:this.iWt}),this.q6t&&(t.ioc=this.q6t.BV()),"fixed"===this.V6t&&(t.fs=this.H6t),t}GT(t){if(this.lWt(),this.ff=t.t,this.KS.Qa(t.c),this.Q6t=t.fn,this.Y6t=t.ps,this.W6t=!!t.hasOwnProperty("bbc")&&t.bbc,this.QG=t.hasOwnProperty("ha")?t.ha:0,this.YG=t.hasOwnProperty("va")?t.va:0,t.hasOwnProperty("wr")){const s=t.wr;this.HG="boolean"==typeof s?s?"word":"character":s}else this.HG="word";if(this.J6t=t.hasOwnProperty("lho")?t.lho:0,this.kG=!!t.hasOwnProperty("b")&&t.b,this.FG=!!t.hasOwnProperty("i")&&t.i,t.hasOwnProperty("tw")){const i=t.tw;this.tWt=i.st,this.sWt=i.en,this.iWt=i.l}if(t.hasOwnProperty("ioc")){const e=this.P3().v6(t.ioc);e&&this.oWt(e)}else this.oWt(null);t.hasOwnProperty("fs")?(this.V6t="fixed",this.H6t=t.fs):this.V6t="auto",this.aWt(),this.uWt(),this.Z6t=!1,-1!==this.sWt&&this.Pvt()}vnt(t){switch(t){case 0:return this.ZC();case 1:return this.W6t;case 2:return this.dWt();case 3:return this.pWt();case 4:return this.mWt();case 5:return this.gWt();case 6:return this.yWt();case 7:return ru[0]=this.KS.ua(),ru[1]=this.KS.la(),ru[2]=this.KS.ca(),ru;case 8:return this.MWt();case 9:return this.wWt();case 10:return this.SWt();case 15:return this.TWt()}}Ent(t,s){switch(t){case 0:this.bWt(s);break;case 1:this.W6t!==!!s&&(this.W6t=!!s,this.aWt());break;case 2:this.vWt(s);break;case 3:this.xWt(s);break;case 4:this.IWt(s);break;case 5:this.GWt(s);break;case 6:this.CWt(s);break;case 7:const i=this.KS,e=s;i.ua()===e[0]&&i.la()===e[1]&&i.ca()===e[2]||(this.KS.Ko(e[0],e[1],e[2]),this.aWt());break;case 8:this._Wt(s);break;case 9:this.EWt(s);break;case 10:this.AWt(s)}}Bvt(t,s,i,e){0===s&&0===i&&0===e||7===t&&(this.KS.$o(s,i,e),this.aWt())}bWt(t){this.ff!==t&&(this.ff=t,this.eWt.mf(t),this.uWt(),this.Z6t=!1,this.cf.b3())}ZC(){return this.ff}DWt(t,s){this.cWt(),this.bWt(t),this.tWt=this.cf.xR(),this.sWt=this.tWt+s/this.jB().QF(),this.iWt=this.eWt.e_(),this.eWt.FC(0),this.Pvt()}lWt(){this.tWt=-1,this.sWt=-1,this.iWt=0,this.eWt.FC(-1),this.Svt()}NWt(){-1!==this.sWt&&(this.lWt(),this.fj(hu.q9.Text.V9.LWt),this.cf.b3())}vWt(t){this.Q6t!==t&&(this.Q6t=t,this.eWt._C(t),this.cf.b3())}dWt(){return this.Q6t}GWt(t){this.kG!==(t=!!t)&&(this.kG=t,this.eWt.OC(t),this.cf.b3())}gWt(){return this.kG}CWt(t){this.FG!==(t=!!t)&&(this.FG=t,this.eWt.PC(t),this.cf.b3())}yWt(){return this.FG}xWt(t){this.Y6t!==t&&(this.Y6t=t,this.cf.b3())}pWt(){return this.Y6t}OWt(t){this.KS.ga(t)||(this.KS.aa(t),this.eWt.iT(this.KS),this.cf.b3())}RWt(){return this.KS}IWt(t){this.J6t!==t&&(this.J6t=t,this.aWt(),this.cf.b3())}mWt(){return this.J6t}_Wt(t){this.QG!==t&&(this.QG=t,this.aWt(),this.cf.b3())}MWt(){return this.QG}EWt(t){this.YG!==t&&(this.YG=t,this.aWt(),this.cf.b3())}wWt(){return this.YG}PWt(t){this.AWt(lu[t])}AWt(t){this.HG!==t&&(this.HG=t,this.aWt(),this.cf.b3())}SWt(){return this.HG}kWt(t){this.qG!==t&&(this.qG=t,this.aWt(),this.cf.b3())}FWt(){return this.qG}jWt(t){this.K6t=!!t,this.uWt()}TWt(){return this.K6t}zWt(t){this.V6t!==t&&(this.V6t=t,this.cf.b3())}BWt(){return this.V6t}UWt(t){this.H6t!==t&&(this.H6t=t,"fixed"===this.V6t)&&this.cf.b3()}WWt(){return this.H6t}QWt(){return this.cWt(),this.eWt.t_()}YWt(){return this.cWt(),this.eWt.i_()}JWt(t,s){this.cWt();const i=this.m3(),e=(pu.set(t-i.fT(),s-i.mT()),pu.rotate(-i.KP()),pu.offset(i.lm()*i.Kz(),i.xm()*i.tB()),pu._t(i.lm(),i.xm()),pu.scale(this.eWt.lm(),this.eWt.xm()),this.eWt.n_(pu.nu(),pu.ou()));if(e){const h=e.fg("tag");if(h)return h.param}return""}VWt(t,s,i){const e=this.JWt(s,i);return e&&hu.wh(t,e)}HWt(t,s){this.cWt(),s=Math.floor(s);const i=this.eWt.o_(t,s);if(!i)return null;const e=this.m3(),h=this.eWt.BC(),n=i.rg(),r=i.ag()-(i.xm()-i.Gm())*h,o=i.lm()*h/this.eWt.lm()*e.lm(),a=i.xm()*h/this.eWt.xm()*e.xm();return pu.set(n,r),pu._t(this.eWt.lm(),this.eWt.xm()),pu.scale(e.lm(),e.xm()),pu.offset(-e.lm()*e.Kz(),-e.xm()*e.tB()),pu.rotate(e.KP()),pu.offset(e.fT(),e.mT()),{x:pu.nu(),y:pu.ou(),width:o,height:a}}qWt(t){return this.cWt(),this.eWt.a_(t)}XWt(t){let s=mu.get(t);return null===s?"":`</${s||"span"||"span"}>`}ZWt(t,s){let i=mu.get(t);if(null===i)return"";switch(i=i||"span",t){case"color":return`<${i} style="color: ${s}">`;case"font":return`<${i} style="font-family: '${s}'">`;case"opacity":return`<${i} style="opacity: ${s}%">`;case"size":return`<${i} style="font-size: ${s}pt">`;case"background":return`<${i} style="background-color: ${s}">`;case"hide":return`<${i} style="visibility: hidden">`;case"class":return`<${i} class="${s}">`;case"tag":return`<${i} data-tag="${s}">`;default:return`<${i}>`}}async KWt(){if(!this.Z6t){let t=new hu.Lh(this.ff,{Rp:!0}).Jp(),s=new Map,h='<span class="c3-text"',i=[],n=(i.push(`font-family: '${this.dWt()}';`),this.gWt()&&i.push("font-weight: bold;"),this.yWt()&&i.push("font-style: italic;"),"character"===this.SWt()&&i.push("word-break: break-all;"),h+=` style="${i.join(" ")}">`,this.q6t?this.P3().pFt(this.q6t):null);if(this.q6t){const o=hu.un(hu.g1),a=[],u=new Map;for(const c of t)if(c.Tm()){const f=c.Mg(n);if(f){const d=f.$g(),p=d.qz().CIt();u.has(p)||(u.set(p,null),a.push(o.fc(async()=>{const t=await p.CY();u.set(p,t)})))}}await Promise.all(a);const l=[];for(const m of t)if(m.Tm()){const g=m.Mg(n);if(g){const y=g.$g(),M=y.qz().CIt();l.push(o.fc(async()=>{const t=await y.qz().EIt(u.get(M));s.set(g,t)}))}}await Promise.all(l);for(const w of u.values())w instanceof ImageBitmap&&w.close&&w.close()}const r=new Map;for(const S of t){let e=S.pg(),t=[...r.keys()];t.reverse();for(const T of t)e.has(T)&&e.get(T)===r.get(T)||(r.delete(T),h+=this.XWt(T));for(const[b,v]of e)r.has(b)||(r.set(b,v),h+=this.ZWt(b,v));if(S.wm()&&(h+=hu.sp(hu.$d(S.Fm().join("")),"\n","<br>")),S.Tm()&&n){const x=S.Mg(n);if(x){const I=s.get(x);if(I){let t=[],s="0.2em",i=e.get("iconoffsety");if(i){let t=i.trim();s=t.endsWith("%")?parseFloat(t)/100+"em":t+"px"}t.push("top: "+s),"nearest"===this.cf.zO()&&t.push("image-rendering: pixelated"),h+=`<img class="c3-text-icon" data-icon="${S.yg()}" width="${x.lm()}" height="${x.xm()}" style="${t.join(";")}" src="${I}">`}}}}const e=[...r.keys()];e.reverse();for(const G of e)h+=this.XWt(G);h+="</span>",this.X6t=h,this.Z6t=!0}return this.X6t}bZ(){const s=this.cf.xR();if(s>=this.sWt)this.lWt(),this.fj(hu.q9.Text.V9.LWt),this.cf.b3();else{let t=hu.Dn(this.tWt,this.sWt,s,0,this.iWt);(t=Math.floor(t))!==this.eWt.jC()&&(this.eWt.FC(t),this.cf.b3())}}zvt(){const t="plugins.text";return[{title:t+".name",properties:[{name:t+".properties.text.name",value:this.ZC(),VUt:t=>this.bWt(t)},{name:t+".properties.font.name",value:this.dWt(),VUt:t=>this.vWt(t)},{name:t+".properties.size.name",value:this.pWt(),VUt:t=>this.xWt(t)},{name:t+".properties.line-height.name",value:this.mWt(),VUt:t=>this.IWt(t)},{name:t+".properties.bold.name",value:this.gWt(),VUt:t=>this.GWt(t)},{name:t+".properties.italic.name",value:this.yWt(),VUt:t=>this.CWt(t)}]}]}K2t(){return self.$Wt}},new WeakMap),gu=new Map([["left",0],["center",1],["right",2]]),yu=new Map([["top",0],["center",1],["bottom",2]]),Mu=["ltr","rtl"];new Set(["auto","fixed"]);self.$Wt=class extends self.rz{constructor(){super(),E.set(this,self.IF.AF().cz())}get text(){return E.get(this).ZC()}set text(t){nu._e(t);const s=E.get(this);s.lWt(),s.bWt(t)}tQt(t,s){nu._e(t),nu.xe(s);const i=E.get(this);i.lWt(),i.DWt(t,s)}sQt(){E.get(this).NWt()}set PW(t){nu._e(t),E.get(this).vWt(t)}get PW(){return E.get(this).dWt()}set FW(t){E.get(this).GWt(t)}get FW(){return E.get(this).gWt()}set jW(t){E.get(this).CWt(t)}get jW(){return E.get(this).yWt()}set kW(t){nu.xe(t),E.get(this).xWt(t)}get kW(){return E.get(this).pWt()}set iQt(t){if(nu.Qe(t),t.length<3)throw new Error("expected 3 elements");du.Ko(t[0],t[1],t[2]),E.get(this).OWt(du)}get iQt(){const t=E.get(this).RWt();return[t.ua(),t.la(),t.ca()]}set lineHeight(t){nu.xe(t),E.get(this).IWt(t)}get lineHeight(){return E.get(this).mWt()}set UW(t){nu._e(t);const s=gu.get(t);if(void 0===s)throw new Error("invalid mode");E.get(this)._Wt(s)}get UW(){return ou[E.get(this).MWt()]}set verticalAlign(t){nu._e(t);const s=yu.get(t);if(void 0===s)throw new Error("invalid mode");E.get(this).EWt(s)}get verticalAlign(){return au[E.get(this).wWt()]}set WW(t){if(!lu.includes(t))throw new Error("invalid mode");E.get(this).AWt(t)}get WW(){return E.get(this).SWt()}set QW(t){nu._e(t);const s=Mu.indexOf(t);if(-1===s)throw new Error("invalid text direction");E.get(this).kWt(s)}get QW(){return Mu[E.get(this).FWt()]}set eQt(t){E.get(this).jWt(!!t)}get eQt(){return E.get(this).TWt()}hQt(t){nu.xe(t);const s=E.get(this);s.zWt("fixed"),s.UWt(t)}nQt(){E.get(this).zWt("auto")}get VW(){return E.get(this).QWt()}get HW(){return E.get(this).YWt()}rQt(){const t=E.get(this);return[t.QWt(),t.YWt()]}oQt(t,s,i){return nu._e(t),nu.xe(s),nu.xe(i),E.get(this).VWt(t,s,i)}aQt(t,s){return nu.xe(t),nu.xe(s),E.get(this).JWt(t,s)}uQt(t,s=0){return nu._e(t),nu.xe(s),E.get(this).HWt(t,s)}lQt(t){return nu._e(t),E.get(this).qWt(t)}cQt(t){const s=E.get(this),i=s.P3().g4(t);s.oWt(i)}fQt(){return E.get(this).KWt()}}}{const wu=self.js;wu.q9.Text.V9={dQt(t,s){return s?this.ff===t:wu.wh(this.ff,t)},pQt(){return-1!==this.sWt},LWt(){return!0},mQt(t,s,i){return this.VWt(t,s,i)}}}{const Su=self.js,Tu=Su.un(Su.Jo);Su.q9.Text.jht={mf(t){this.lWt(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.bWt(t.toString())},gQt(t){this.lWt(),(t=(t="number"==typeof t&&t<1e9?Math.round(1e10*t)/1e10:t).toString())&&this.bWt(this.ff+t)},yQt(t,s){this.lWt(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.DWt(t.toString(),s)},MQt(t,s){let i=!1,e=!1;switch(s){case 1:i=!0;break;case 2:e=!0;break;case 3:i=!0,e=!0}t===this.Q6t&&i===this.kG&&e===this.FG||(this.vWt(t),this.GWt(i),this.CWt(e))},EC(t){this.xWt(t)},wQt(t){Tu.Ia(t),Tu.gn(),this.OWt(Tu)},SQt(t,s){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},E6t(t){this.m3().sT(t),this.cf.b3()},TQt(){this.NWt()},NC(t){this.IWt(t)},bQt(t){this._Wt(t)},vQt(t){this.EWt(t)},xQt(t){this.PWt(t)},qC(t){this.kWt(t)},IQt(t){this.oWt(t)},GQt(){return this.KWt()},CQt(t){this.jWt(t)},_Qt(t,s){this.zWt(["auto","fixed"][t]),this.UWt(s)}}}{const bu=self.js;bu.q9.Text.zht={Text(){return this.ff},EQt(){return this.W6t?bu.Lh.$p(this.ff):this.ff},AQt(){return this.Q6t},DQt(){return this.Y6t},NQt(){return this.QWt()},LQt(){return this.YWt()},OQt(){return this.J6t},RQt(t,s){return this.JWt(t,s)},PQt(t){return this.qWt(t)},kQt(t,s){const i=this.HWt(t,s);return i?i.x:0},FQt(t,s){const i=this.HWt(t,s);return i?i.y:0},jQt(t,s){const i=this.HWt(t,s);return i?i.width:0},zQt(t,s){const i=this.HWt(t,s);return i?i.height:0},BQt(){return this.X6t}}}{const vu=self.js;vu.q9.Keyboard=class extends vu._2t{constructor(t){super(t)}ln(){super.ln()}}}{let i=function(){return s.MP().cz()};i;const xu=self.js;xu.q9.Keyboard.QGt=class extends xu.fvt{constructor(t){super(t)}ln(){super.ln()}Z2t(){}K2t(){return self.UQt}};let s=null;self.UQt=class extends self.wP{constructor(t){super(t),(s=t).P3().s3().keyboard=this}WQt(t){const s=i();if("string"==typeof t)return s.QQt(t);if("number"==typeof t)return s.YQt(t);throw new TypeError("expected string or number")}}}{const Iu=self.js;Iu.q9.Keyboard.Instance=class extends Iu.yvt{constructor(t,s){super(t),this.JQt=new Set,this.VQt=new Set,this.HQt=0,this.qQt="",this.XQt="";const i=this.P3().Qf();this.b0=new Iu.w0(Iu.d0.M0(i,"keydown",t=>this.ZQt(t.data)),Iu.d0.M0(i,"keyup",t=>this.KQt(t.data)),Iu.d0.M0(i,"window-blur",()=>this.$Qt()),Iu.d0.M0(i,"keyboard-blur",()=>this.$Qt()))}ln(){super.ln()}ZQt(t){const s=t.which,i=t.code||s.toString(),e=t.key;this.JQt.has(i)||(this.JQt.add(i),this.VQt.add(s),this.qQt=i,this.HQt=s,this.XQt=e,this.fj(Iu.q9.Keyboard.V9.tYt),this.fj(Iu.q9.Keyboard.V9.sYt),this.fj(Iu.q9.Keyboard.V9.iYt),this.fj(Iu.q9.Keyboard.V9.eYt))}KQt(t){const s=t.which,i=t.code||s.toString(),e=t.key;this.JQt.delete(i),this.VQt.delete(s),this.qQt=i,this.HQt=s,this.XQt=e,this.fj(Iu.q9.Keyboard.V9.hYt),this.fj(Iu.q9.Keyboard.V9.nYt),this.fj(Iu.q9.Keyboard.V9.rYt),this.fj(Iu.q9.Keyboard.V9.oYt)}$Qt(){for(const t of this.VQt)this.VQt.delete(t),this.HQt=t,this.fj(Iu.q9.Keyboard.V9.hYt),this.fj(Iu.q9.Keyboard.V9.nYt),this.fj(Iu.q9.Keyboard.V9.oYt);this.JQt.clear()}QQt(t){return this.JQt.has(t)}YQt(t){return this.VQt.has(t)}IT(){return{tk:this.HQt,tkk:this.XQt}}GT(t){this.HQt=t.tk,t.hasOwnProperty("tkk")&&(this.XQt=t.tkk)}zvt(){const t="plugins.keyboard";return[{title:t+".name",properties:[{name:t+".debugger.last-key-code",value:this.HQt},{name:t+".debugger.last-key-string",value:Iu.q9.Keyboard.zht.aYt(this.HQt)},{name:t+".debugger.last-typed-key",value:this.XQt}]}]}}}{const Gu=self.js,Cu=["ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","MetaLeft","MetaRight"];Gu.q9.Keyboard.V9={QQt(t){return this.VQt.has(t)},sYt(t){return this.HQt===t},tYt(){return!0},hYt(){return!0},nYt(t){return this.HQt===t},YQt(t){return t=Math.floor(t),this.VQt.has(t)},eYt(t){return this.HQt===t},oYt(t){return this.HQt===t},iYt(t){const s=Cu[t];return this.qQt===s},rYt(t){const s=Cu[t];return this.qQt===s},uYt(t){const s=Cu[t];return this.JQt.has(s)}}}{const _u=self.js;_u.q9.Keyboard.jht={}}{let s=function(t){switch(t=Math.floor(t)){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"";case 38:return"";case 39:return"";case 40:return"";case 45:return"insert";case 46:return"del";case 91:return"left window key";case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(t)}};s;const Eu=self.js;Eu.q9.Keyboard.zht={lYt(){return this.HQt},aYt(t){return s(t)},cYt(){return this.XQt}}}{const Au=self.js;Au.q9.fYt=class extends Au._2t{constructor(t){super(t)}ln(){super.ln()}}}{let h=function(){return s.MP().cz()};h;const Du=self.js,Nu=self.qs;Du.q9.fYt.QGt=class extends Du.fvt{constructor(t){super(t)}ln(){super.ln()}Z2t(){}K2t(){return self.dYt}};let s=null;self.dYt=class extends self.wP{constructor(t){super(t),(s=t).P3().s3().i3=this}pYt(t){return h().mYt(t)[0]}gYt(t){return h().mYt(t)[1]}yYt(t){return h().mYt(t)}MYt(t){return h().wYt(t)}SYt(t){Nu._e(t),h().TYt(t)}bYt(t){const s=h(),i=s.P3(),e=i.g4(t);s.vYt(e)}}}{let r=self.js,o=null;r.q9.fYt.Instance=class extends r.yvt{constructor(t,s){super(t,"mouse"),this.xYt=[!1,!1,!1,!1,!1],this.IYt=0,this.GYt=0,this.CYt=0,this._Yt=0,this.EYt=0,this.AYt=0,this.DYt=0,this.NYt=0,this.LYt=!1,this.OYt=0,this.RYt=0,this._vt([["pointer-lock-change",t=>this.PYt(t)],["pointer-lock-error",t=>this.kYt(t)]]);const i=this.P3().Qf();this.b0=new r.w0(r.d0.M0(i,"pointermove",t=>this.FYt(t.data)),r.d0.M0(i,"pointerdown",t=>this.jYt(t.data)),r.d0.M0(i,"pointerup",t=>this.zYt(t.data)),r.d0.M0(i,"dblclick",t=>this.BYt(t.data)),r.d0.M0(i,"wheel",t=>this.UYt(t.data)),r.d0.M0(i,"window-blur",()=>this.FPt()))}ln(){super.ln()}jYt(t){"mouse"===t.pointerType&&(this.IYt=t.pageX-this.cf.mF(),this.GYt=t.pageY-this.cf.gF(),this.WYt(t.lastButtons,t.buttons))}FYt(t){this.OYt=t.movementX,this.RYt=t.movementY,this.fj(r.q9.fYt.V9.QYt),this.OYt=0,this.RYt=0,"mouse"===t.pointerType&&(this.IYt=t.pageX-this.cf.mF(),this.GYt=t.pageY-this.cf.gF(),this.WYt(t.lastButtons,t.buttons))}zYt(t){"mouse"===t.pointerType&&this.WYt(t.lastButtons,t.buttons)}WYt(t,s){this.YYt(t,s,1,0),this.YYt(t,s,4,1),this.YYt(t,s,2,2),this.YYt(t,s,8,3),this.YYt(t,s,16,4)}YYt(t,s,i,e){!(t&i)&&s&i?this.JYt(e):t&i&&!(s&i)&&this.VYt(e)}JYt(t){this.xYt[t]=!0,this.fj(r.q9.fYt.V9.HYt),this.CYt=t,this._Yt=0,this.fj(r.q9.fYt.V9.qYt),this.fj(r.q9.fYt.V9.XYt)}VYt(t){this.xYt[t]&&(this.xYt[t]=!1,this.CYt=t,this.fj(r.q9.fYt.V9.ZYt))}BYt(t){this.CYt=t.button,this._Yt=1,this.fj(r.q9.fYt.V9.qYt),this.fj(r.q9.fYt.V9.XYt)}UYt(t){this.EYt=t.deltaY<0?1:0,this.AYt=t.deltaX,this.DYt=t.deltaY,this.NYt=t.deltaZ,this.fj(r.q9.fYt.V9.KYt)}FPt(){for(let t=0,s=this.xYt.length;t<s;++t){if(!this.xYt[t])return;this.xYt[t]=!1,this.CYt=t,this.fj(r.q9.fYt.V9.ZYt)}}mYt(t){const s=this.cf.QR(),i=this.IYt,e=this.GYt;if(void 0===t){const h=s.M3(0);return h.t7(i,e)}{const n=s.g3(t);return n?n.pF(i,e):[0,0]}}wYt(t){return t=Math.floor(t),!!this.xYt[t]}$Yt(){return 0<=this.IYt&&0<=this.GYt&&this.IYt<this.cf.Gkt()&&this.GYt<this.cf.Ckt()}TYt(t){o!==t&&(o=t,this.Evt("cursor",t))}async vYt(t){if(!r.ci.Ti&&t){const s=t.GTt();if(s){const i=s.m3(),e=s.$vt();if(i&&e&&o!==e){const h=await(o=e).EIt(),n=`url(${h}) ${Math.round(i.Kz()*e.lm())} ${Math.round(i.tB()*e.xm())}, auto`;this.Evt("cursor",n)}}}}PYt(t){this.tJt(t["has-pointer-lock"])}kYt(t){this.tJt(t["has-pointer-lock"]),this.fj(r.q9.fYt.V9.sJt)}tJt(t){this.LYt!==t&&(this.LYt=t,this.LYt?this.fj(r.q9.fYt.V9.iJt):this.fj(r.q9.fYt.V9.eJt))}zvt(){const t="plugins.mouse";return[{title:t+".name",properties:[{name:t+".debugger.absolute-position",value:this.IYt+","+this.GYt},{name:t+".debugger.left-button",value:this.xYt[0]},{name:t+".debugger.middle-button",value:this.xYt[1]},{name:t+".debugger.right-button",value:this.xYt[2]},{name:t+".debugger.button-4",value:this.xYt[3]},{name:t+".debugger.button-5",value:this.xYt[4]}]},{title:t+".debugger.position-on-each-layer",properties:this.cf.QR().uk().map(t=>({name:"$"+t.tf(),value:t.pF(this.IYt,this.GYt).join(", ")}))}]}}}{const Lu=self.js;Lu.q9.fYt.V9={qYt(t,s){return this.CYt===t&&this._Yt===s},HYt(){return!0},hJt(t){return this.xYt[t]},ZYt(t){return this.CYt===t},nJt(t){const s=this.cf.m1t(),i=s.jwt(),e=[];return this.$Yt()&&e.push([this.IYt,this.GYt]),Lu.xor(this.cf.CO().kNt(t,e,i),i)},XYt(t,s,i){if(t!==this.CYt||s!==this._Yt)return!1;if(!this.$Yt())return!1;const e=this.IYt,h=this.GYt;return this.cf.CO().kNt(i,[[e,h]],!1)},KYt(t){return 2===t||this.EYt===t},iJt(){return!0},eJt(){return!0},sJt(){return!0},rJt(){return this.LYt},QYt(){return!0}}}{const Ou=self.js,Ru=["auto","pointer","text","crosshair","move","help","wait","none"];Ou.q9.fYt.jht={oJt(t){this.TYt(Ru[t])},aJt(t){this.vYt(t)},uJt(t){this.Dvt("request-pointer-lock",{unadjustedMovement:t})},lJt(){this.Evt("release-pointer-lock")}}}{const Pu=self.js;Pu.q9.fYt.zht={Bbt(t){return this.mYt(t)[0]},Ubt(t){return this.mYt(t)[1]},cJt(){return this.IYt},fJt(){return this.GYt},dJt(){return this.OYt},pJt(){return this.RYt},mJt(){return this.AYt},gJt(){return this.DYt},yJt(){return this.NYt}}}{const ku=self.js;ku.q9.bht=class extends ku._2t{constructor(t){super(t)}ln(){super.ln()}}}{const Fu=self.js,ju=self.qs,zu=[],Bu=(Fu.q9.bht.QGt=class extends Fu.fvt{constructor(t){super(t),this.kGt=t.bCt()}ln(){Fu.Br(this.kGt),super.ln()}Z2t(){for(const t of this.kGt)t.FIt(this.cf)}y9(s){const i={cb:this.cf.zO()};return Promise.all(this.kGt.map(t=>t.jIt(s,i)))}v9(){for(const t of this.kGt)t.zIt()}S9(){this.MJt()}MJt(){for(const t of this.Hct.DP())t.cz().wJt()}Xwt(t){Fu.q9.bht.a2t(this,t)}RSt(t){zu.push({gvt:null,SJt:!1,instances:[]})}TJt(t,s,i){const e=zu.at(-1);e.gvt=t,e.SJt=i,e.instances.push(s)}PSt(t){const s=zu.pop(),i=s.gvt,e=s.SJt;if(i){const h=new Map;for(const n of s.instances)n.N_t(h,i,e);for(const[r,o]of h)r.LP().wft(o)}}bJt(t){const s=this.CF().CCt(t),i=this.P3(),e=s.BIt(0);return e.qz().bW(i.RS(),{cb:i.zO()}).then(()=>this.MJt()),s}vJt(t){for(const s of this.Hct.DP())s.cz().xJt(t);this.CF()._Ct(t)}IJt(t,s){const i=this.Hct.ICt(t);if(!i)throw new Error(`cannot find animation name '${t}'`);let e=i.YIt(s);e<0&&(e+=i.zz()+1);const h=Fu.RIt.kIt(this.P3()),n=(i.UIt(h,e),this.P3());h.qz().bW(n.RS(),{cb:n.zO()}).then(()=>this.MJt());for(const r of this.Hct.DP())r.cz().GJt();return h}CJt(t,s){const i=this.Hct.ICt(t);if(!i)throw new Error(`cannot find animation name '${t}'`);if(1===i.zz())throw new Error(`cannot remove last frame from animation '${t}'`);let e=i.YIt(s);e<0&&(e+=i.zz()),i.WIt(e);for(const h of this.Hct.DP())h.cz().GJt()}K2t(){return self._Jt}},new WeakMap);self._Jt=class extends self.wP{constructor(t){super(t),Bu.set(this,t.OSt())}EJt(t){ju._e(t);const s=Bu.get(this).CF().ICt(t);return s?s.JIt():null}AJt(){return Bu.get(this).CF().xCt().map(t=>t.JIt())}DJt(t){return ju._e(t),Bu.get(this).bJt(t).JIt()}NJt(t){ju._e(t),Bu.get(this).vJt(t)}LJt(t,s){if(ju._e(t),"number"!=typeof s&&"string"!=typeof s)throw new TypeError("invalid insert location");return Bu.get(this).IJt(t,s).Wz()}OJt(t,s){if(ju._e(t),"number"!=typeof s&&"string"!=typeof s)throw new TypeError("invalid insert location");Bu.get(this).CJt(t,s)}}}{const A=self.js,Uu=self.qs,Wu=A.un(A.Rect),Qu=A.un(A.tl),Yu=A.un(A.tu),D=(A.q9.bht.Instance=class extends A.Yvt{constructor(t,s){super(t);let i=!0,e="",h=0,n=!0;s&&(i=!!s[0],e=s[1],h=s[2],n=s[3]),this.RJt=this.Hct.ICt(e)||this.Hct.bCt()[0],this.PJt=A.gn(h,0,this.RJt.zz()-1),this.kJt=this.RJt.BIt(this.PJt);const r=this.kJt.qz(),o=(this.FJt=r.E2(),this.jJt=r.E_(),this.zJt=r.hxt(),this.qvt(),t.A_t(2,!0),t.A_t(1,0<=this.RJt.Lz()),this.BJt=Math.abs(this.RJt.Lz()),this.UJt=this.RJt.kz(),this.WJt=A.un(A.I0),this.QJt=0,this.YJt=0,this.JJt="",this.VJt=-1,this.HJt="",this.qJt=0,this.m3());this.XJt=o.Zj(),o.Pk(i),o.d5(n),o.irt(this.kJt.Kz()),o.hrt(this.kJt.tB()),o.bDt(this.kJt.lB()),o.Bj(),1===this.Hct.vCt()&&1===this.Hct.bCt()[0].zz()||0===this.BJt||this.Pvt()}ln(){this.RJt=null,this.kJt=null,this.FJt=null,this.WJt=null,super.ln()}$vt(){return this.kJt.qz()}rit(){return!0}vY(){this.FJt=null}Kvt(){this.wJt()}tb(t){const s=this.FJt;if(null!==s){t.LA(s);const i=this.m3();i.ez()?this.bUt(i,t):this.vUt(i,t)}}vUt(t,s){let i=this.XJt;this.cf.UO()&&(i=t.mDt(i)),s.WA(i,this.zJt)}bUt(s,t){const i=s.LDt();if(s.RDt()){s.fDt(Wu,Qu,!1);let t=Qu;this.cf.UO()&&(t=s.mDt(t)),i.$T(s.hz(),t,this.zJt),s.ODt(!1)}i.tb(t)}ZJt(){return this.WJt.hi()}KJt(){return this.Gi.D_t(2)}$Jt(t){this.Gi.A_t(2,t)}tVt(){return this.Gi.D_t(1)}sVt(t){this.Gi.A_t(1,t)}iVt(){return this.Gi.D_t(4)}eVt(t){this.Gi.A_t(4,t)}bZ(){this.HJt&&this.hVt(),0<=this.VJt&&this.nVt();const t=this.BJt;if(this.KJt()&&0!==t){const s=this.cf.wR(this.Gi),i=(this.WJt.fc(s),this.ZJt()),e=this.kJt,h=e.Xz()/t;if(!(i<this.QJt+h)){const n=this.RJt,r=this.UJt,o=n.zz(),a=n.Rz(),u=n.Oz(),l=n.jz(),c=(this.tVt()?this.PJt++:this.PJt--,this.QJt+=h,this.PJt>=o&&(l?(this.sVt(!1),this.PJt=o-2):!u&&(this.YJt++,this.YJt>=a)?this.rVt(!1):this.PJt=r),this.PJt<0&&(l?(this.PJt=1,this.sVt(!0),u||(this.YJt++,this.YJt>=a&&this.rVt(!0))):!u&&(this.YJt++,this.YJt>=a)?this.rVt(!0):this.PJt=r),this.PJt=A.gn(this.PJt,0,o-1),n.BIt(this.PJt));i>this.QJt+c.Xz()/t&&(this.QJt=i),this.oVt(e,c)}}else this.Svt()}rVt(t){this.PJt=t?0:this.RJt.zz()-1,this.$Jt(!1),this.JJt=this.RJt.tf(),this.eVt(!0),this.mvt("animationend",!1,{animationName:this.JJt}),this.fj(A.q9.bht.V9.aVt),this.fj(A.q9.bht.V9.uVt),this.eVt(!1),this.YJt=0}oVt(i,e,t){if(i!==e){const s=this.m3(),h=i.qz(),n=e.qz(),r=h.lm(),o=h.xm(),a=n.lm(),u=n.xm(),l=(t&&t.onFrameChange?t.onFrameChange(s,r,o,a,u):(r!==a&&s.Sm(s.lm()*(a/r)),o!==u&&s.fm(s.xm()*(u/o))),s.irt(e.Kz()),s.hrt(e.tB()),s.bDt(e.lB()),s.Bj(),this.kJt=e,this.FJt=n.E2(),this.jJt=n.E_(),this.zJt=n.hxt(),this.jB().ght());for(let t=0,s=l.length;t<s;++t)l[t].Qxt(i,e);this.mvt("framechange",!1,{animationName:this.RJt.tf(),lVt:this.PJt}),this.fj(A.q9.bht.V9.cVt),this.cf.b3()}}fVt(t){this.$Jt(!0),this.QJt=this.ZJt(),1===t&&0!==this.PJt&&(this.VJt=0,this.iVt()||this.nVt()),this.Pvt()}dVt(t,s,i){this.HJt=t,this.qJt=s,this.Pvt(),!i&&this.iVt()||this.hVt()}pVt(){return this.RJt}mVt(){return this.HJt||this.RJt.tf()}xJt(t){A.wh(t,this.mVt())&&this.dVt(this.Hct.ECt().tf(),1,!0)}gVt(t){if("string"==typeof t)if(String(Number(t))===t)t=Number(t);else{const s=this.Hct.ICt(this.mVt());if(!s)return;if(-1===(t=s.QIt(t)))return}isFinite(t)&&(this.VJt=t,this.iVt()||this.nVt())}GJt(){if(!this.HJt&&-1===this.VJt){const t=this.kJt,s=this.RJt.BIt(A.gn(this.PJt,0,this.RJt.zz()-1));t!==s&&this.oVt(t,s),1<this.RJt.zz()&&0<this.BJt&&this.Pvt()}}yVt(){return this.PJt}MVt(){return this.kJt.pB()}wVt(t){this.BJt=Math.abs(t),this.sVt(0<=t),0<this.BJt&&this.Pvt()}SVt(){return this.tVt()?this.BJt:-this.BJt}TVt(t){"string"==typeof t&&-1===(t=this.RJt.QIt(t))||(t=A.gn(Math.floor(t),0,this.RJt.zz()-1),this.UJt=t)}bVt(){return this.UJt}hVt(t){const s=this.kJt,i=this.Hct.ICt(this.HJt);if(this.HJt="",i&&(i!==this.RJt||!this.KJt())){this.RJt=i,this.sVt(0<=i.Lz()),this.BJt=Math.abs(i.Lz()),this.UJt=i.kz(),this.PJt=A.gn(this.PJt,0,this.RJt.zz()-1),1===this.qJt&&(this.PJt=0),this.$Jt(!0),this.QJt=this.ZJt();const e=this.RJt.BIt(this.PJt);this.oVt(s,e,t)}}nVt(t){const s=this.kJt,i=this.PJt;if(this.PJt=A.gn(Math.floor(this.VJt),0,this.RJt.zz()-1),this.VJt=-1,t||i!==this.PJt){const e=this.RJt.BIt(this.PJt);this.oVt(s,e),this.QJt=this.ZJt()}}wJt(){const t=this.kJt.qz();this.FJt=t.E2(),this.jJt=t.E_(),this.zJt=t.hxt(),this.m3().ODt(!0)}E2(){return this.FJt}E_(){return this.jJt}hxt(){return this.zJt}eB(){return this.kJt.eB()}qSt(t){let s=this.kJt,i=this.m3(),e=null;if("string"==typeof t)e=s.aB(t);else{if("number"!=typeof t)throw new TypeError("expected string or number");e=s.oB(t-1)}let h=i.Vj();if(!e)return[i.fT(),i.mT(),h];if(Yu.C(e.eGt()),i.ez()){const[n,r,o]=i.hz().rb(Yu.nu(),Yu.ou());Yu.set(n,r),h+=o}return Yu.offset(-s.Kz(),-s.tB()),Yu.scale(i.lm(),i.xm()),Yu.rotate(i.KP()),Yu.offset(i.fT(),i.mT()),[Yu.nu(),Yu.ou(),h]}vVt(){return this.m3().CDt().zl()}xVt(t){t=Math.floor(t);const s=this.m3(),i=s.CDt(),e=i.zl();if((t=t===e?0:t)<0||e<=t)return[0,0];const h=i.jl();return[h[2*t+0]+s.fT(),h[2*t+1]+s.mT()]}zvt(){const s=A.q9.bht.jht,t="plugins.sprite.debugger.animation-properties";return[{title:t+".title",properties:[{name:t+".current-animation",value:this.RJt.tf(),VUt:t=>this.Uvt(s.IVt,t,0)},{name:t+".current-frame",value:this.PJt,VUt:t=>this.Uvt(s.GVt,t)},{name:t+".is-playing",value:this.KJt(),VUt:t=>t?this.Uvt(s.CVt,0):this.Uvt(s._Vt)},{name:t+".speed",value:this.BJt,VUt:t=>this.Uvt(s.EVt,t)},{name:t+".repeats",value:this.YJt,VUt:t=>this.YJt=t}]}]}IT(){const t={a:this.RJt.BV()},s=(0!==this.QJt&&(t.fs=this.QJt),this.ZJt()),i=(0!==s&&(t.at=s),0!==this.PJt&&(t.f=this.PJt),0!==this.BJt&&(t.cas=this.BJt),1!==this.YJt&&(t.ar=this.YJt),0!==this.UJt&&(t.rt=this.UJt),this.KJt()||(t.ap=this.KJt()),this.tVt()||(t.af=this.tVt()),this.m3());return i.f5()&&(t.ce=i.f5()),t}GT(t){const s=this.CF().GCt(t.a),i=(s&&(this.RJt=s),this.QJt=t.hasOwnProperty("fs")?t.fs:0,this.WJt.Set(t.hasOwnProperty("at")?t.at:0),t.hasOwnProperty("f")?t.f:0),e=(this.PJt=A.gn(i,0,this.RJt.zz()-1),this.BJt=t.hasOwnProperty("cas")?t.cas:0,this.YJt=t.hasOwnProperty("ar")?t.ar:1,t.hasOwnProperty("rt")?t.rt:0),h=(this.UJt=A.gn(e,0,this.RJt.zz()-1),this.$Jt(!t.hasOwnProperty("ap")||!!t.ap),this.sVt(!t.hasOwnProperty("af")||!!t.af),this.RJt.BIt(this.PJt)),n=(this.kJt=h,this.wJt(),this.m3());n.irt(h.Kz()),n.hrt(h.tB()),n.bDt(h.lB()),n.d5(!!t.ce),this.KJt()&&this.Pvt()}vnt(t){const s=this.m3();switch(t){case 3:return s.f5();case 2:return A.gn(this.PJt,0,this.RJt.zz()-1);case 1:return this.RJt.tf()}}Ent(t,s,i){const e=this.m3();switch(t){case 3:e.d5(!!s);break;case 2:{this.$Jt(!1);const h=this.RJt.zz()-1,n=s=A.gn(s,0,h),r=this.RJt.BIt(this.PJt),o=this.RJt.BIt(n);this.oVt(r,o,i),this.PJt=A.gn(n,0,h);break}case 1:{this.HJt=s,this.hVt(i);const a=this.RJt.zz();1<a&&0<this.RJt.Lz()?this.Pvt():this.Svt();break}}}K2t(){return self.AVt}},new WeakMap),Ju=new Map([["current-frame",0],["beginning",1]]);self.AVt=class extends self.rz{constructor(){super(),D.set(this,self.IF.AF().cz())}iB(){return D.get(this).eB()}hB(t){return this.nB(t)[0]}rB(t){return this.nB(t)[1]}DVt(t){return this.nB(t)[2]}nB(t){if("string"!=typeof t&&"number"!=typeof t)throw new TypeError("expected string or number");return D.get(this).qSt(t)}uB(){return D.get(this).vVt()}cB(t){return Uu.xe(t),D.get(this).xVt(t)[0]}dB(t){return Uu.xe(t),D.get(this).xVt(t)[1]}fB(t){return Uu.xe(t),D.get(this).xVt(t)}NVt(){D.get(this).$Jt(!1)}LVt(t="current-frame"){Uu._e(t);const s=Ju.get(t);if(void 0===s)throw new Error("invalid mode");D.get(this).fVt(s)}OVt(t,s="beginning"){Uu._e(t),Uu._e(s);const i=Ju.get(s);if(void 0===i)throw new Error("invalid mode");const e=D.get(this);if(!e.CF().ICt(t))throw new Error(`animation name "${t}" does not exist`);e.dVt(t,i)}EJt(t){Uu._e(t);const s=D.get(this).CF().ICt(t);return s?s.JIt():null}get animation(){return D.get(this).pVt().JIt()}get animationName(){return D.get(this).mVt()}set lVt(t){Uu.xe(t),D.get(this).gVt(t)}get lVt(){return D.get(this).yVt()}set RVt(t){Uu._e(t),D.get(this).gVt(t)}get RVt(){return D.get(this).MVt()}set PVt(t){Uu.xe(t),D.get(this).wVt(t)}get PVt(){return D.get(this).SVt()}set kVt(t){Uu.xe(t),D.get(this).TVt(t)}get kVt(){return D.get(this).bVt()}get imageWidth(){return D.get(this).$vt().lm()}get imageHeight(){return D.get(this).$vt().xm()}n6t(){const t=D.get(this).$vt();return[t.lm(),t.xm()]}async FVt(t){Uu.nh(t,Blob);const s=D.get(this),i=s.P3(),e=s.$vt(),h=A.un(A.oIt);if(h.TIt(i,t),await h.bW(i.RS(),{cb:i.zO()}),s.cn())h.ln();else{e.bIt(h);const n=s.OSt();n.MJt(),n.CF().Qf().dispatchEvent(new A.Event("animationframeimagechange")),i.b3()}}jVt(t,s){Uu._e(s),D.get(this).m3().lDt(!!t,s)}}}{const Vu=self.js;Vu.q9.bht.V9={zVt(t){return Vu.wh(this.mVt(),t)},BVt(t,s){return Vu.compare(this.PJt,t,s)},UVt(t,s){if("string"!=typeof s)return!1;const i=this.kJt.pB();return Vu.compare(i.toLowerCase(),t,s.toLowerCase())},WVt(t,s){return Vu.compare(this.SVt(),t,s)},uVt(t){return Vu.wh(this.JJt,t)},aVt(){return!0},cVt(){return!0},QVt(){return this.m3().lm()<0},YVt(){return this.m3().xm()<0},y6t(){return!0},M6t(){return!0},f5(){return this.m3().f5()}}}{const Hu=self.js;Hu.q9.bht.jht={JVt(t,s,i,e,h){if(t&&s){const[n,r]=this.qSt(i),o=this.cf.kP(t,s,n,r,e,h);if(o){if(e&&s.FP(o),t.TP().iP()){const u=o.m3();u.ZP(this.m3().KP()),u.Bj()}const a=this.cf.ZO();a.jP(!0),o.zP(),a.jP(!1),t!==this.cf.y1t().CF()&&this.wvt.TJt(t,o,e)}}},_Vt(){this.$Jt(!1)},CVt(t){this.fVt(t)},IVt(t,s){this.dVt(t,s)},GVt(t){this.gVt(t)},EVt(t){this.wVt(t)},VVt(t){this.TVt(t)},HVt(s,t){try{0===s?this.OSt().bJt(t):this.OSt().vJt(t)}catch(t){console.error(`[Construct] Error ${0===s?"adding":"removing"} animation: `,t)}},qVt(s,t,i){try{0===s?this.OSt().IJt(t,i):this.OSt().CJt(t,i)}catch(t){console.error(`[Construct] Error ${0===s?"adding":"removing"} animation frame: `,t)}},XVt(t){const s=this.m3(),i=s.lm(),e=Math.abs(i)*(0===t?-1:1);i!==e&&(s.Sm(e),s.Bj())},ZVt(t){const s=this.m3(),i=s.xm(),e=Math.abs(i)*(0===t?-1:1);i!==e&&(s.fm(e),s.Bj())},qP(t){const s=this.kJt,i=s.qz(),e=this.m3(),h=e.lm()<0?-1:1,n=e.xm()<0?-1:1,r=i.lm()*t*h,o=i.xm()*t*n;e.lm()===r&&e.xm()===o||(e.KC(r,o),e.Bj())},async A6t(t,s,i){const e=this.kJt,h=e.qz(),n=this.m3(),r=this.cf,o=this.wvt;if(h.QQ()===t)0===s&&(n.KC(h.lm(),h.xm()),n.Bj()),this.fj(Hu.q9.bht.V9.y6t);else{const a=Hu.un(Hu.oIt);try{if(await a.SIt(r,t),!a.yY())throw new Error("image failed to load");if(this.cn())return void a.ln();await a.bW(r.RS(),{cb:r.zO()})}catch(t){return console.error("Load image from URL failed: ",t),void(this.cn()||this.fj(Hu.q9.bht.V9.M6t))}this.cn()?a.ln():(h.bIt(a),o.MJt(),o.CF().Qf().dispatchEvent(new Hu.Event("animationframeimagechange")),r.b3(),0===s&&(n.KC(h.lm(),h.xm()),n.Bj()),await this.pj(Hu.q9.bht.V9.y6t))}},KVt(t){this.m3().d5(t)},lDt(t,s){this.m3().lDt(0===t,s)},E6t(t){this.m3().sT(t),this.cf.b3()}}}{const qu=self.js;qu.q9.bht.zht={$Vt(){return this.yVt()},t8t(){return this.MVt()},s8t(){return this.RJt.zz()},i8t(){return this.RJt.tf()},e8t(){return this.SVt()},h8t(){return this.RJt.Lz()},n8t(t){return this.qSt(t)[0]},r8t(t){return this.qSt(t)[1]},o8t(t){return this.qSt(t)[2]},a8t(){return this.eB()},D6t(){return this.$vt().lm()},N6t(){return this.$vt().xm()},u8t(t){return this.xVt(t)[0]},l8t(t){return this.xVt(t)[1]},c8t(){return this.vVt()}}}{const Xu=self.js;Xu.q9.f8t=class extends Xu._2t{constructor(t){super(t)}ln(){super.ln()}}}{const Zu=self.js;Zu.q9.f8t.QGt=class extends Zu.fvt{constructor(t){super(t)}ln(){super.ln()}Z2t(){}}}{const Ku=self.js;Ku.q9.f8t.Instance=class extends Ku.yvt{constructor(t,s){super(t,"localstorage"),this.d8t="",this.$x="",this.p8t=[],this.m8t="",this.g8t=!1,this.y8t=0,this.M8t=0,this.w8t=!1,s&&(this.w8t=s[0]);const i=this.cf.U4();this.B4=null,this.w8t?this.B4=i.Fi({ji:!0}):this.B4=i,this.S8t=new Map,this.T8t=!1,this.cf._3(this.cT())}async cT(){const t=await Promise.race([this.Avt("init"),Ku.Rr(3e3)]);t&&(this.g8t=t.isPersistent)}ln(){super.ln()}async b8t(t){this.m8t=this.v8t(t),await this.pj(Ku.q9.f8t.V9.x8t)}v8t(t){return t?"string"==typeof t?t:"string"==typeof t.message?t.message:"string"==typeof t.name?t.name:"string"==typeof t.data?t.data:"unknown error":"unknown error"}zvt(){return this.T8t||this.I8t(),[{title:"plugins.localstorage.name",properties:[...this.S8t.entries()].map(s=>({name:"$"+s[0],value:s[1],VUt:t=>this.B4.setItem(s[0],t)}))}]}async I8t(){this.T8t=!0;try{const i=await this.B4.keys(),e=(i.sort((t,s)=>{const i=t.toLowerCase(),e=s.toLowerCase();return i<e?-1:e<i?1:0}),await Promise.all(i.map(t=>this.B4.getItem(t))));this.S8t.clear();for(let t=0,s=i.length;t<s;++t)this.S8t.set(i[t],e[t])}catch(t){console.warn("[C3 debugger] Error displaying local storage: ",t)}finally{this.T8t=!1}}}}{const $u=self.js;$u.q9.f8t.V9={G8t(t){return this.d8t===t},C8t(){return!0},_8t(t){return this.d8t===t},E8t(){return!0},A8t(t){return this.d8t===t},D8t(){return!0},N8t(){return!0},L8t(){return!0},x8t(){return!0},O8t(t){return this.d8t===t},R8t(t){return this.d8t===t},P8t(t,s){return $u.compare(this.d8t,t,s)},k8t(t,s){return $u.compare(this.$x,t,s)},F8t(){return 0<this.M8t},j8t(){return 0<this.y8t},z8t(){return!0},B8t(){return!0},U8t(){return this.g8t}}}{let i=function(t){return"string"==typeof t||"number"==typeof t};i;const tl=self.js;tl.q9.f8t.jht={async W8t(t,s){this.M8t++;try{const i=await this.B4.setItem(t,s);await this.Gvt(async()=>{this.d8t=t,this.$x=i,await this.pj(tl.q9.f8t.V9.C8t),await this.pj(tl.q9.f8t.V9.G8t)})}catch(t){await this.b8t(t)}finally{this.M8t--,0===this.M8t&&await this.pj(tl.q9.f8t.V9.z8t)}},async Q8t(t,s){if(s){const i=s.GTt(this.Gi);if(i){const e=i.cz();if(e){const h=e.GetArrayBufferReadOnly();this.M8t++;try{await this.B4.setItem(t,h),await this.Gvt(async()=>{this.d8t=t,this.$x="",await this.pj(tl.q9.f8t.V9.C8t),await this.pj(tl.q9.f8t.V9.G8t)})}catch(t){await this.b8t(t)}finally{this.M8t--,0===this.M8t&&await this.pj(tl.q9.f8t.V9.z8t)}}}}},async Y8t(t){this.y8t++;try{const s=await this.B4.getItem(t);await this.Gvt(async()=>{this.d8t=t,this.$x=i(s)?s:"",await this.pj(tl.q9.f8t.V9.E8t),await this.pj(tl.q9.f8t.V9._8t)})}catch(t){await this.b8t(t)}finally{this.y8t--,0===this.y8t&&await this.pj(tl.q9.f8t.V9.B8t)}},async J8t(s,t){if(t){const i=t.GTt(this.Gi);if(i){const e=i.cz();this.y8t++;try{let t=await this.B4.getItem(s);t=t instanceof ArrayBuffer?t:new ArrayBuffer(0),await this.Gvt(async()=>{this.$x="",this.d8t=s,e.SetArrayBufferTransfer(t),await this.pj(tl.q9.f8t.V9.E8t),await this.pj(tl.q9.f8t.V9._8t)})}catch(t){await this.b8t(t)}finally{this.y8t--,0===this.y8t&&await this.pj(tl.q9.f8t.V9.B8t)}}}},async V8t(t){try{const s=await this.B4.getItem(t);await this.Gvt(async()=>{this.d8t=t,null==s?(this.$x="",await this.pj(tl.q9.f8t.V9.R8t)):(this.$x=i(s)?s:"",await this.pj(tl.q9.f8t.V9.O8t))})}catch(t){await this.b8t(t)}},async nf(t){try{await this.B4.removeItem(t),await this.Gvt(async()=>{this.d8t=t,this.$x="",await this.pj(tl.q9.f8t.V9.D8t),await this.pj(tl.q9.f8t.V9.A8t)})}catch(t){await this.b8t(t)}},async H8t(){try{await this.B4.clear(),await this.Gvt(async()=>{this.d8t="",this.$x="",tl.Br(this.p8t),await this.pj(tl.q9.f8t.V9.N8t)})}catch(t){await this.b8t(t)}},async q8t(){try{const t=await this.B4.keys();await this.Gvt(async()=>{this.p8t=t,await this.pj(tl.q9.f8t.V9.L8t)})}catch(t){await this.b8t(t)}},async X8t(){const t=await this.Avt("request-persistent");t.isOk&&(this.g8t=t.isPersistent)},Z8t(s){if(this.w8t){let t;try{t=JSON.parse(s)}catch(t){return void console.error("[Local Storage] Failed to parse memory storage JSON: ",t)}t&&t["is-c3-storage"]&&Array.isArray(t.items)||console.error("[Local Storage] Failed to load memory storage JSON: invalid data"),this.B4.ki(new Map(t.items))}}}}{const sl=self.js;sl.q9.f8t.zht={K8t(){return this.$x},Key(){return this.d8t},$8t(){return this.p8t.length},tHt(t){return(t=Math.floor(t))<0||t>=this.p8t.length?"":this.p8t[t]},sHt(){return this.m8t},iHt(){return this.w8t?JSON.stringify({"is-c3-storage":!0,items:[...this.B4.Pi()]}):""}}}{const il=self.js;il.q9.eHt=class extends il._2t{constructor(t){super(t)}ln(){super.ln()}}}{const el=self.js;el.q9.eHt.QGt=class extends el.fvt{constructor(t){super(t)}ln(){super.ln()}Z2t(){this.qz().R3(this.cf)}y9(t){return this.qz().bW(t,{cb:this.cf.zO()})}v9(){this.qz().SC()}}}{let s=function(t){return ol.get(t).hHt()};s;const hl=self.js,nl=self.qs,rl=hl.un(hl.Rect),ol=(hl.q9.eHt.Instance=class extends hl.Yvt{constructor(t,s){super(t),this.nHt=!0;const i=hl.un(self.rHt);(this.aHt=i).oHt=()=>this.uHt(),this.lHt=null,this.cHt=(t,s,i,e,h,n)=>this.fHt(t,s,i,e,h,n),this.dHt=t=>this.pHt(t);let e=this.mHt=!0;s&&(i.gHt(s[0]),i.yHt(hl.Mn(s[1])),i.MHt(s[2]?"one-shot":"continuous-spray"),this.wHt(this.cf.v6(s[3])),e=s[4],i.SHt(s[5]),i.THt(s[6]),i.bHt(s[7]/100),i.vHt(s[8]),i.xHt(s[9]),i.IHt(s[10]),i.GHt(s[11]),i.CHt(s[12]),i._Ht(s[13]),i.EHt(s[14]),i.AHt(s[15]),i.DHt(s[16]),i.NHt(s[17]),i.LHt(s[18]),i.OHt(s[19]),i.RHt(s[20])),this.PHt(),this.lHt&&(this.mHt=!1),"one-shot"===i.kHt()?i.FHt():i.jHt(!0);const h=this.m3();h.Pk(e),h.yDt(!0),this.Gi.Qf().addEventListener("bboxchange",()=>{h.gDt(this.aHt.qj())}),this.P3().RS().EM()&&h.oDt(),this.IX=t=>this.GX(t),this.P3().Qf().addEventListener("afterload",this.IX),this.Pvt()}ln(){this.P3().Qf().removeEventListener("afterload",this.IX),this.IX=null,this.aHt.ln(),this.aHt=null,this.cHt=null,this.dHt=null,super.ln()}hHt(){return this.aHt}zHt(t){this.aHt.gHt(t),"one-shot"===this.aHt.kHt()&&this.nHt&&this.aHt.BHt(t)}wHt(t){(t=t===this.CF()?null:t)===this.lHt||(this.lHt=t,this.aHt.UHt=t?t=>this.WHt(t):null,this.lHt)||(this.mHt=!0)}PHt(){const t=this.aHt,s=this.m3();t.QHt(s._A()),t.R5t(this.cf.UO()),t.YHt(s.fT()),t.JHt(s.mT()),t.VHt(s.KP()),t.HHt(Math.abs(s.DAt()))}uHt(){this.cf.OF(this.Gi)}tb(t){if(this.mHt){const s=this.Hct.qz(),i=s.E2();if(i){const e=this.m3(),h=e.g3(),n=rl,r=(this.cf._4().ZRt()?n.set(-1/0,-1/0,1/0,1/0):h.T8()?h.KH(e.Vj(),n):h.o8(e.Vj(),n),t.LA(i),h.a8(e.Vj()));this.aHt.qHt(h.xF()*r),this.aHt.tb(t,s.hxt(),n,h.T8())}}}IT(){const t=this.aHt;return{r:t.XHt(),sc:t.ZHt(),st:t.kHt(),isp:t.KHt(),isz:t.$Ht(),io:t.t7t(),gr:t.s7t(),xr:t.i7t(),yr:t.e7t(),spr:t.h7t(),szr:t.n7t(),grnd:t.r7t(),acc:t.o7t(),g:t.a7t(),lar:t.u7t(),lsr:t.l7t(),lor:t.c7t(),dm:t.f7t(),to:t.d7t(),s:t.p7t(),pcc:t.m7t(),ft:this.nHt,soc:this.lHt?this.lHt.BV():null,p:t.g7t().map(t=>t.toJSON())}}GT(t,s){const i=this.aHt;if(i.gHt(t.r),i.yHt(t.sc),i.MHt(t.st),i.SHt(t.isp),i.THt(t.isz),i.bHt(t.io),i.vHt(t.gr),i.xHt(t.xr),i.IHt(t.yr),i.GHt(t.spr),i.CHt(t.szr),i._Ht(t.grnd),i.EHt(t.acc),i.AHt(t.g),i.DHt(t.lar),i.NHt(t.lsr),i.LHt(t.lor),i.OHt(t.dm),i.RHt(t.to),i.jHt(t.s),i.y7t(t.pcc),this.nHt=t.ft,t.hasOwnProperty("soc")){const n=this.P3().v6(t.soc);n&&this.wHt(n)}const e=t.p,h=(i.BHt(e.length,!1),i.g7t());for(let t=0,s=h.length;t<s;++t)h[t].Qa(e[t]);"state"===s&&this.lHt&&(i.M7t(),i.w7t(this))}GX(){const t=this.aHt,i=(t.M7t(),t.w7t(this),t.g7t());for(let t=0,s=i.length;t<s;++t){const e=i[t],h=e.S7t();if(h){const n=h.m3();if(n){const r=n.jB();if(r){const o=e.T7t(),a=r.BF();if(("number"!=typeof o||"number"!=typeof a||o!==a)&&"number"==typeof o){const u=this.P3(),l=u.a3(o);l&&u.OF(l)}}}}}}bZ(){const t=this.cf.wR(this.Gi);this.PHt(),this.nHt&&"one-shot"===this.aHt.kHt()&&this.aHt.b7t(),this.aHt.bZ(t),this.aHt.p7t()&&this.cf.b3(),this.m3().Bj(),this.nHt=!1}v7t(t){for(this.nHt&&"one-shot"===this.aHt.kHt()&&this.aHt.b7t();0<t;)this.aHt.bZ(1/60),t-=1/60;this.aHt.p7t()&&this.cf.b3(),this.m3().Bj(),this.nHt=!1}WHt(t,s){let i,e=(i=(i=(i="number"==typeof s?this.cf.a3(s):i)&&i.CF()!==this.lHt?null:i)||this.cf.kP(this.lHt,this.m3().g3(),t.fT(),t.mT())).m3();return e.KC(t.rc(),t.rc()),e.ZP(t.KP()),e.AA(t._A()),e.i5(this.m3().s5()),e.Bj(),e.l5(this.jB(),!0),i.U9(),t.x7t(this.cHt),t.I7t(this.dHt),i}fHt(t,s,i,e,h,n){if(!t.WU()){const r=t.m3();r.Yj(s,i),r.KC(r.lm()+e,r.xm()+e),r.ZP(r.KP()+h),r.AA(r._A()+n),r.Bj()}}pHt(t){t.WU()||this.cf.OF(t)}vnt(t){const s=this.aHt;switch(t){case 0:return s.XHt();case 1:return hl.wn(s.ZHt());case 2:return"one-shot"===s.kHt()?1:0;case 5:return s.KHt();case 6:return s.$Ht();case 7:return 100*s.t7t();case 8:return s.s7t();case 9:return s.i7t();case 10:return s.e7t();case 11:return s.h7t();case 12:return s.n7t();case 13:return s.r7t();case 14:return s.o7t();case 15:return s.a7t();case 16:return s.u7t();case 17:return s.l7t();case 18:return s.c7t();case 19:return s.f7t();case 20:return s.d7t()}}Ent(t,s){const i=this.aHt;switch(t){case 0:i.gHt(s);break;case 1:i.yHt(hl.Mn(s));break;case 2:i.MHt(s?"one-shot":"continuous-spray");break;case 5:i.SHt(s);break;case 6:i.THt(s);break;case 7:i.bHt(s/100);break;case 8:i.vHt(s);break;case 9:i.xHt(s);break;case 10:i.IHt(s);break;case 11:i.GHt(s);break;case 12:i.CHt(s);break;case 13:i._Ht(s);break;case 14:i.EHt(s);break;case 15:i.AHt(s);break;case 16:i.DHt(s);break;case 17:i.NHt(s);break;case 18:i.LHt(s);break;case 19:i.OHt(s);break;case 20:i.RHt(s)}}zvt(){const t="plugins.particles",s=t+".properties",i=t+".debugger",e=this.aHt;return[{title:t+".name",properties:[{name:i+".particle-count",value:e.G7t()},{name:s+".type.name",value:[s+".type.items."+e.kHt()]},{name:i+".is-spraying",value:e.p7t(),VUt:t=>e.jHt(t)},{name:s+".rate.name",value:e.XHt(),VUt:t=>e.gHt(t)},{name:s+".spray-cone.name",value:hl.wn(e.ZHt()),VUt:t=>e.yHt(hl.Mn(t))},{name:s+".speed.name",value:e.KHt(),VUt:t=>e.SHt(t)},{name:s+".size.name",value:e.$Ht(),VUt:t=>e.THt(t)},{name:s+".opacity.name",value:e.t7t(),VUt:t=>e.bHt(t)},{name:s+".grow-rate.name",value:e.s7t(),VUt:t=>e.vHt(t)},{name:s+".x-randomiser.name",value:e.i7t(),VUt:t=>e.xHt(t)},{name:s+".y-randomiser.name",value:e.e7t(),VUt:t=>e.IHt(t)},{name:s+".initial-speed-randomiser.name",value:e.h7t(),VUt:t=>e.GHt(t)},{name:s+".size-randomiser.name",value:e.n7t(),VUt:t=>e.CHt(t)},{name:s+".grow-rate-randomiser.name",value:e.r7t(),VUt:t=>e._Ht(t)},{name:s+".acceleration.name",value:e.o7t(),VUt:t=>e.EHt(t)},{name:s+".gravity.name",value:e.a7t(),VUt:t=>e.AHt(t)},{name:s+".angle-randomiser.name",value:e.u7t(),VUt:t=>e.DHt(t)},{name:s+".life-speed-randomiser.name",value:e.l7t(),VUt:t=>e.NHt(t)},{name:s+".opacity-randomiser.name",value:e.c7t(),VUt:t=>e.LHt(t)},{name:s+".timeout.name",value:e.d7t(),VUt:t=>e.RHt(t)}]}]}K2t(){return self.C7t}},new WeakMap);self.C7t=class extends self.rz{constructor(){super(),ol.set(this,self.IF.AF().cz())}set _7t(t){s(this).jHt(!!t)}get _7t(){return s(this).p7t()}set rate(t){nl.xe(t),ol.get(this).zHt(t)}get rate(){return s(this).XHt()}set E7t(t){nl.xe(t),s(this).yHt(t)}get E7t(){return s(this).ZHt()}set A7t(t){nl.xe(t),s(this).SHt(t)}get A7t(){return s(this).KHt()}set D7t(t){nl.xe(t),s(this).THt(t)}get D7t(){return s(this).$Ht()}set N7t(t){nl.xe(t),s(this).bHt(t)}get N7t(){return s(this).t7t()}set L7t(t){nl.xe(t),s(this).xHt(t)}get L7t(){return s(this).i7t()}set O7t(t){nl.xe(t),s(this).IHt(t)}get O7t(){return s(this).e7t()}set R7t(t){nl.xe(t),s(this).GHt(t)}get R7t(){return s(this).h7t()}set P7t(t){nl.xe(t),s(this).CHt(t)}get P7t(){return s(this).n7t()}set k7t(t){nl.xe(t),s(this).vHt(t)}get k7t(){return s(this).s7t()}set F7t(t){nl.xe(t),s(this)._Ht(t)}get F7t(){return s(this).r7t()}set acceleration(t){nl.xe(t),s(this).EHt(t)}get acceleration(){return s(this).o7t()}set j7t(t){nl.xe(t),s(this).AHt(t)}get j7t(){return s(this).a7t()}set z7t(t){nl.xe(t),s(this).DHt(t)}get z7t(){return s(this).u7t()}set B7t(t){nl.xe(t),s(this).NHt(t)}get B7t(){return s(this).l7t()}set U7t(t){nl.xe(t),s(this).LHt(t)}get U7t(){return s(this).c7t()}set timeout(t){nl.xe(t),s(this).RHt(t)}get timeout(){return s(this).d7t()}W7t(t){nl.xe(t),ol.get(this).v7t(t)}Q7t(t){const s=ol.get(this);t?s.wHt(s.P3().g4(t)):s.wHt(null)}}}{const al=self.js;al.q9.eHt.V9={p7t(){return this.aHt.p7t()}}}{const ul=self.js;ul.q9.eHt.jht={jHt(t){this.aHt.jHt(0!==t)},gHt(t){this.zHt(t)},Y7t(t){this.wHt(t)},J7t(){this.wHt(null)},yHt(t){this.aHt.yHt(ul.Mn(t))},SHt(t){this.aHt.SHt(t)},THt(t){this.aHt.THt(t)},bHt(t){this.aHt.bHt(t/100)},vHt(t){this.aHt.vHt(t)},V7t(t){this.aHt.xHt(t)},H7t(t){this.aHt.IHt(t)},q7t(t){this.aHt.GHt(t)},X7t(t){this.aHt.CHt(t)},Z7t(t){this.aHt._Ht(t)},K7t(t){this.aHt.EHt(t)},AHt(t){this.aHt.AHt(t)},$7t(t){this.aHt.DHt(t)},t9t(t){this.aHt.NHt(t)},s9t(t){this.aHt.LHt(t)},RHt(t){this.aHt.RHt(t)},i9t(t){this.v7t(t)},E6t(t){this.m3().sT(t),this.cf.b3()}}}{const ll=self.js;ll.q9.eHt.zht={e9t(){return this.aHt.G7t()},h9t(){return this.aHt.XHt()},n9t(){return ll.wn(this.aHt.ZHt())},r9t(){return this.aHt.KHt()},o9t(){return this.aHt.$Ht()},a9t(){return 100*this.aHt.t7t()},u9t(){return this.aHt.s7t()},l9t(){return this.aHt.i7t()},c9t(){return this.aHt.e7t()},f9t(){return this.aHt.n7t()},d9t(){return this.aHt.h7t()},p9t(){return this.aHt.r7t()},m9t(){return this.aHt.o7t()},g9t(){return this.aHt.a7t()},y9t(){return this.aHt.u7t()},M9t(){return this.aHt.l7t()},w9t(){return this.aHt.c7t()},S9t(){return this.aHt.d7t()}}}{const cl=self.js,fl=[],dl=new Set(["continuous-spray","one-shot"]),pl=["fade-to-invisible","timeout-expired","particle-stopped"],ml=cl.un(cl.Rect);self.rHt=class{constructor(){this.T9t=0,this.b9t=0,this.v9t="continuous-spray",this.x9t=!1,this.I9t=0,this.G9t=!1,this.C9t=0,this._9t=0,this.E9t=0,this.A9t=0,this.D9t=0,this.N9t=1,this.L9t=0,this.O9t=0,this.R9t=0,this.P9t=0,this.k9t=0,this.F9t=0,this.j9t=0,this.z9t=0,this.B9t=0,this.U9t=0,this.W9t=0,this.Q9t=0,this.Y9t=0,this.a0=0,this.J9t=0,this.V9t=1,this.oHt=null,this.UHt=null,this.H9t=[],this.sAt=new cl.Rect,this.KS=new cl.Jo}ln(){this.f0(),cl.Br(this.H9t),this.H9t=null,this.oHt=null,this.UHt=null,this.sAt=null,this.KS=null}f0(){const i=this.H9t;for(let t=0,s=i.length;t<s;++t)i[t].Tbt();cl.qh(fl,i),cl.Br(i),1e3<fl.length&&cl.zr(fl,1e3),this.x9t=!1}FHt(){for(let t=0,s=this.T9t;t<s;++t)this.q9t();this.H9t.length&&(this.x9t=!0)}q9t(t=!0){let s=null;return fl.length?(s=fl.pop()).X9t(this):s=cl.un(self.Z9t,this),this.H9t.push(s),t?s.c_t(this.UHt):s.c_t(),s}b7t(){const i=this.H9t,e=this.UHt;for(let t=0,s=i.length;t<s;++t)i[t].c_t(e)}M7t(){const i=this.H9t,e=this.UHt;for(let t=0,s=i.length;t<s;++t)i[t].K9t(e)}w7t(i){const e=this.H9t;for(let t=0,s=e.length;t<s;++t){const h=e[t],n=h.S7t();if(n){const r=n.m3();r.dT(h.fT()),r.gT(h.mT()),r.KC(h.rc(),h.rc()),r.AA(h._A()),r.ZP(h.KP()),r.i5(i.m3().s5()),r.Bj()}}}BHt(t,s=!0){const i=this.H9t;if(t<i.length){const e=i.length-t;for(let t=0;t<e;++t){const h=i.pop();h.Tbt(),fl.push(h)}1e3<fl.length&&cl.zr(fl,1e3)}else if(t>i.length){const n=t-i.length;for(let t=0;t<n;++t)this.q9t(s)}}g7t(){return this.H9t}G7t(){return this.H9t.length}bZ(t){this.$9t(t),this.tqt(t),this.sqt()}$9t(t){if("continuous-spray"===this.v9t&&this.x9t){this.J9t+=t*this.T9t;const s=Math.floor(this.J9t);this.J9t-=s;for(let t=0;t<s;++t)this.q9t()}}y7t(t){this.J9t=t}m7t(){return this.J9t}tqt(i){let e=this.sAt,h=(e.set(this.C9t,this._9t,this.C9t,this._9t),this.H9t),n=0;for(let t=0,s=h.length;t<s;++t){const r=h[t];(h[n]=r).bZ(i),r.Jpt()?(++n,e.Ku(r.qj())):(r.Tbt(),fl.push(r))}cl.zr(h,n),1e3<fl.length&&cl.zr(fl,1e3)}sqt(){"one-shot"===this.v9t&&0===this.H9t.length&&this.x9t&&(this.oHt&&this.oHt(),this.x9t=!1)}tb(i,e,h,n){ml.set(e.$n(),e.ir(),e.nr(),e.rr()),i.HA(ml),this.KS.C(i.NA());const r=this.H9t;for(let t=0,s=r.length;t<s;++t){const o=r[t];h.Hu(o.qj())&&o.tb(i,e,n)}i.qA()}NA(){return this.KS}gHt(t){this.T9t=+t}XHt(){return this.T9t}yHt(t){this.b9t=+t}ZHt(){return this.b9t}MHt(t){if(!dl.has(t))throw new Error("invalid spray type");this.v9t=t}kHt(){return this.v9t}jHt(t){this.x9t=!!t}p7t(){return this.x9t}QHt(t){this.I9t=+t}iqt(){return this.I9t}R5t(t){this.G9t=!!t}eqt(){return this.G9t}YHt(t){this.C9t=+t}hqt(){return this.C9t}JHt(t){this._9t=+t}nqt(){return this._9t}VHt(t){this.E9t=+t}rqt(){return this.E9t}SHt(t){this.A9t=+t}KHt(){return this.A9t}THt(t){this.D9t=+t}$Ht(){return this.D9t}HHt(t){this.N9t=+t}oqt(){return this.N9t}bHt(t){this.L9t=+t}t7t(){return this.L9t}vHt(t){this.O9t=+t}s7t(){return this.O9t}xHt(t){this.R9t=+t}i7t(){return this.R9t}IHt(t){this.P9t=+t}e7t(){return this.P9t}GHt(t){this.k9t=+t}h7t(){return this.k9t}CHt(t){this.F9t=+t}n7t(){return this.F9t}_Ht(t){this.j9t=+t}r7t(){return this.j9t}EHt(t){this.z9t=+t}o7t(){return this.z9t}AHt(t){this.B9t=+t}a7t(){return this.B9t}DHt(t){this.U9t=+t}u7t(){return this.U9t}NHt(t){this.W9t=+t}l7t(){return this.W9t}LHt(t){this.Q9t=+t}c7t(){return this.Q9t}aqt(t){let s=pl.indexOf(t);if(-1===s)throw new Error("invalid destroy mode");this.Y9t=s}OHt(t){this.aqt(pl[t])}uqt(){return pl[this.Y9t]}f7t(){return this.Y9t}RHt(t){this.a0=+t}d7t(){return this.a0}qHt(t){this.V9t=+t}lqt(){return this.V9t}qj(){return this.sAt}}}{let p=function(t){return Math.random()*t-t/2},m=(p,self.js),u=new m.tl,l=new m.Jo,t=self.devicePixelRatio||1,c=!1;self.Z9t=class{constructor(t){this.cqt=t,this.l0=!1,this.su=0,this.iu=0,this.DIt=0,this.IJ=0,this.fqt=1,this.dqt=0,this.pqt=0,this.dY=0,this.mqt=0,this.gqt=0,this.yqt=0,this.Pl=new m.Rect,this.Mqt=null,this.wqt=NaN,this.Sqt=null,this.Tqt=null}X9t(t){this.cqt=t}c_t(t){const s=this.cqt;this.l0=!0,this.su=s.hqt()+p(s.i7t()),this.iu=s.nqt()+p(s.e7t()),this.DIt=s.KHt()+p(s.h7t()),this.IJ=s.rqt()+p(s.ZHt()),this.fqt=s.t7t(),this.dqt=this.fqt,this.dY=(s.$Ht()+p(s.n7t()))*s.oqt(),this.mqt=this.dY/2,this.pqt=s.s7t()+p(s.r7t()),this.gqt=0,this.yqt=0,this.bqt(),t?this.Mqt||(this.Mqt=t(this)):(this.Mqt=null,this.Sqt=null,this.Tqt=null)}K9t(t){t?this.Mqt&&!this.Mqt.WU()||(this.Mqt=t(this,this.wqt)):(this.Mqt=null,this.Sqt=null,this.Tqt=null)}x7t(t){this.Sqt=t}I7t(t){this.Tqt=t}Tbt(){const t=this.Tqt;t&&t(this.Mqt),this.Mqt=null,this.Sqt=null,this.Tqt=null}toJSON(){let t;return this.Mqt&&this.Mqt.m3()&&(t=this.Mqt.m3().jB().BF()),[this.su,this.iu,this.DIt,this.IJ,this.fqt,this.pqt,this.dY,this.gqt,this.yqt,t]}Qa(t){this.su=t[0],this.iu=t[1],this.DIt=t[2],this.IJ=t[3],this.fqt=t[4],this.dqt=this.fqt,this.pqt=t[5],this.dY=t[6],this.gqt=t[7],this.yqt=t[8],this.wqt=t[9],this.mqt=this.dY/2,this.bqt()}bZ(t){let s=this.cqt,i=this.DIt*t,e=this.IJ,h=Math.cos(e)*i,n=Math.sin(e)*i+this.gqt*t,r=(this.su+=h,this.iu+=n,this.pqt*t),o=(this.dY+=r,this.mqt=this.dY/2,this.DIt+=s.o7t()*t,this.gqt+=s.a7t()*t,this.yqt+=t,this.bqt(),s.u7t()),a=s.l7t(),u=s.c7t(),l=0;0!==o&&(l=p(o*t),this.IJ+=l),0!==a&&(this.DIt+=p(a*t)),0!==u&&(this.fqt=m.gn(this.fqt+p(u*t),0,1));const c=1<=this.dY&&(2===s.f7t()?0<this.DIt:this.yqt<s.d7t()),f=this.Sqt;if(f&&c){let t=s.iqt()*this.fqt;0===s.f7t()&&(t*=1-this.yqt/s.d7t());const d=t-this.dqt;this.dqt=t,f(this.Mqt,h,n,r,l,d)}this.l0=c}Jpt(){return this.l0}qj(){return this.Pl}bqt(){const t=this.su,s=this.iu,i=this.mqt;this.Pl.set(t-i,s-i,t+i,s+i)}tb(h,n,r){if(!this.Mqt){let i=this.cqt,e=i.iqt()*this.fqt;if(0===i.f7t()&&(e*=1-this.yqt/i.d7t()),!(e<=0)){const o=this.dY,a=o*i.lqt()*t;if(!(a<1)){let t=this.su,s=this.iu;i.eqt()&&(t=t+.5|0,s=s+.5|0),h.EM()?h.XA(t,s,o,e):r||a>h.LD()||a<h.ND()?(l.C(i.NA()),l.Ta(e),h.iT(l),c=!0,u.Tl(this.Pl),h.WA(u,n)):(c&&(h.iT(i.NA()),c=!1),h.XA(t,s,a,e))}}}}S7t(){return this.Mqt}T7t(){return this.wqt}fT(){return this.su}mT(){return this.iu}rc(){return this.dY}KP(){return this.IJ}_A(){return this.fqt}}}{const gl=self.js,yl=[];gl.q9.Audio=class extends gl._2t{constructor(t){super(t)}vqt(t){yl.push(t)}static async xqt(){await Promise.all(yl),gl.Br(yl)}ln(){super.ln()}}}{let s=function(){return i.MP().cz()},t=function(){if(self.C3Audio_DOMInterface)return self.C3Audio_DOMInterface;throw new Error("audio scripting API cannot be used here - make sure the project is using DOM mode, not worker mode")};s,t;const Ml=self.js,wl=self.qs;Ml.q9.Audio.QGt=class extends Ml.fvt{constructor(t){super(t)}ln(){super.ln()}Z2t(){}K2t(){return self.Iqt}};let i=null;self.Iqt=class extends self.wP{constructor(t){super(t),i=t}get Gqt(){return t().GetAudioContextExtern()}get Cqt(){return t().GetDestinationNodeExtern()}get isSilent(){return s()._qt()}set isSilent(t){s().Eqt(t)}get masterVolume(){return s().Aqt()}set masterVolume(t){wl.xe(t),s().Dqt(t)}Nqt(){s().Lqt()}}}{const Sl=self.js,Tl=["interactive","balanced","playback"];Sl.q9.Audio.Instance=class extends Sl.yvt{constructor(t,s){super(t,"audio"),this.Oqt=0,this.Rqt=[],this.Pqt=!0,this.kqt=0,this.Fqt=0,this.jqt=!1,this.zqt=1,this.Bqt=1,this.Uqt=[this.cf.l8()/2,this.cf.c8()/2,600],this.Wqt=[0,0,-1],this.Qqt=[0,1,0],this.Yqt=600,this.Jqt=1e4,this.Vqt=1,this.Hqt=null,this.qqt=-1,this.Xqt=1,this.Zqt=!1,this.Kqt=0,this.$qt="suspended",this.tXt=0,this.sXt=new Map,this.iXt=0,this.eXt=0,this.hXt=new Map,this.nXt=new Map;let i="interactive";s&&(this.kqt=s[0],this.Fqt=s[1],this.jqt=s[2],i=Tl[s[3]],this.Pqt=s[4],this.zqt=s[5],this.Bqt=s[6],this.Uqt[2]=s[7],this.Yqt=s[8],this.Jqt=s[9],this.Vqt=s[10]),this.rXt=[],this.oXt=[],this.aXt=[],this._vt([["state",t=>this.uXt(t)],["audiocontext-state",t=>this.lXt(t)],["fxstate",t=>this.cXt(t)],["trigger",t=>this.fXt(t)],["buffer-metadata",t=>this.dXt(t)]]);const e=this.P3().Qf(),h=(this.b0=new Sl.w0(Sl.d0.M0(e,"instancedestroy",t=>this.pXt(t.bz)),Sl.d0.M0(e,"afterload",()=>this.GX()),Sl.d0.M0(e,"suspend",()=>this.mXt()),Sl.d0.M0(e,"resume",()=>this.gXt())),"Safari"===Sl.ci.mi),n=this.cf.uFt(),r=this.cf.xO().NQ(),o="playable-ad-single-file"===this.cf.x4(),a=h||n||r||o;this.cf._3(this.Avt("create-audio-context",{preloadList:this.cf.xO().aY().map(t=>({originalUrl:t.originalUrl,url:t.url,type:t.type,fileSize:t.fileSize})),timeScaleMode:this.kqt,latencyHint:i,panningModel:this.zqt,distanceModel:this.Bqt,refDistance:this.Yqt,maxDistance:this.Jqt,rolloffFactor:this.Vqt,listenerPos:this.Uqt,usePlayMusicAsSoundWorkaround:a}).then(t=>{this.Kqt=t.sampleRate,this.$qt=t.audioContextState,this.tXt=t.outputLatency})),this.Pvt()}ln(){this.Hqt=null,super.ln()}yXt(t){return this.Pqt?t.split(" ").filter(t=>!!t):t?[t]:[]}MXt(s,t){for(const i of t){let t=!1;for(const e of s)if(Sl.wh(e,i)){t=!0;break}if(!t)return!1}return!0}wXt(t,s){return this.MXt(t,this.yXt(s))}vqt(t){this.TP().vqt(t)}pXt(t){this.Hqt===t&&(this.Hqt=null)}SXt(t){return Math.pow(10,t/20)}TXt(t){const s=this.SXt(t);return isFinite(s)?Math.max(Math.min(s,1),0):0}bXt(t){return Math.log(t)/Math.log(10)*20}vXt(t){return this.bXt(Math.max(Math.min(t,1),0))}mXt(){this.jqt||this.Evt("set-suspended",{isSuspended:!0})}gXt(){this.jqt||this.Evt("set-suspended",{isSuspended:!1})}uXt(t){const s=t.tickCount,i=(this.tXt=t.outputLatency,this.rXt.filter(t=>t.hasOwnProperty("placeholder")&&(t.placeholder>s||-1===t.placeholder)));this.rXt=t.audioInstances,this.aXt=t.analysers,0<i.length&&Sl.qh(this.rXt,i)}dXt(t){this.hXt.set(t.originalUrl,{duration:t.duration})}lXt(t){this.$qt=t.audioContextState}qht(){return this.cf.nRt()?"running":this.$qt}cXt(t){this.oXt=t.fxstate}xXt(t){const s=this.yXt(t);for(const i of this.rXt)if(this.MXt(i.tags,s))return i;return null}IXt(t){const s=this.yXt(t);return this.rXt.some(t=>this.MXt(t.tags,s)&&t.isPlaying)}GXt(t,s,i,e,h){if(this.IXt(s))return null;const n=this.hXt.get(t),r={tags:this.yXt(s),duration:n?n.duration:0,volume:h,isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:t,bufferUrl:"",bufferType:"",isMusic:i,isLooping:e,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};return this.rXt.push(r),r}CXt(t){const s=this.yXt(t);for(const i of this.rXt)this.MXt(i.tags,s)&&(i.isPlaying=!1)}async fXt(t){const s=t.type,i=(this.Rqt=t.tags,t.aiid);if("ended"===s){for(const e of this.rXt)if(e.aiid===i){e.isPlaying=!1;break}await this.pj(Sl.q9.Audio.V9._Xt)}else"fade-ended"===s&&await this.pj(Sl.q9.Audio.V9.EXt)}AXt(t){return this.wXt(this.Rqt,t)}bZ(){const t={timeScale:this.cf.IR(),gameTime:this.cf.eFt(),instPans:this.DXt(),tickCount:this.cf.hFt()};if(this.Hqt){const s=this.Hqt.m3();this.Uqt[0]=s.fT(),this.Uqt[1]=s.mT(),t.listenerPos=this.Uqt,t.listenerOrientation=[...this.Wqt,...this.Qqt]}this.Evt("tick",t)}NXt(t,s,i,e,h){if(0!==i){const n=Math.sin(i),r=Math.cos(i),o=(t-=e)*n,a=(s-=h)*n,u=t*r,l=s*r;t=u-a,s=l+o,t+=e,s+=h}return[t,s]}DXt(){return this.rXt.filter(t=>-1!==t.uid).map(t=>this.cf.a3(t.uid)).filter(t=>t).map(t=>{const s=t.m3(),i=s.g3().KP(),[e,h]=this.NXt(s.fT(),s.mT(),-i,this.Uqt[0],this.Uqt[1]);return{uid:t.BF(),x:e,y:h,z:s.Vj(),angle:s.KP()-i}})}LXt(t,s){for(const i of this.aXt)if(i.index===s&&Sl.wh(i.tag,t))return i;return null}OXt(t){for(const s of this.yXt(t)){const i=s.toLowerCase();this.sXt.set(i,(this.sXt.get(i)||0)+1)}}_qt(){return this.Zqt}Eqt(t){this.Zqt!==(t=!!t)&&(this.Zqt=t,this.Evt("set-silent",{isSilent:t}))}Aqt(){return this.Xqt}Dqt(t){this.Xqt!==t&&(this.Xqt=t,this.Evt("set-master-volume",{vol:t}))}Lqt(){this.Evt("stop-all");for(const t of this.rXt)t.isPlaying=!1}RXt(t){return!t.hasOwnProperty("placeholder")&&3!==this.Fqt&&!(t.isMusic&&1===this.Fqt||!t.isMusic&&2===this.Fqt)}IT(){return{isSilent:this.Zqt,masterVolume:this.Xqt,listenerZ:this.Uqt[2],listenerForwardVec:this.Wqt,listenerUpVec:this.Qqt,listenerUid:this.Hqt?this.Hqt.BF():-1,remoteUrls:[...this.nXt.entries()],playing:this.rXt.filter(t=>this.RXt(t)),effects:this.oXt,analysers:this.aXt}}GT(t){if(this.Zqt=t.isSilent,this.Xqt=t.masterVolume,this.Uqt[2]=t.listenerZ,this.Hqt=null,this.qqt=t.listenerUid,t.hasOwnProperty("listenerForwardVec")?this.Wqt=t.listenerForwardVec:this.Wqt=[0,0,-1],t.hasOwnProperty("listenerUpVec")?this.Qqt=t.listenerUpVec:this.Qqt=[0,1,0],this.nXt.clear(),t.remoteUrls)for(const[s,i]of t.remoteUrls)this.nXt.set(s,i);this.rXt=t.playing;for(const e of this.rXt)e.hasOwnProperty("tag")&&!e.hasOwnProperty("tags")&&(e.tags=[e.tag].filter(t=>!!t));this.oXt=t.effects,this.aXt=t.analysers}GX(){if(-1!==this.qqt&&(this.Hqt=this.cf.a3(this.qqt),this.qqt=-1,this.Hqt)){const t=this.Hqt.m3();this.Uqt[0]=t.fT(),this.Uqt[1]=t.mT()}for(const s of this.rXt){const i=this.cf.xO().rY(s.bufferOriginalUrl);i?(s.bufferUrl=i.url,s.bufferType=i.type):s.bufferUrl=null}for(const e of Object.values(this.oXt))for(const h of e)if(h.hasOwnProperty("bufferOriginalUrl")){const n=this.cf.xO().rY(h.bufferOriginalUrl);n&&(h.bufferUrl=n.url,h.bufferType=n.type)}this.Evt("load-state",{saveLoadMode:this.Fqt,timeScale:this.cf.IR(),gameTime:this.cf.eFt(),listenerPos:this.Uqt,listenerOrientation:[...this.Wqt,...this.Qqt],isSilent:this.Zqt,masterVolume:this.Xqt,playing:this.rXt.filter(t=>null!==t.bufferUrl),effects:this.oXt})}zvt(){const t=[];for(const[i,e]of Object.entries(this.oXt))t.push({name:"$"+i,value:e.map(t=>t.type).join(", ")});const s="plugins.audio.debugger";return[{title:s+".tag-effects",properties:t},{title:s+".currently-playing",properties:[{name:s+".currently-playing-count",value:this.rXt.length},...this.rXt.map((t,s)=>({name:"$#"+s,value:`${t.bufferOriginalUrl} ("${t.tags}") ${Math.round(10*t.playbackTime)/10} / `+Math.round(10*t.duration)/10}))]}]}}}{const bl=self.js;bl.q9.Audio.V9={_Xt(t){return this.AXt(t)},EXt(t){return this.AXt(t)},PXt(){return this.eXt===this.iXt},kXt(){return!0},FXt(){return this._qt()},jXt(){for(const t of this.rXt)if(t.isPlaying)return!0;return!1},zXt(t){return this.IXt(t)}}}{const N=self.js,vl=["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"];N.q9.Audio.jht={Play(t,s,i,e,h){const n=N.q9.Audio.jht.BXt.call(this,t,s,i,e,h);return this.vqt(n),n},Xht(t,s,i,e){N.q9.Audio.jht.BXt.call(this,t,0,s,0,i,e)},async BXt(t,s,i,e,h,n){if(!this.Zqt){const r=t[1],o=this.cf.xO().rY(t[0]);if(o){const a=this.Oqt,u=(this.Oqt=0,this.GXt(t[0],h,r,0!==s,this.TXt(i)));try{await this.Avt("play",{originalUrl:t[0],url:o.url,type:o.type,isMusic:r,tags:this.yXt(h),isLooping:0!==s,vol:this.TXt(i),stereoPan:N.gn(e/100,-1,1),pos:n||0,off:a,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{u&&(u.placeholder=this.cf.hFt())}}}},async UXt(t,s,i,e,h,n,r,o,a,u,l){if(!this.Zqt){const c=t[1],f=this.cf.xO().rY(t[0]);if(f){const d=this.Oqt,p=(this.Oqt=0,this.GXt(t[0],l,c,0!==s,this.TXt(i)));try{await this.Avt("play",{originalUrl:t[0],url:f.url,type:f.type,isMusic:c,tags:this.yXt(l),isLooping:0!==s,vol:this.TXt(i),pos:0,off:d,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:e,y:h,z:n,angle:N.Mn(r),innerAngle:N.Mn(o),outerAngle:N.Mn(a),outerGain:this.TXt(u)}})}finally{p&&(p.placeholder=this.cf.hFt())}}}},async WXt(t,s,i,e,h,n,r,o){if(!this.Zqt&&e){const a=e.GTt();if(a&&a.m3()){const u=a.m3(),l=u.g3().KP(),[c,f]=this.NXt(u.fT(),u.mT(),-l,this.Uqt[0],this.Uqt[1]),d=t[1],p=this.cf.xO().rY(t[0]);if(p){const m=this.Oqt,g=(this.Oqt=0,this.GXt(t[0],o,d,0!==s,this.TXt(i)));try{await this.Avt("play",{originalUrl:t[0],url:p.url,type:p.type,isMusic:d,tags:this.yXt(o),isLooping:0!==s,vol:this.TXt(i),pos:0,off:m,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:c,y:f,z:u.Vj(),angle:u.KP()-l,innerAngle:N.Mn(h),outerAngle:N.Mn(n),outerGain:this.TXt(r),uid:a.BF()}})}finally{g&&(g.placeholder=this.cf.hFt())}}}}},async QXt(t,s,i,e,h,n){if(!this.Zqt){const r=1===t,o=this.cf.xO().rY(s)||this.nXt.get(s.toLowerCase());if(o){const a=this.Oqt,u=(this.Oqt=0,this.GXt(s,n,r,0!==i,this.TXt(e)));try{await this.Avt("play",{originalUrl:s,url:o.url,type:o.type,isMusic:r,tags:this.yXt(n),isLooping:0!==i,vol:this.TXt(e),stereoPan:N.gn(h/100,-1,1),pos:0,off:a,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{u&&(u.placeholder=this.cf.hFt())}}}},async YXt(t,s,i,e,h,n,r,o,a,u,l,c){if(!this.Zqt){const f=1===t,d=this.cf.xO().rY(s)||this.nXt.get(s.toLowerCase());if(d){const p=this.Oqt,m=(this.Oqt=0,this.GXt(s,c,f,0!==i,this.TXt(e)));try{await this.Avt("play",{originalUrl:s,url:d.url,type:d.type,isMusic:f,tags:this.yXt(c),isLooping:0!==i,vol:this.TXt(e),pos:0,off:p,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:h,y:n,z:r,angle:N.Mn(o),innerAngle:N.Mn(a),outerAngle:N.Mn(u),outerGain:this.TXt(l)}})}finally{m&&(m.placeholder=this.cf.hFt())}}}},async JXt(t,s,i,e,h,n,r,o,a){if(!this.Zqt&&!this.Zqt&&h){const u=h.GTt();if(u&&u.m3()){const l=u.m3(),c=l.g3().KP(),[f,d]=this.NXt(l.fT(),l.mT(),-c,this.Uqt[0],this.Uqt[1]),p=1===t,m=this.cf.xO().rY(s)||this.nXt.get(s.toLowerCase());if(m){const g=this.Oqt,y=(this.Oqt=0,this.GXt(s,a,p,0!==i,this.TXt(e)));try{await this.Avt("play",{originalUrl:s,url:m.url,type:m.type,isMusic:p,tags:this.yXt(a),isLooping:0!==i,vol:this.TXt(e),pos:0,off:g,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:f,y:d,z:l.Vj(),angle:l.KP()-c,innerAngle:N.Mn(n),outerAngle:N.Mn(r),outerGain:this.TXt(o),uid:u.BF()}})}finally{y&&(y.placeholder=this.cf.hFt())}}}}},VXt(t,s){this.Evt("set-looping",{tags:this.yXt(t),isLooping:0===s})},HXt(t,s){this.Evt("set-muted",{tags:this.yXt(t),isMuted:0===s})},Vht(t,s){this.Evt("set-volume",{tags:this.yXt(t),vol:this.TXt(s)})},qXt(t,s,i,e){this.Evt("fade-volume",{tags:this.yXt(t),vol:this.TXt(s),duration:i,stopOnEnd:0===e})},XXt(t,s){this.Evt("set-stereo-pan",{tags:this.yXt(t),p:N.gn(s/100,-1,1)})},async ZXt(t){const s=t[1],i=this.cf.xO().rY(t[0]);i&&(this.iXt++,await this.Avt("preload",{originalUrl:t[0],url:i.url,type:i.type,isMusic:s}),this.eXt++)},async KXt(t,s){const i=1===t,e=this.cf.xO().rY(s)||this.nXt.get(s.toLowerCase());e&&(this.iXt++,await this.Avt("preload",{originalUrl:s,url:e.url,type:e.type,isMusic:i}),this.eXt++)},CB(t,s){this.Evt("set-playback-rate",{tags:this.yXt(t),rate:Math.max(s,0)})},yB(t){this.CXt(t),this.Evt("stop",{tags:this.yXt(t)})},$Xt(){this.Lqt()},tZt(t,s){this.Evt("set-paused",{tags:this.yXt(t),paused:0===s})},sZt(t,s){this.Evt("seek",{tags:this.yXt(t),pos:s})},iZt(t){2===t&&(t=this._qt()?1:0),this.Eqt(0===t)},eZt(t){const s=this.TXt(t);this.Dqt(s)},hZt(t,s,i,e,h,n,r){const o=vl[s];this.OXt(t),this.Evt("add-effect",{type:"filter",tags:this.yXt(t),params:[o,i,e,h,n,N.gn(r/100,0,1)]})},nZt(t,s,i,e){this.OXt(t),this.Evt("add-effect",{type:"delay",tags:this.yXt(t),params:[s,this.TXt(i),N.gn(e/100,0,1)]})},rZt(t,s,i,e,h,n){this.OXt(t),this.Evt("add-effect",{type:"flanger",tags:this.yXt(t),params:[s/1e3,i/1e3,e,h/100,N.gn(n/100,0,1)]})},oZt(t,s,i,e,h,n,r){this.OXt(t),this.Evt("add-effect",{type:"phaser",tags:this.yXt(t),params:[s,i,e,h,n,N.gn(r/100,0,1)]})},aZt(t,s,i,e){const h=this.cf.xO().rY(s[0]);h&&(this.OXt(t),this.Evt("add-effect",{type:"convolution",tags:this.yXt(t),bufferOriginalUrl:s[0],bufferUrl:h.url,bufferType:h.type,params:[0===i,N.gn(e/100,0,1)]}))},uZt(t,s){this.OXt(t),this.Evt("add-effect",{type:"gain",tags:this.yXt(t),params:[this.TXt(s)]})},lZt(t,s){this.OXt(t),this.Evt("add-effect",{type:"stereopan",tags:this.yXt(t),params:[N.gn(s/100,-1,1)]})},cZt(t){this.OXt(t),this.Evt("add-effect",{type:"gain",tags:this.yXt(t),params:[0]})},fZt(t,s,i){this.OXt(t),this.Evt("add-effect",{type:"tremolo",tags:this.yXt(t),params:[s,N.gn(i/100,0,1)]})},dZt(t,s,i){this.OXt(t),this.Evt("add-effect",{type:"ringmod",tags:this.yXt(t),params:[s,N.gn(i/100,0,1)]})},pZt(t,s,i,e,h,n){this.OXt(t),this.Evt("add-effect",{type:"distortion",tags:this.yXt(t),params:[this.SXt(s),this.SXt(i),e,this.SXt(h),N.gn(n/100,0,1)]})},mZt(t,s,i,e,h,n){this.OXt(t),this.Evt("add-effect",{type:"compressor",tags:this.yXt(t),params:[s,i,e,h/1e3,n/1e3]})},gZt(t,s,i){this.OXt(t),this.Evt("add-effect",{type:"analyser",tags:this.yXt(t),params:[s,i]})},yZt(t){const s=this.yXt(t);for(const i of s)this.sXt.set(i.toLowerCase(),0);this.Evt("remove-effects",{tags:s}),this.oXt={}},Dz(t,s,i,e,h,n){this.Evt("set-effect-param",{tags:this.yXt(t),index:Math.floor(s),param:i,value:e,ramp:h,time:n})},MZt(t){if(t){const s=t.GTt();s&&s.m3()&&(this.Hqt=s)}},wZt(t){this.Uqt[2]=t},SZt(t,s,i,e,h,n){this.Wqt[0]=t,this.Wqt[1]=s,this.Wqt[2]=-i,this.Qqt[0]=e,this.Qqt[1]=h,this.Qqt[2]=-n},TZt(t){this.Oqt=Math.max(t,0)},bZt(t){const s=t[1],i=this.cf.xO().rY(t[0]);i&&this.Evt("unload",{url:i.url,type:i.type,isMusic:s})},vZt(t,s){const i=1===t,e=this.cf.xO().rY(s)||this.nXt.get(s.toLowerCase());e&&this.Evt("unload",{url:e.url,type:e.type,isMusic:i})},xZt(){this.Evt("unload-all")},IZt(t,s,i){this.nXt.set(i.toLowerCase(),{url:t,type:s})}}}{const xl=self.js;xl.q9.Audio.zht={GZt(t){const s=this.xXt(t);return s?s.duration:0},Wht(t){const s=this.xXt(t);return s?s.playbackTime:0},Hht(t){const s=this.xXt(t);return s?s.playbackRate:0},Qht(t){const s=this.xXt(t);return s?this.vXt(s.volume):0},CZt(){return this.vXt(this.Aqt())},_Zt(t){return this.sXt.get(t.toLowerCase())||0},EZt(t,s){const i=this.LXt(t,Math.floor(s));return i?i.binCount:0},AZt(t,s,i){const e=this.LXt(t,Math.floor(s));return!e||(i=Math.floor(i))<0||i>=e.binCount?0:e.freqBins[i]},DZt(t,s){const i=this.LXt(t,Math.floor(s));return i?i.peak:0},NZt(t,s){const i=this.LXt(t,Math.floor(s));return i?i.rms:0},LZt(){return this.Kqt},OZt(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1e3},RZt(){return this.tXt},PZt(t,s){return 0==(t=xl.gn(+t,0,100)/100)?-1/0:t<.1?this.vXt(xl.Pt(0,this.TXt(s),10*t)):xl.Pt(s,0,(t-.1)/.9)}}}{const Il=self.js;Il.Dat.kZt=class extends Il.Ext{constructor(t){super(t)}ln(){super.ln()}}}{const Gl=self.js;Gl.Dat.kZt.QGt=class extends Gl.Oxt{constructor(t){super(t)}ln(){super.ln()}Z2t(){}}}{const Cl=self.js,_l=self.qs,El=self.gz,L=(Cl.Dat.kZt.Instance=class extends Cl.Pxt{constructor(t,s){super(t),this.FZt=!1,this.jZt=!1,this.zZt=!1,this.BZt=!1,this.UZt=!1,this.WZt=!1,this.QZt=!1,this.YZt=!1,this.JZt=!1,this.VZt=0,this.HZt=0,this.qZt=200,this.XZt=600,this.ZZt=500,this.KZt=3,this.$Zt=3,this.tKt=!1,this.sKt=!0,this.myt=!0,s&&(this.qZt=s[0],this.XZt=s[1],this.ZZt=s[2],this.KZt=s[3],this.$Zt=s[4],this.tKt=!!s[5],this.sKt=!!s[6],this.myt=!!s[7]),this.myt&&this.Pvt(),this.sKt&&this.iKt()}iKt(){if(!this.b0){const t=this.cf.Qf();this.b0=new Cl.w0(Cl.d0.M0(t,"keydown",t=>this.ZQt(t.data)),Cl.d0.M0(t,"keyup",t=>this.KQt(t.data)),Cl.d0.M0(t,"window-blur",()=>this.$Qt()),Cl.d0.M0(t,"keyboard-blur",()=>this.$Qt()))}}eKt(){this.b0&&(this.b0.ln(),this.b0=null)}ln(){super.ln()}IT(){return{dx:this.VZt,dy:this.HZt,e:this.myt,ms:this.qZt,acc:this.XZt,dec:this.ZZt,d:this.KZt,am:this.$Zt,dc:this.sKt,ii:this.UZt}}GT(t){this.VZt=t.dx,this.HZt=t.dy,this.abt(t.e),this.qZt=t.ms,this.XZt=t.acc,this.ZZt=t.dec,this.KZt=t.d,this.$Zt=t.am,this.sKt=t.dc,this.UZt=t.ii,this.FZt=!1,this.jZt=!1,this.zZt=!1,this.BZt=!1,this.WZt=!1,this.QZt=!1,this.YZt=!1,this.JZt=!1,this.sKt?this.iKt():this.eKt()}ZQt(t){switch(t.key){case"ArrowLeft":this.zZt=!0;break;case"ArrowUp":this.FZt=!0;break;case"ArrowRight":this.BZt=!0;break;case"ArrowDown":this.jZt=!0}}KQt(t){switch(t.key){case"ArrowLeft":this.zZt=!1;break;case"ArrowUp":this.FZt=!1;break;case"ArrowRight":this.BZt=!1;break;case"ArrowDown":this.jZt=!1}}$Qt(){this.FZt=!1,this.jZt=!1,this.zZt=!1,this.BZt=!1}bZ(){let m=this.cf.wR(this.Gi),g=this.cf.CO(),t=this.zZt||this.YZt,s=this.BZt||this.JZt,i=this.FZt||this.WZt,e=this.jZt||this.QZt;if(this.YZt=!1,this.JZt=!1,this.WZt=!1,this.QZt=!1,this.myt){let p=g.u4(this.Gi);if(!p||(g.DNt(this.Gi,p),g.HNt(this.Gi))){this.UZt&&(t=s=i=e=!1),0===this.KZt?t=s=!1:1===this.KZt&&(i=e=!1),(t=2===this.KZt&&(i||e)?s=!1:t)===s&&(this.VZt<0?this.VZt=Math.min(this.VZt+this.ZZt*m,0):0<this.VZt&&(this.VZt=Math.max(this.VZt-this.ZZt*m,0))),i===e&&(this.HZt<0?this.HZt=Math.min(this.HZt+this.ZZt*m,0):0<this.HZt&&(this.HZt=Math.max(this.HZt-this.ZZt*m,0)));let f=0,d=0;if(t&&!s&&(f=0<this.VZt?-(this.XZt+this.ZZt):-this.XZt),s&&!t&&(f=this.VZt<0?this.XZt+this.ZZt:this.XZt),i&&!e&&(d=0<this.HZt?-(this.XZt+this.ZZt):-this.XZt),e&&!i&&(d=this.HZt<0?this.XZt+this.ZZt:this.XZt),this.VZt+=f*m,this.HZt+=d*m,0!==this.VZt||0!==this.HZt){let e=Math.hypot(this.VZt,this.HZt),t=Math.atan2(this.HZt,this.VZt),s=this.qZt*Math.cos(t),i=this.qZt*Math.sin(t),h=(e>this.qZt&&(e=this.qZt,this.VZt=s,this.HZt=i),this.Gi.m3()),n=h.fT(),r=h.mT(),o=h.KP(),a=Math.abs(s)*m,u=Math.abs(i)*m,l=Cl.gn(this.VZt*m+.5*f*m*m,-a,a),c=Cl.gn(this.HZt*m+.5*d*m*m,-u,u);if(this.tKt){if(h.Yj(l,c),h.Bj(),p=g.u4(this.Gi)){g.DNt(this.Gi,p);let t=Math.atan2(this.HZt,this.VZt)+Math.PI/2,s=!1,i=(h.lm()+h.xm())/4;if(g.VNt(this.Gi,Math.cos(t),Math.sin(t),Math.max(2.5*e*m,i))){s=!0;const w=h.fT(),S=h.mT(),T=e*m,b=Cl.Sn(n,r,w,S);if(1.01*T<b){const v=T/b,x=Cl.Pt(n,w,v),I=Cl.Pt(r,S,v);if(h.Uj(x,I),h.Bj(),p=g.u4(this.Gi)){const G=Cl.bn(n,r,w,S)+Math.PI/2,C=Math.cos(G),_=Math.sin(G),E=(h.lm()+h.xm())/2/10;g.VNt(this.Gi,C,_,Math.max(E,1))||(h.Uj(n,r),h.Bj(),s=!1)}}}if(!s){const A=Math.hypot(l,c),D=-l/A,N=-c/A;this.VZt=0,this.HZt=0,g.YNt(this.Gi,D,N,Math.max(2.5*e*m,i))||(h.Uj(n,r),h.Bj())}}}else h.Fnt(l),h.Bj(),(p=g.u4(this.Gi))&&(g.YNt(this.Gi,this.VZt<0?1:-1,0,Math.max(Math.abs(Math.floor(l)),1))||(h.dT(n),h.Bj()),this.VZt=0,g.DNt(this.Gi,p)),h.jnt(c),h.Bj(),(p=g.u4(this.Gi))&&(g.YNt(this.Gi,0,this.HZt<0?1:-1,Math.max(Math.abs(Math.floor(c)),1))||(h.gT(r),h.Bj()),this.HZt=0,g.DNt(this.Gi,p));const y=Cl.jn(this.VZt,6),M=Cl.jn(this.HZt,6);0===y&&0===M||!this.Gi.TP().iP()||(1===this.$Zt?h.ZP(Cl.Mn(90*Math.round(Cl.wn(Math.atan2(M,y))/90))):2===this.$Zt?h.ZP(Cl.Mn(45*Math.round(Cl.wn(Math.atan2(M,y))/45))):3===this.$Zt&&h.ZP(Math.atan2(M,y))),h.Bj(),h.KP()!=o&&(p=g.u4(this.Gi))&&(h.ZP(o),h.Bj(),g.DNt(this.Gi,p))}}}}vnt(t){switch(t){case 0:return this.hKt();case 1:return this.nKt();case 2:return this.rKt();case 3:return this.KZt;case 4:return this.$Zt;case 5:return this.tKt;case 6:return this.oKt();case 7:return this.lbt()}}Ent(t,s){switch(t){case 0:this.aKt(s);break;case 1:this.uKt(s);break;case 2:this.lKt(s);break;case 3:this.KZt=s;break;case 4:this.$Zt=s;break;case 5:this.tKt=!!s;break;case 6:this.cKt(!!s);break;case 7:this.abt(!!s)}}fKt(){this.VZt=0,this.HZt=0}dKt(){this.VZt*=-1,this.HZt*=-1}pKt(){const t=Math.hypot(this.VZt,this.HZt);t>this.qZt&&this.mKt(t)}mKt(t){t=Cl.gn(t,0,this.qZt);const s=Math.atan2(this.HZt,this.VZt);this.VZt=t*Math.cos(s),this.HZt=t*Math.sin(s)}gKt(){return Math.hypot(this.VZt,this.HZt)}aKt(t){this.qZt=Math.max(t,0)}hKt(){return this.qZt}uKt(t){this.XZt=Math.max(t,0)}nKt(){return this.XZt}lKt(t){this.ZZt=Math.max(t,0)}rKt(){return this.ZZt}yKt(){return Math.atan2(this.HZt,this.VZt)}MKt(t){this.VZt=t,this.pKt()}wKt(){return this.VZt}SKt(t){this.HZt=t,this.pKt()}TKt(){return this.HZt}bKt(t){if(this.myt)switch(t){case 0:this.YZt=!0;break;case 1:this.JZt=!0;break;case 2:this.WZt=!0;break;case 3:this.QZt=!0}}cKt(t){this.sKt!==(t=!!t)&&(this.sKt=t,this.sKt?this.iKt():(this.eKt(),this.$Qt()))}oKt(){return this.sKt}vKt(t){this.UZt=!!t}xKt(){return this.UZt}abt(t){this.myt=!!t,this.myt?this.Pvt():(this.YZt=!1,this.JZt=!1,this.WZt=!1,this.QZt=!1,this.Svt())}lbt(){return this.myt}IKt(t){this.tKt=!!t}GKt(){return this.tKt}zvt(){const t="behaviors.eightdir";return[{title:"$"+this.Tz().tf(),properties:[{name:t+".debugger.vector-x",value:this.wKt(),VUt:t=>this.MKt(t)},{name:t+".debugger.vector-y",value:this.TKt(),VUt:t=>this.SKt(t)},{name:t+".debugger.speed",value:this.gKt(),VUt:t=>this.mKt(t)},{name:t+".debugger.angle-of-motion",value:Cl.wn(this.yKt())},{name:t+".properties.max-speed.name",value:this.hKt(),VUt:t=>this.aKt(t)},{name:t+".properties.acceleration.name",value:this.nKt(),VUt:t=>this.uKt(t)},{name:t+".properties.deceleration.name",value:this.rKt(),VUt:t=>this.lKt(t)},{name:t+".properties.allow-sliding.name",value:this.GKt(),VUt:t=>this.IKt(t)},{name:t+".properties.enabled.name",value:this.lbt(),VUt:t=>this.abt(t)}]}]}K2t(){return self.CKt}},new WeakMap),Al=new Map([["left",0],["right",1],["up",2],["down",3]]);self.CKt=class extends El{constructor(){super(),L.set(this,El.AF().cz())}stop(){L.get(this).fKt()}reverse(){L.get(this).dKt()}_Kt(t){_l._e(t);const s=Al.get(t);if("number"!=typeof s)throw new Error("invalid control");L.get(this).bKt(s)}get speed(){return L.get(this).gKt()}set speed(t){_l.xe(t),L.get(this).mKt(t)}get EKt(){return L.get(this).hKt()}set EKt(t){_l.xe(t),L.get(this).aKt(t)}get acceleration(){return L.get(this).nKt()}set acceleration(t){_l.xe(t),L.get(this).uKt(t)}get AKt(){return L.get(this).rKt()}set AKt(t){_l.xe(t),L.get(this).lKt(t)}get DKt(){return L.get(this).wKt()}set DKt(t){_l.xe(t),L.get(this).MKt(t)}get NKt(){return L.get(this).TKt()}set NKt(t){_l.xe(t),L.get(this).SKt(t)}LKt(t,s){_l.xe(t),_l.xe(s);const i=L.get(this);i.MKt(t),i.SKt(s)}OKt(){const t=L.get(this);return[t.wKt(),t.TKt()]}get RKt(){return L.get(this).oKt()}set RKt(t){L.get(this).cKt(!!t)}get PKt(){return L.get(this).xKt()}set PKt(t){L.get(this).vKt(!!t)}get kKt(){return L.get(this).GKt()}set kKt(t){L.get(this).IKt(!!t)}get isEnabled(){return L.get(this).lbt()}set isEnabled(t){L.get(this).abt(!!t)}}}{const Dl=self.js;Dl.Dat.kZt.V9={FKt(){return 1e-10<this.gKt()},jKt(t,s){return Dl.compare(this.gKt(),t,s)},Kl(){return this.lbt()},zKt(){return this.GKt()}}}{const Nl=self.js;Nl.Dat.kZt.jht={yB(){this.fKt()},BKt(){this.dKt()},UKt(t){this.vKt(t)},WKt(t){this.mKt(t)},QKt(t){this.aKt(t)},EHt(t){this.uKt(t)},YKt(t){this.lKt(t)},JKt(t){this.bKt(t)},o2t(t){this.abt(t)},VKt(t){this.MKt(t)},HKt(t){this.SKt(t)},qKt(t){this.cKt(!!t)},XKt(t){this.IKt(t)}}}{const Ll=self.js;Ll.Dat.kZt.zht={ZKt(){return this.gKt()},KKt(){return this.hKt()},$Kt(){return this.nKt()},t$t(){return this.rKt()},s$t(){return Ll.wn(this.yKt())},i$t(){return this.wKt()},e$t(){return this.TKt()}}}{const Ol=self.js;Ol.Dat.wrap=class extends Ol.Ext{constructor(t){super(t)}ln(){super.ln()}}}{const Rl=self.js;Rl.Dat.wrap.QGt=class extends Rl.Oxt{constructor(t){super(t)}ln(){super.ln()}Z2t(){}}}{const Pl=self.js,kl=new Pl.Rect;Pl.Dat.wrap.Instance=class extends Pl.Pxt{constructor(t,s){super(t),this.h$t=0,s&&(this.h$t=s[0]),this.Pvt()}ln(){super.ln()}IT(){return{m:this.h$t}}GT(t){this.h$t=t.m}bZ(){const t=this.Gi.m3(),s=t.g3(),i=s.HR(),e=t.qj();0===this.h$t?kl.set(0,0,i.lm(),i.xm()):kl.C(s.fF()),e.Gu()<kl.xu()?(t.dT(kl.Gu()-1+(t.fT()-e.xu())),t.Bj()):e.xu()>kl.Gu()?(t.dT(kl.xu()+1-(e.Gu()-t.fT())),t.Bj()):e.Cu()<kl.Iu()?(t.gT(kl.Cu()-1+(t.mT()-e.Iu())),t.Bj()):e.Iu()>kl.Cu()&&(t.gT(kl.Iu()+1-(e.Cu()-t.mT())),t.Bj())}vnt(t){if(0===t)return this.h$t}Ent(t,s){0===t&&(this.h$t=s)}}}{const Fl=self.js;Fl.Dat.wrap.V9={}}{const jl=self.js;jl.Dat.wrap.jht={}}{const zl=self.js;zl.Dat.wrap.zht={}}{const Bl=self.js;Bl.Dat.LF=class extends Bl.Ext{constructor(t){super(t)}ln(){super.ln()}}}{const Ul=self.js;Ul.Dat.LF.QGt=class extends Ul.Oxt{constructor(t){super(t)}ln(){super.ln()}Z2t(){}}}{const Wl=self.js;Wl.Dat.LF.Instance=class extends Wl.Pxt{constructor(t,s){super(t),this.Pvt()}ln(){super.ln()}bZ(){const t=this.Gi.m3(),s=t.qj(),i=t.HR();(s.Gu()<0||s.Cu()<0||s.xu()>i.lm()||s.Iu()>i.xm())&&this.cf.OF(this.Gi)}}}{const Ql=self.js;Ql.Dat.LF.V9={}}{const Yl=self.js;Yl.Dat.LF.jht={}}{const Jl=self.js;Jl.Dat.LF.zht={}}{const Vl=self.js;Vl.Dat.n$t=class extends Vl.Ext{constructor(t){super(t),this.r$t=0,this.o$t=0,this.a$t=0,this.u$t=0}ln(){super.ln()}l$t(t){this.r$t=t}c$t(){return this.r$t}f$t(t){this.o$t=t}d$t(){return this.o$t}p$t(t){this.a$t=t}m$t(){return this.a$t}g$t(t){this.u$t=t}y$t(){return this.u$t}}}{const Hl=self.js;Hl.Dat.n$t.QGt=class extends Hl.Oxt{constructor(t){super(t)}ln(){super.ln()}Z2t(){}}}{const ql=self.js;ql.Dat.n$t.Instance=class extends ql.Pxt{constructor(t,s){super(t),this.myt=!0,s&&(this.myt=s[0]),this.myt&&this.Fvt()}ln(){super.ln()}IT(){const t=this.Mz();return{e:this.myt,smg:t.c$t(),ss:t.d$t(),se:t.m$t(),smd:t.y$t()}}GT(t){const s=this.Mz();s.l$t(t.smg),s.f$t(t.ss),s.p$t(t.se),s.g$t(t.smd),this.myt=t.e,this.myt?this.Fvt():this.Tvt()}abt(t){this.myt=!!t,this.myt?this.Fvt():this.Tvt()}Kl(){return this.myt}Rvt(){if(this.Kl()){this.cf.wR(this.Gi);let s=this.Mz(),t=s.NP(),i=0,e=0,h=0;for(const u of t){const l=u.J_t(ql.Dat.n$t);if(l&&l.cz().Kl()){const c=u.m3();i+=c.fT(),e+=c.mT(),++h}}let n=this.Gi.m3().HR(),r=this.cf.bR(),o=0,a=0;if(r>=s.d$t()&&r<s.m$t()){let t=s.c$t()*Math.min(this.cf.IR(),1);0===s.y$t()&&(t*=1-(r-s.d$t())/(s.m$t()-s.d$t()));const f=this.cf.WR()*Math.PI*2,d=this.cf.WR()*t;o=Math.cos(f)*d,a=Math.sin(f)*d}n.$P(i/h+o),n.ik(e/h+a)}}vnt(t){if(0===t)return this.myt}Ent(t,s){0===t&&(this.myt=!!s,this.myt?this.Fvt():this.Tvt())}zvt(){return[{title:"$"+this.Tz().tf(),properties:[{name:"behaviors.scrollto.properties.enabled.name",value:this.Kl(),VUt:t=>this.abt(t)}]}]}}}{const Xl=self.js;Xl.Dat.n$t.V9={Kl(){return this.Kl()}}}{const Zl=self.js;Zl.Dat.n$t.jht={M$t(t,s,i){const e=this.Mz();e.l$t(t),e.f$t(this.cf.bR()),e.p$t(this.cf.bR()+s),e.g$t(i)},o2t(t){this.abt(0!==t)}}}{const Kl=self.js;Kl.Dat.n$t.zht={}}{const $l=self.js;$l.Dat.w$t=class extends $l.Ext{constructor(t){super(t)}ln(){super.ln()}}}{const tc=self.js;tc.Dat.w$t.QGt=class extends tc.Oxt{constructor(t){super(t)}ln(){super.ln()}Z2t(){}}}{const sc=self.js;sc.Dat.w$t.Instance=class extends sc.Pxt{constructor(t,s){super(t),this.VZt=0,this.HZt=0,this.S$t=0,this.T$t=0,this.b$t=5,this.myt=!0,s&&(this.T$t=s[0],this.b$t=s[1],this.myt=s[2]),this.myt&&this.Pvt()}ln(){super.ln()}IT(){return{dx:this.VZt,dy:this.HZt,cs:this.S$t,sm:this.T$t,px:this.b$t,e:this.myt}}GT(t){this.VZt=t.dx,this.HZt=t.dy,this.S$t=t.cs,this.T$t=t.sm,this.b$t=t.px,this.abt(t.e)}Lz(){return Math.hypot(this.VZt,this.HZt)}KP(){return Math.atan2(this.HZt,this.VZt)}v$t(r,o,a){if(0!==r||0!==o){let i=this.m3(),e=i.fT(),h=i.mT(),n=Math.round(Math.hypot(r,o)/this.b$t);0===n&&(n=1);for(let s=1;s<=n;++s){let t=s/n;if(i.Uj(e+r*t,h+o*t),i.Bj(),this.fj(a),1===this.S$t)return t=--s/n,i.Uj(e+r*t,h+o*t),void i.Bj();if(2===this.S$t)return}}}bZ(){if(this.myt&&(0!==this.VZt||0!==this.HZt)){const t=this.Gi.m3(),s=this.cf.wR(this.Gi),i=this.VZt*s,e=this.HZt*s;(this.S$t=0)===this.T$t?(t.Yj(i,e),t.Bj()):1===this.T$t?this.v$t(i,e,sc.Dat.w$t.V9.x$t):2===this.T$t?(this.v$t(i,0,sc.Dat.w$t.V9.I$t),this.S$t=0,this.v$t(0,e,sc.Dat.w$t.V9.G$t)):3===this.T$t&&(this.v$t(0,e,sc.Dat.w$t.V9.G$t),this.S$t=0,this.v$t(i,0,sc.Dat.w$t.V9.I$t))}}vnt(t){switch(t){case 0:return this.T$t;case 1:return this.b$t;case 2:return this.myt}}Ent(t,s){switch(t){case 0:this.T$t=s;break;case 1:this.b$t=s;break;case 2:this.abt(s)}}abt(t){this.myt=!!t,this.myt?this.Pvt():this.Svt()}zvt(){const t="behaviors.custom";return[{title:"$"+this.Tz().tf(),properties:[{name:t+".debugger.vector-x",value:this.VZt,VUt:t=>this.VZt=t},{name:t+".debugger.vector-y",value:this.HZt,VUt:t=>this.HZt=t},{name:t+".properties.pixels-per-step.name",value:this.b$t,VUt:t=>this.b$t=t},{name:t+".properties.enabled.name",value:this.myt,VUt:t=>this.abt(t)}]}]}}}{const ic=self.js;ic.Dat.w$t.V9={FKt(){return 0!==this.VZt||0!==this.HZt},jKt(t,s,i){let e=0;switch(t){case 0:e=this.Lz();break;case 1:e=this.VZt;break;case 2:e=this.HZt}return ic.compare(e,s,i)},x$t(){return!0},I$t(){return!0},G$t(){return!0},Kl(){return this.myt}}}{const ec=self.js;ec.Dat.w$t.jht={yB(){this.VZt=0,this.HZt=0},BKt(t){switch(t){case 0:this.VZt*=-1,this.HZt*=-1;break;case 1:this.VZt*=-1;break;case 2:this.HZt*=-1}},WKt(t,s){let i;switch(t){case 0:i=this.KP(),this.VZt=Math.cos(i)*s,this.HZt=Math.sin(i)*s;break;case 1:this.VZt=s;break;case 2:this.HZt=s}},C$t(t,s){let i=this.cf.wR(this.Gi),e=s*i,h;switch(t){case 0:h=this.KP(),this.VZt+=Math.cos(h)*e,this.HZt+=Math.sin(h)*e;break;case 1:this.VZt+=e;break;case 2:this.HZt+=e}},_$t(t,s){s=ec.Mn(s);const i=this.cf.wR(this.Gi),e=t*i;this.VZt+=Math.cos(s)*e,this.HZt+=Math.sin(s)*e},E$t(t,s,i){const e=this.m3(),h=this.cf.wR(this.Gi),n=t*h,r=Math.atan2(i-e.mT(),s-e.fT());this.VZt+=Math.cos(r)*n,this.HZt+=Math.sin(r)*n},A$t(t){t=ec.Mn(t);const s=this.Lz();this.VZt=Math.cos(t)*s,this.HZt=Math.sin(t)*s},D$t(t){t=this.KP()+ec.Mn(t);const s=this.Lz();this.VZt=Math.cos(t)*s,this.HZt=Math.sin(t)*s},N$t(t){t=this.KP()-ec.Mn(t);const s=this.Lz();this.VZt=Math.cos(t)*s,this.HZt=Math.sin(t)*s},L$t(t){this.S$t=t+1},YNt(t){let s,i,e,h=this.Gi,n=this.P3().CO();switch(t){case 0:s=this.KP(),i=Math.cos(s),e=Math.sin(s),n.YNt(h,-i,-e,Math.max(3*this.Lz(),100));break;case 1:n.HNt(h);break;case 2:n.YNt(h,0,-1,Math.max(3*Math.abs(this.HZt),100));break;case 3:n.YNt(h,0,1,Math.max(3*Math.abs(this.HZt),100));break;case 4:n.YNt(h,-1,0,Math.max(3*Math.abs(this.VZt),100));break;case 5:n.YNt(h,1,0,Math.max(3*Math.abs(this.VZt),100))}},O$t(t){t=ec.Mn(t);const s=Math.cos(t),i=Math.sin(t);this.P3().CO().YNt(this.Gi,s,i,Math.max(3*this.Lz(),100))},o2t(t){this.abt(t)}}}{const hc=self.js;hc.Dat.w$t.zht={ZKt(){return this.Lz()},s$t(){return hc.wn(this.KP())},dx(){return this.VZt},dy(){return this.HZt}}}{const nc=self.js;nc.Dat.R$t=class extends nc.Ext{constructor(t){super(t)}ln(){super.ln()}}}{const rc=self.js;rc.Dat.R$t.QGt=class extends rc.Oxt{constructor(t){super(t)}ln(){super.ln()}Z2t(){}}}{const oc=self.js,ac=self.qs,uc=self.gz,lc=(oc.Dat.R$t.Instance=class extends oc.Pxt{constructor(t,s){super(t);const i=this.m3(),e=(this.DIt=0,this.XZt=0,this.Ho=0,this.P$t=!1,this.k$t=!1,this.F$t=!1,this.myt=!0,this.VZt=0,this.HZt=0,this.j$t=i.fT(),this.z$t=i.mT(),this.B$t=i.KP(),this.U$t=0,this.W$t=Math.min(Math.abs(i.lm()),Math.abs(i.xm())/2),this.Q$t=!1,s&&(this.DIt=s[0],this.XZt=s[1],this.Ho=s[2],this.P$t=!!s[3],this.k$t=!!s[4],this.F$t=!!s[5],this.myt=!!s[6]),i.KP());this.VZt=Math.cos(e)*this.DIt,this.HZt=Math.sin(e)*this.DIt,this.myt&&(this.Pvt(),this.P$t)&&this.Uxt()}ln(){super.ln()}IT(){const t={dx:this.VZt,dy:this.HZt,lx:this.j$t,ly:this.z$t,lka:this.B$t,t:this.U$t};return 0!==this.XZt&&(t.acc=this.XZt),0!==this.Ho&&(t.g=this.Ho),this.F$t&&(t.st=this.F$t),this.myt||(t.e=this.myt),this.P$t&&(t.bos=this.P$t),this.k$t&&(t.sa=this.k$t),t}GT(t){this.VZt=t.dx,this.HZt=t.dy,this.j$t=t.lx,this.z$t=t.ly,this.B$t=t.lka,this.U$t=t.t,this.XZt=t.hasOwnProperty("acc")?t.acc:0,this.Ho=t.hasOwnProperty("g")?t.g:0,this.F$t=!!t.hasOwnProperty("st")&&t.st,this.P$t=!!t.hasOwnProperty("bos")&&t.bos,this.k$t=!!t.hasOwnProperty("sa")&&t.sa,this.abt(!t.hasOwnProperty("e")||t.e)}bZ(){if(this.myt){const h=this.cf.wR(this.Gi),n=this.Gi.m3();if(n.KP()!==this.B$t){const t=n.KP();if(this.k$t){const s=oc.Sn(0,0,this.VZt,this.HZt);this.VZt=Math.cos(t)*s,this.HZt=Math.sin(t)*s}this.B$t=t}let i=0,e=0;if(0!==this.XZt){let t=oc.Sn(0,0,this.VZt,this.HZt),s;s=0===this.VZt&&0===this.HZt?n.KP():oc.bn(0,0,this.VZt,this.HZt),t+=this.XZt*h,i=Math.cos(s)*this.XZt,e=Math.sin(s)*this.XZt,t<0&&(t=0,i=0,e=0),this.VZt=Math.cos(s)*t,this.HZt=Math.sin(s)*t}if(0!==this.Ho&&(this.HZt+=this.Ho*h,e+=this.Ho),this.j$t=n.fT(),this.z$t=n.mT(),0!==this.VZt||0!==this.HZt){const r=this.VZt*h+.5*i*h*h,o=this.HZt*h+.5*e*h*h,a=oc.Sn(0,0,r,o);if(this.Y$t(r,o,a),this.U$t+=a,this.k$t&&(0!=r||0!=o)){const u=oc.bn(0,0,r,o);n.ZP(u),this.B$t=n.KP()}n.Bj()}}}Y$t(t,s,i){const e=this.m3();if(!this.F$t||i<=this.W$t)e.Yj(t,s),e.Bj(),this.F$t&&this.fj(oc.Dat.R$t.V9.J$t);else{this.Q$t=!1;const h=e.fT(),n=e.mT(),r=h+t,o=n+s,a=oc.bn(0,0,t,s),u=Math.cos(a)*this.W$t,l=Math.sin(a)*this.W$t,c=Math.floor(i/this.W$t);for(let t=1;t<=c;++t)if(e.Uj(h+u*t,n+l*t),e.Bj(),this.fj(oc.Dat.R$t.V9.J$t),this.Gi.WU()||this.Q$t)return;e.Uj(r,o),e.Bj(),this.fj(oc.Dat.R$t.V9.J$t)}}Bxt(){if(this.myt&&this.P$t&&(0!==this.VZt||0!==this.HZt)){const t=this.cf.wR(this.Gi),s=this.Gi.m3(),i=this.cf.CO(),e=i.u4(this.Gi);if(e){i.DNt(this.Gi,e);const h=oc.Sn(0,0,this.VZt,this.HZt),n=i.qNt(this.Gi,this.j$t,this.z$t);this.VZt=Math.cos(n)*h,this.HZt=Math.sin(n)*h,s.Yj(this.VZt*t,this.HZt*t),s.Bj(),this.k$t&&(s.ZP(n),this.B$t=s.KP(),s.Bj()),i.YNt(this.Gi,this.VZt/h,this.HZt/h,Math.max(2.5*h*t,30))||i.HNt(this.Gi,100)}}}vnt(t){switch(t){case 0:return this.gKt();case 1:return this.nKt();case 2:return this.V$t();case 4:return this.k$t;case 5:return this.F$t;case 6:return this.lbt()}}Ent(t,s){switch(t){case 0:this.mKt(s);break;case 1:this.XZt=s;break;case 2:this.Ho=s;break;case 4:this.k$t=!!s;break;case 5:this.F$t=!!s;break;case 6:this.abt(!!s)}}mKt(t){const s=oc.bn(0,0,this.VZt,this.HZt);this.VZt=Math.cos(s)*t,this.HZt=Math.sin(s)*t}gKt(){return oc.jn(oc.Sn(0,0,this.VZt,this.HZt),6)}uKt(t){this.XZt=t}nKt(){return this.XZt}H$t(t){this.Ho=t}V$t(){return this.Ho}q$t(t){const s=oc.Sn(0,0,this.VZt,this.HZt);this.VZt=Math.cos(t)*s,this.HZt=Math.sin(t)*s}X$t(){return oc.bn(0,0,this.VZt,this.HZt)}Z$t(t){this.P$t!==(t=!!t)&&(this.P$t=t,this.myt)&&(this.P$t?this.Uxt():this.Fxt())}K$t(){return this.P$t}$$t(t){this.U$t=t}tts(){return this.U$t}abt(t){this.myt=!!t,this.myt?(this.Pvt(),this.P$t&&this.Uxt()):(this.Svt(),this.Fxt())}lbt(){return this.myt}zvt(){const t="behaviors.bullet";return[{title:"$"+this.Tz().tf(),properties:[{name:t+".debugger.vector-x",value:this.VZt,VUt:t=>this.VZt=t},{name:t+".debugger.vector-y",value:this.HZt,VUt:t=>this.HZt=t},{name:t+".properties.speed.name",value:this.gKt(),VUt:t=>this.mKt(t)},{name:t+".debugger.angle-of-motion",value:oc.wn(this.X$t())},{name:t+".properties.gravity.name",value:this.V$t(),VUt:t=>this.H$t(t)},{name:t+".properties.acceleration.name",value:this.nKt(),VUt:t=>this.uKt(t)},{name:t+".debugger.distance-travelled",value:this.tts()},{name:t+".properties.enabled.name",value:this.lbt(),VUt:t=>this.abt(t)}]}]}K2t(){return self.sts}},new WeakMap);self.sts=class extends uc{constructor(){super(),lc.set(this,uc.AF().cz())}get speed(){return lc.get(this).gKt()}set speed(t){ac.xe(t),lc.get(this).mKt(t)}get acceleration(){return lc.get(this).nKt()}set acceleration(t){ac.xe(t),lc.get(this).uKt(t)}get j7t(){return lc.get(this).V$t()}set j7t(t){ac.xe(t),lc.get(this).H$t(t)}get its(){return lc.get(this).X$t()}set its(t){ac.xe(t),lc.get(this).q$t(t)}get ets(){return lc.get(this).K$t()}set ets(t){lc.get(this).Z$t(!!t)}get hts(){return lc.get(this).tts()}set hts(t){ac.xe(t),lc.get(this).$$t(t)}get isEnabled(){return lc.get(this).lbt()}set isEnabled(t){lc.get(this).abt(t)}}}{const cc=self.js;cc.Dat.R$t.V9={jKt(t,s){const i=Math.hypot(this.VZt,this.HZt);return cc.compare(i,t,s)},nts(t,s){return cc.compare(this.tts(),t,s)},J$t(){return!0},Kl(){return this.lbt()}}}{const fc=self.js;fc.Dat.R$t.jht={WKt(t){this.mKt(t)},EHt(t){this.uKt(t)},AHt(t){this.H$t(t)},A$t(t){this.q$t(fc.Mn(t))},dL(t){if(t){const s=t.GTt(this.Gi);if(s){const i=this.Gi.m3(),e=this.cf.CO(),h=this.cf.wR(this.Gi),n=fc.Sn(0,0,this.VZt,this.HZt),r=e.qNt(this.Gi,this.j$t,this.z$t,s);this.VZt=Math.cos(r)*n,this.HZt=Math.sin(r)*n,i.Yj(this.VZt*h,this.HZt*h),i.Bj(),this.k$t&&(i.ZP(r),this.B$t=i.KP(),i.Bj()),0!==n&&(this.P$t?e.YNt(this.Gi,this.VZt/n,this.HZt/n,Math.max(2.5*n*h,30))||e.HNt(this.Gi,100):e.QNt(this.Gi,this.VZt/n,this.HZt/n,Math.max(2.5*n*h,30),s))}}},rts(t){this.Z$t(t)},ots(t){this.$$t(t)},o2t(t){this.abt(t)},L$t(){this.Q$t=!0}}}{const dc=self.js;dc.Dat.R$t.zht={ZKt(){return this.gKt()},$Kt(){return this.nKt()},ats(){return dc.wn(this.X$t())},uts(){return this.tts()},g9t(){return this.V$t()}}}{let t=function(t,s){return"number"==typeof t&&"number"==typeof s},e=function(i,e){if("string"!=typeof i&&"string"!=typeof e)return i&&e?1:0;{let t,s;return t="number"==typeof i?(Math.round(1e10*i)/1e10).toString():i,s="number"==typeof e?(Math.round(1e10*e)/1e10).toString():e,t+s}};t,e,0;const pc=self.js;self.AMt=[()=>"Main Menu",t=>{const s=t.zMt(0);return()=>s.gMt()},t=>{const s=t.zMt(0).EMt();return()=>s.uet()/1.07},t=>{const s=t.zMt(0).EMt();return()=>s.uet()},()=>2,()=>"Classic",()=>"Chaos",()=>"Keyboard",t=>{const s=t.zMt(0).EMt();return()=>s.uet()/8},t=>{const s=t.zMt(0).EMt();return()=>250/s.uet()},t=>{const s=t.zMt(0).EMt();return()=>(s.uet()+10)/1.15},t=>{const s=t.zMt(0).rMt();return()=>s(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17)},t=>{const s=t.zMt(0).rMt();return()=>s(0,100)},()=>0,()=>"",()=>64,()=>1,t=>{const s=t.zMt(0);return()=>s.MMt()},()=>10,()=>.4,()=>-10,()=>-20,()=>"Hit",t=>{const s=t.zMt(0),i=t.zMt(1),e=t.zMt(2),h=t.zMt(3);return()=>s.xMt()+Math.cos(pc.Mn(i.fMt()))*(e.xMt()/h.MMt())},t=>{const s=t.zMt(0),i=t.zMt(1),e=t.zMt(2),h=t.zMt(3);return()=>s.xMt()+Math.sin(pc.Mn(i.fMt()))*(e.xMt()/h.MMt())},t=>{const s=t.zMt(0).EMt();return()=>e("Score: ",s.uet())},()=>20,()=>.15,t=>{const s=t.zMt(0).rMt(),i=t.zMt(1).rMt(),e=t.zMt(2).rMt(),h=t.zMt(3),n=t.zMt(4);return()=>s(2*pc.Sn(i(),e(),h.fMt(),n.fMt()),100)},t=>{const s=t.zMt(0),i=t.zMt(1),e=t.zMt(2).rMt(),h=t.zMt(3).rMt(),n=t.zMt(4).rMt();return()=>pc.wn(pc.bn(s.fMt(),i.fMt(),e(),h()))+n(-7,7)},t=>{const s=t.zMt(0);return()=>s.fMt()},()=>24,t=>{const s=t.zMt(0),i=t.zMt(1),e=t.zMt(2),h=t.zMt(3),n=t.zMt(4).EMt();return()=>Math.cos(pc.Mn(pc.wn(pc.bn(s.fMt(),i.fMt(),e.fMt(),h.fMt()))))*n.uet()*1.3},t=>{const s=t.zMt(0),i=t.zMt(1),e=t.zMt(2),h=t.zMt(3),n=t.zMt(4).EMt();return()=>Math.sin(pc.Mn(pc.wn(pc.bn(s.fMt(),i.fMt(),e.fMt(),h.fMt()))))*n.uet()*1.3},()=>4,()=>8,()=>30,()=>18,()=>70,()=>.2,t=>{const s=t.zMt(0),i=t.zMt(1),e=t.zMt(2).rMt(),h=t.zMt(3).rMt();return()=>pc.wn(pc.bn(s.fMt(),i.fMt(),e(),h()))},t=>{const s=t.zMt(0),i=t.zMt(1),e=t.zMt(2),h=t.zMt(3),n=t.zMt(4).EMt();return()=>Math.cos(pc.Mn(pc.wn(pc.bn(s.fMt(),i.fMt(),e.fMt(),h.fMt()))))*n.uet()},t=>{const s=t.zMt(0),i=t.zMt(1),e=t.zMt(2),h=t.zMt(3),n=t.zMt(4).EMt();return()=>Math.sin(pc.Mn(pc.wn(pc.bn(s.fMt(),i.fMt(),e.fMt(),h.fMt()))))*n.uet()},()=>5,()=>9,()=>25,()=>"ClassicH",t=>{const s=t.zMt(0).rMt();return()=>s()},()=>"ChaosH",t=>{const s=t.zMt(0).EMt();return()=>s.uet().toString()},t=>{const s=t.zMt(0).EMt(),i=t.zMt(1).EMt();return()=>e("High Score ("+s.uet()+"): ",i.uet())}]}var t=self.js;self.ikt=function(){return[t.q9.hUt,t.q9.Text,t.q9.Keyboard,t.q9.fYt,t.q9.bht,t.Dat.kZt,t.Dat.wrap,t.Dat.LF,t.q9.f8t,t.q9.eHt,t.Dat.n$t,t.q9.Audio,t.Dat.w$t,t.Dat.R$t,t.q9.H9.V9.spt,t.q9.fYt.V9.XYt,t.q9.H9.V9.Wjt,t.q9.H9.jht.p5t,t.q9.H9.jht.y5t,t.q9.H9.V9.Njt,t.q9.Text.jht.AA,t.q9.H9.V9.Ujt,t.q9.H9.jht.z5t,t.q9.H9.V9.J9,t.q9.H9.jht.S5t,t.q9.f8t.jht.X8t,t.q9.H9.jht.ipt,t.q9.Keyboard.V9.QQt,t.Dat.kZt.jht.JKt,t.q9.H9.V9.Ojt,t.q9.H9.jht.g5t,t.q9.H9.jht.m5t,t.q9.H9.zht.hMt,t.q9.H9.zht.random,t.q9.bht.V9.cbt,t.q9.bht.jht.JVt,t.q9.bht.jht.KC,t.q9.H9.V9.jmt,t.q9.bht.V9.RTt,t.q9.bht.jht.Tbt,t.q9.bht.jht.Gbt,t.q9.bht.jht.GVt,t.Dat.n$t.jht.M$t,t.q9.Audio.jht.Play,t.Dat.w$t.jht.WKt,t.Dat.w$t.zht.dx,t.q9.bht.zht.$bt,t.Dat.R$t.zht.ZKt,t.Dat.w$t.zht.dy,t.q9.Text.jht.mf,t.q9.H9.jht.Rr,t.q9.fYt.V9.hJt,t.Dat.R$t.jht.WKt,t.q9.H9.zht.max,t.q9.fYt.zht.Bbt,t.q9.fYt.zht.Ubt,t.q9.bht.zht.Bbt,t.q9.bht.zht.Ubt,t.q9.bht.jht.ZP,t.Dat.R$t.jht.A$t,t.q9.bht.jht.vTt,t.q9.bht.V9.bbt,t.Dat.w$t.jht.o2t,t.q9.bht.jht.xbt,t.q9.f8t.jht.Y8t,t.q9.f8t.V9._8t,t.q9.f8t.zht.K8t,t.q9.f8t.jht.W8t,t.q9.Text.jht.yQt]},self.wkt=[{lts:0},{cts:0},{fts:0},{dts:0},{Keyboard:0},{fYt:0},{"8Direction":0},{pts:0},{gts:0},{yts:0},{Mts:0},{wts:0},{Sts:0},{Tts:0},{bts:0},{R$t:0},{vts:0},{f8t:0},{xts:0},{Its:0},{Gts:0},{Cts:0},{_ts:0},{Audio:0},{Ets:0},{Ats:0},{Dts:0},{Nts:0},{Lts:0},{Ots:0},{Rts:0},{Pts:0},{kts:0},{Fts:0},{jts:0},{zts:0},{Bts:0},{Uts:0},{Wts:0},{Qts:0},{Yts:0},{Jts:0},{Vts:0},{Hts:0},{qts:0}],self.Xts={lts:class extends self.HUt{},cts:class extends self.$Wt{},dts:class extends self.$Wt{},Keyboard:class extends self.IF{},fYt:class extends self.IF{},gts:class extends self.AVt{},wts:class extends self.AVt{},Tts:class extends self.AVt{},R$t:class extends self.AVt{},vts:class extends self.AVt{},f8t:class extends self.IF{},xts:class extends self.C7t{},Its:class extends self.$Wt{},Gts:class extends self.$Wt{},_ts:class extends self.AVt{},Audio:class extends self.IF{},Ets:class extends self.AVt{},Ats:class extends self.AVt{},Dts:class extends self.$Wt{},Nts:class extends self.$Wt{},Lts:class extends self.$Wt{},Rts:class extends self.AVt{},Pts:class extends self.AVt{}};